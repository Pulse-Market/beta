{"version":3,"sources":["containers/Footer/Footer.module.scss","components/Tag/Tag.module.scss","components/Overview/Overview.module.scss","containers/TokenSwapper/TokenSwapper.module.scss","pages/MarketPage/MarketPage.module.scss","compositions/Dialog/Dialog.module.scss","containers/WrapNearDialog/WrapNearDialog.module.scss","components/MarketInfoCard/MarketInfoCard.module.scss","containers/AddableInputs/AddableInputs.module.scss","pages/ProfilePage/ProfilePage.module.scss","containers/Page/Page.module.scss","compositions/MarketOpinionCard/components/ScalarOpinionCard/ScalarOpinionCard.module.scss","containers/HomeHeader/HomeHeader.module.scss","containers/TokenSwapper/TokenSwapperLoader.module.scss","containers/SeedPool/SeedPool.module.scss","containers/SeedScalarMarket/SeedScalarMarket.module.scss","containers/TabBar/TabBar.module.scss","components/Button/Button.module.scss","components/DarkmodeButton/DarkmodeButton.module.scss","containers/LabeledTokenSelect/LabeledTokenSelect.module.scss","containers/DisclaimerDialog/DisclaimerDialog.module.scss","pages/HomePage/HomePage.module.scss","containers/MarketHeader/MarketHeaderLoader.module.scss","containers/TabbedViews/TabbedViews.module.scss","containers/NoWrappedNearCard/NoWrappedNearCard.module.scss","components/Token/Token.module.scss","compositions/MarketCard/MarketCard.module.scss","components/TokenWeightsBar/TokenWeightsBar.module.scss","components/Select/Select.module.scss","components/ToggleButtons/ToggleButtons.module.scss","containers/MarketResolutionInfo/MarketResolutionInfo.module.scss","containers/MarketStatistics/MarketStatistics.module.scss","containers/LiquidityProvider/LiquidityProvider.module.scss","containers/ClaimEarnings/ClaimEarnings.module.scss","containers/ExitPool/ExitPool.module.scss","components/BackgroundWave/BackgroundWave.module.scss","containers/Menu/components/AccountButton/AccountButton.module.scss","components/Error/Error.module.scss","components/IconButton/IconButton.module.scss","components/TextButton/TextButton.module.scss","components/NonLinkButton/NonLinkButton.module.scss","compositions/MarketOpinionCard/MarketOpinionCard.module.scss","components/DateTimePicker/DateTimePicker.module.scss","components/Label/Label.module.scss","components/TextInput/TextInput.module.scss","containers/MarketResolutionInfo/MarketResolutionInfoLoader.module.scss","components/ActionsCard/ActionCard.module.scss","containers/ClaimEarnings/components/FinalizedMarketOutcomes/FinalizedMarketOutcomes.module.scss","containers/NotLoggedIn/NotLoggedIn.module.scss","containers/Redeem/Redeem.module.scss","containers/MarketCreationDialog/MarketCreationDialog.module.scss","containers/UserBalancesOverview/UserBalancesOverview.module.scss","components/BackgroundWave/BackgroundWave.tsx","containers/TabBar/TabBar.tsx","containers/Footer/Footer.tsx","assets/images/icons/twitter_logo.png","assets/images/icons/telegram_logo.png","components/Button/Button.tsx","translation/trans.ts","models/FetchResult.ts","config.ts","utils/cache.ts","services/TokenPriceService.ts","services/WalletService.ts","assets/images/icons/wrapped-near.svg","assets/images/icons/banana-token.svg","services/CollateralTokenService.ts","utils/hooks/useInterval.ts","utils/darkmode.ts","components/DarkmodeButton/DarkmodeButton.tsx","containers/Menu/components/AccountButton/AccountButton.tsx","containers/Menu/Menu.tsx","redux/account/account.ts","models/PoolToken.ts","models/UserBalance.ts","services/GraphQLService.ts","models/EscrowStatus.ts","services/AccountService.ts","assets/images/icons/near-icon.png","services/contracts/WrappedNearContract.ts","services/NearService.ts","redux/account/accountActions.ts","redux/dialogs/dialogs.ts","connectors/MenuConnector/MenuConnector.tsx","components/Error/Error.tsx","components/IconButton/IconButton.tsx","compositions/Dialog/Dialog.tsx","assets/images/icons/swap.svg","components/TextButton/TextButton.tsx","models/Market.ts","models/PoolBalance.ts","models/Claim.ts","services/contracts/ProtocolContract.ts","services/MarketService.ts","utils/getColorForOutcome.ts","models/TokenViewModel.ts","utils/emojiSlice.ts","components/Token/Token.tsx","components/NonLinkButton/NonLinkButton.tsx","containers/TokenSelect/components/TokenDropdown/TokenDropdown.tsx","containers/TokenSelect/TokenSelect.tsx","containers/LabeledTokenSelect/LabeledTokenSelect.tsx","containers/WrapNearDialog/WrapNearDialog.tsx","containers/WrapNearDialog/utils/createDefaultWrapNearFormValues.ts","containers/WrapNearDialog/utils/validateWrapNearFormValues.ts","connectors/WrapNearDialogConnector/WrapNearDialogConnector.tsx","containers/DisclaimerDialog/DisclaimerDialog.tsx","connectors/DisclaimerDialogConnector/DisclaimerDialogConnector.tsx","containers/Page/Page.tsx","utils/calcDistributionHint.ts","services/contracts/TokenContract.ts","services/PoolService.ts","redux/market/market.ts","assets/images/circle-crypto.png","assets/images/card-crypto.png","assets/images/icons/icon-crypto.png","assets/images/circle-esports.png","assets/images/card-esports.png","assets/images/icons/icon-esports.png","assets/images/circle-meme.png","assets/images/card-meme.png","assets/images/icons/icon-meme.png","assets/images/circle-politics.png","assets/images/card-politics.png","assets/images/icons/icon-politics.png","assets/images/circle-sports.png","assets/images/card-sports.png","assets/images/icons/icon-sports.png","assets/images/circle-startups.png","assets/images/card-startups.png","assets/images/icons/icon-startups.png","assets/images/circle-stocks.png","assets/images/card-stockmarket.png","assets/images/icons/icon-stockmarket.png","assets/images/circle-viral.png","assets/images/card-viral.png","assets/images/icons/icon-viral.png","assets/images/card-beer.png","assets/images/circle-beer.png","assets/images/icons/icon-beer.svg","utils/getCategoryInfo.ts","components/Tag/Tag.tsx","components/MarketInfoCard/MarketInfoCard.tsx","components/TokenWeightsBar/TokenWeightsBar.tsx","utils/prettyFormatNumber.ts","compositions/MarketOpinionCard/components/CategoricalOpinionCard/CategoricalOpinionCard.tsx","compositions/MarketOpinionCard/components/ScalarOpinionCard/ScalarOpinionCard.tsx","compositions/MarketOpinionCard/MarketOpinionCard.tsx","compositions/MarketCard/MarketCard.tsx","containers/MarketOverview/MarketOverview.tsx","connectors/MarketOverviewConnector/MarketOverviewConnector.tsx","connectors/FinalizedMarketsOverviewConnector/FinalizedMarketsOverviewConnector.tsx","redux/market/marketActions.ts","pages/HomePage/sub-pages/ResolutionPage/ResolutionPage.tsx","connectors/TradeableMarketsOverviewConnector/TradeableMarketsOverviewConnector.tsx","pages/HomePage/sub-pages/MarketsOverviewPage/MarketsOverviewPage.tsx","components/DateTimePicker/DateTimePicker.tsx","components/Label/Label.tsx","components/TextInput/TextInput.tsx","containers/AddableInputs/AddableInputs.tsx","components/Select/Select.tsx","components/ToggleButtons/ToggleButtons.tsx","containers/MarketCreationDialog/MarketCreationDialog.tsx","containers/MarketCreationDialog/utils/createDefaultMarketFormValues.ts","containers/MarketCreationDialog/utils/validateMarketFormValues.ts","connectors/MarketCreationDialogConnector/MarketCreationDialogConnector.tsx","containers/HomeHeader/HomeHeader.tsx","connectors/HomeHeaderConnector/HomeHeaderConnector.tsx","connectors/PendingMarketsOverviewConnector/PendingMarketsOverviewConnector.tsx","pages/HomePage/sub-pages/PendingPage/PendingPage.tsx","containers/MarketHeader/MarketHeader.tsx","containers/MarketHeader/MarketHeaderLoader.tsx","connectors/MarketHeaderConnector/MarketHeaderConnector.tsx","containers/MarketResolutionInfo/MarketResolutionInfo.tsx","containers/MarketResolutionInfo/MarketResolutionInfoLoader.tsx","connectors/MarketResolutionInfoConnector/MarketResolutionInfoConnector.tsx","utils/getCssVariableValue.ts","containers/LineChart/utils/generateLineChart.ts","containers/LineChart/LineChart.tsx","services/PricesHistoryService.ts","containers/MarketStatistics/MarketStatistics.tsx","redux/priceHistory/priceHistory.ts","redux/priceHistory/priceHistoryActions.ts","connectors/MarketStatisticsConnector/MarketStatisticsConnector.tsx","utils/hooks/usePrevious.ts","services/PriceService.ts","components/Overview/Overview.tsx","containers/TokenSwapper/components/SwapOverview/SwapOverview.tsx","containers/TokenSwapper/components/SwapOverview/utils/overviewMutation.ts","utils/calcBuyAmountInShares.ts","containers/TokenSwapper/utils/formValuesMutation.ts","utils/calcSellAmountOut.ts","containers/TokenSwapper/utils/validateSwapFormValues.ts","containers/TokenSwapper/TokenSwapper.tsx","containers/TokenSwapper/utils/createDefaultSwapFormValues.ts","containers/TokenSwapper/TokenSwapperLoader.tsx","connectors/TokenSwapperConnector/TokenSwapperConnector.tsx","components/ActionsCard/ActionsCard.tsx","containers/TabbedViews/TabbedViews.tsx","containers/LiquidityProvider/components/LiquidityOverview/LiquidityOverview.tsx","containers/LiquidityProvider/LiquidityProvider.tsx","containers/LiquidityProvider/services/validateLiquidityProviderFormValues.ts","connectors/LiquidityProviderConnector/LiquidityProviderConnector.tsx","containers/ClaimEarnings/components/FinalizedMarketOutcomes/FinalizedMarketOutcomes.tsx","containers/ClaimEarnings/ClaimEarnings.tsx","containers/ClaimEarnings/services/calculatePayout.ts","connectors/ClaimEarningsConnector/ClaimEarningsConnector.tsx","containers/SeedPool/SeedPool.tsx","containers/SeedPool/services/createDefaultSeedPoolFormValues.ts","containers/SeedPool/services/validateSeedPool.ts","connectors/SeedPoolConnector/SeedPoolConnector.tsx","containers/MarketClosed/MarketClosed.tsx","containers/ExitPool/components/ExitOverview/ExitOverview.tsx","containers/ExitPool/ExitPool.tsx","containers/ExitPool/services/createDefaultExitPoolFormValues.ts","containers/ExitPool/services/validateExitPool.ts","connectors/ExitPoolConnector/ExitPoolConnector.tsx","containers/NotLoggedIn/NotLoggedIn.tsx","connectors/NotLoggedInConnector/NotLoggedInConnector.tsx","containers/NoWrappedNearCard/NoWrappedNearCard.tsx","connectors/NoWrappedNearCardConnector/NoWrappedNearCardConnector.tsx","containers/Redeem/components/RedeemOverview/RedeemOverview.tsx","containers/Redeem/Redeem.tsx","connectors/RedeemConnector/RedeemConnector.tsx","containers/NotInWhitelistCard/NotInWhitelistCard.tsx","compositions/LabeledTextInput/LabeledTextInput.tsx","containers/SeedScalarMarket/SeedScalarMarket.tsx","containers/SeedScalarMarket/utils/createDefaultSeedScalarFormValues.ts","containers/SeedScalarMarket/utils/validateSeedScalarMarket.ts","connectors/SeedScalarMarketConnector/SeedScalarMarketConnector.tsx","containers/EscrowStatusOverview/EscrowStatusOverview.tsx","connectors/EscrowOverviewConnector/EscrowOverviewConnector.tsx","containers/FeesEarnedOverview/FeesEarnedOverview.tsx","connectors/FeesEarnedOverviewConnector/FeesEarnedOverviewConnector.tsx","containers/UserBalancesOverview/UserBalancesOverview.tsx","connectors/UserBalancesOverviewConnector/UserBalancesOverviewConnector.tsx","routes.ts","pages/MarketPage/MarketPage.tsx","utils/hooks/useDisqus.ts","pages/ProfilePage/ProfilePage.tsx","pages/HomePage/HomePage.tsx","App.tsx","redux/pools/pools.ts","redux/reducers.ts","redux/store.ts","index.tsx","containers/MarketHeader/MarketHeader.module.scss","containers/TokenSelect/TokenSelect.module.scss","containers/EscrowStatusOverview/EscrowStatusOverview.module.scss","containers/FeesEarnedOverview/FeesEarnedOverview.module.scss","containers/Menu/Menu.module.scss","containers/TokenSelect/components/TokenDropdown/TokenDropdown.module.scss","compositions/MarketOpinionCard/components/CategoricalOpinionCard/CategoricalOpinionCard.module.scss","containers/MarketOverview/MarketOverview.module.scss"],"names":["module","exports","BackgroundWave","className","s","TabBar","items","onTabClick","activeId","variant","tabClassName","Tabs","classes","indicator","classnames","root","value","filter","tab","show","map","Tab","onClick","label","id","Footer","wrapper","logo","socials","href","social","rel","target","src","alt","Button","children","props","classname","button","trans","key","attributes","uppercaseFirstLetter","result","translations","text","resultWithAttributes","options","replace","word","undefined","replaceAttributes","charAt","toUpperCase","substring","FetchResultType","API_URL","process","NULL_CONTRACT","COINGECKO_API_URL","PROTOCOL_ACCOUNT_ID","WRAPPED_NEAR_ACCOUNT_ID","MAX_GAS","BN","STORAGE_DEFAULT","STORAGE_BASE","BUY","NETWORK","DEFAULT_LIMIT","isFetchResultSuccesful","type","Success","Big","PE","cacheStorage","Map","creationPromises","cache","createCallback","a","item","get","onGoingRequest","createRequest","set","createdItem","delete","getTokenPriceByTicker","ticker","currency","fetch","response","json","data","market_data","current_price","status","console","error","Error","sdkInstance","FluxSdk","network","protocolContractId","nullContractId","graphApiUrl","connectSdk","connect","connectWallet","sdk","walletConnection","formatCollateralToken","amount","decimals","dp","denominator","pow","div","toFixed","toCollateralToken","mul","getCollateralTokenBalance","tokenAccountId","accountId","getTokenBalance","balance","getCollateralTokenPrice","getTokenImageByCollateralAccountId","collateralTokenId","wrappedNearIcon","bananaTokenIcon","createDefaultTokenMetadata","name","reference","symbol","version","tokenImage","getCollateralTokenMetadata","defaultMetadata","getTokenMetadata","metadata","useInterval","callback","delay","savedCallbackRef","useRef","useEffect","current","intervalId","setInterval","clearInterval","darkmodeStorageLabel","themeAttribute","modeChangeListener","getStoredDarkmode","localStorage","getItem","checkIfDarkmodeIsActive","darkmodeInDocumentTheme","document","documentElement","getAttribute","darkmodeInStorage","canDetectPreference","Boolean","window","matchMedia","userPrefersDark","matches","userPrefersLight","userHasPreference","userThemePreference","setDarkmode","state","darkmodeIsStored","storedDarkmodeSetting","siteTheme","setAttribute","useDarkmode","useState","active","setActive","newActive","DarkmodeButton","isDarkmodeActive","handleButtonClick","useCallback","setItem","String","IconButton","aria-label","icon","AccountButton","account","iconButton","Menu","onLoginClick","onLogoutClick","onProfileClick","onWrapNearClick","wrappedNear","menuAnchorEl","setMenuAnchorEl","handleMenuClose","handleWrapNearClick","menu","menu__items","menu__item","to","menu__logoWrapper","menu__logo","accountName","divider","wNearBalance","utils","formatToken","tokenSymbol","event","currentTarget","anchorEl","keepMounted","open","onClose","disabled","accountSlice","createSlice","initialState","loading","poolTokenLoading","poolTokens","errors","balances","escrowStatus","reducers","setAccount","action","payload","setNearToken","nearToken","setWrappedNearToken","wrappedNearToken","setRequiredWrappedNearDeposit","requiredWrappedNearDeposit","setAccountPoolTokens","setAccountLoading","setAccountPoolTokenLoading","setAccountBalances","setEscrowStatus","setAccountErrors","actions","transformToPoolToken","graphData","collateralTokenMetadata","balanceFormatted","fees","marketDescription","market","description","marketId","poolId","outcomeId","collateralTokenDecimals","getMarketStatus","endTime","Date","parseInt","end_time","now","finalized","payout_numerator","getTime","transformToUserBalance","isScalar","is_scalar","outcomeTag","outcome_tags","outcome_id","spent","pool_id","marketStatus","outcomePrice","pool","pool_balances","find","pb","price","payoutNumerator","InMemoryCache","link","createHttpLink","uri","graphqlClient","ApolloClient","defaultOptions","watchQuery","fetchPolicy","transformEscrowStatusViewModel","escrowStatusResponse","d","collateral_token_id","collateralTokenMetaData","push","totalAmount","total_amount","collateralToken","signUserIn","signIn","getAccountInfo","isSignedIn","canUseApp","getAccountId","auth","isAuthenticated","getNearBalance","available","fetchEscrowStatus","getEscrowStatus","signUserOut","signOut","getAccountBalancesInfo","query","gql","variables","accountBalances","allCollateralTokenIds","earned_fees","Promise","all","tokensMetadata","tokenMetadata","marketBalances","getBalancesForMarketByAccount","colletaralTokenIds","x","getPoolBalanceForMarketByAccount","length","WrappedNearContract","contract","this","Contract","changeMethods","viewMethods","amountIn","near_deposit","near_withdraw","account_id","storage_deposit","storage_balance_of","ft_balance_of","storage_minimum_balance","createWrappedNearContract","wallet","getNearToken","defaults","isCollateralToken","odds","NaN","poolBalance","poolWeight","tokenName","priceSymbol","priceSymbolPosition","weight","nearIcon","bound","colorVar","getWrappedNearToken","wNearContract","getBalance","wrapNear","unwrapNear","getWrappedNearStorageBalance","total","getStorageBalance","getRequiredWrappedNearStorageDeposit","getMinimumRequiredStorageBalance","depositStorage","dispatch","dialogsSlice","isMarketCreationOpen","isWrappingNearOpen","setMarketCreationDialogOpen","setWrappingNearDialogOpen","MenuConnector","useDispatch","history","useHistory","accountInfo","useSelector","store","handleLoginClick","handleLogoutClick","handleProfileClick","routePaths","profile","Dialog","title","onRequestClose","onSubmitClick","canSubmit","hideButtons","paperClassName","paper","DialogTitle","DialogContent","content","DialogActions","cancelButton","confirmButton","TextButton","MarketCategory","MarketType","transformToPoolBalanceViewModel","outcomeTags","outcomeLabel","sort","b","tag","index","transformToClaimViewModel","payout","payoutFormatted","transformToMarketViewModel","graphResponse","userBalances","tokensInfo","tokens_info","poolTokenInfo","info","is_pool_token","marketType","Scalar","Categorical","category","categories","creationDate","creation_date","Number","extraInfo","extra_info","owner","resolutionDate","volume","invalid","claim","claimed_earnings","outcomeTokens","transformToTokenViewModels","totalSupply","total_supply","protocolInstance","ProtocolContract","outcomes","endDate","swapFee","storageRequired","create_market","toString","swap_fee","totalIn","exit_pool","market_id","total_in","values","sell","collateral_out","amountOut","outcome_target","fromToken","max_shares_in","add","claim_earnings","createProtocolContract","createOutcomes","lowerBound","upperBound","createMarket","protocol","getMarketById","transformToMainTokenViewModel","getMarkets","filters","expired","limit","offset","marketsPromises","getMarketOutcomeTokens","claimEarnings","formatResolutionDate","format","isEligibleForRedeeming","tokens","some","token","toBurn","burnOutcomeTokensRedeemCollateral","getTokenWhiteListWithDefaultMetadata","getTokenWhitelist","whitelist","tokenId","getScalarBounds","bounds","sortedBounds","sortBig","getScalarLongShortTokens","t","longToken","eq","shortToken","COLORS","getColorForOutcome","generateTokenName","str","start","end","splitted","split","match","slice","join","tags","poolBalanceData","poolBalances","outcome","userBalance","scalarName","collateralTokenAccountId","fetchPrice","metadataRequest","Token","style","backgroundColor","NonLinkButton","TokenDropdown","onTokenClick","TokenSelect","selectedToken","onTokenSwitch","newPrice","onValueChange","showPrice","placeholder","disabledInput","isDropdownOpen","setDropdownOpen","handleChangePairClick","handleTokenClick","priceClassName","priceChangeWrapper","changePairButton","onChange","e","LabeledTokenSelect","onBalanceClick","tokenHeader","noMargin","balanceButton","WrapNearDialog","onRequestSwitchPairs","onSubmit","input","output","requiredDeposit","onDepositClick","amountInFormatted","formValues","setFormValues","inputToken","lte","gt","validateWrapNearFormValues","v","toToken","switchTokens","wrapType","swap","depositButtons","depositCancelButton","WrapNearDialogConnector","switched","setSwitched","isDialogOpen","dialogs","handleRequestCloseDialog","nearTokenRequest","wrappedNeartokenRequest","handleRequestSwitchPairs","handleSubmit","handleDepositClick","depositWrappedNearStorage","DisclaimerDialog","dialog","DISCLAIMER_STORAGE_KEY","DisclaimerDialogConnector","setOpen","handleClose","Page","hasNavigation","hasFooter","size","bodyClassName","pageBodyClassName","styles","page__body","page","calcDistributionHint","initialOdds","initialOddsBig","product","reduce","o","round","TokenContract","register_account","msg","JSON","stringify","function","args","min_shares_out","sub","ft_transfer_call","receiver_id","weightIndication","weight_indication","tokenInstances","createTokenContract","instance","newInstance","seedPool","weights","outcomePercentages","p","addLiquidity","mainTokenInput","seedScalarMarket","weightsInPercentages","calcScalarDistributionPercentages","initialValue","exitPool","marketsSlice","marketLoading","editLoading","markets","pendingMarkets","resolutingMarkets","tokenWhitelist","setMarketErrors","marketError","setTokenWhitelist","setMarketLoading","setMarketEditLoading","setPendingMarkets","appendPendingMarkets","setMarkets","appendMarkets","setResolutingMarkets","appendResolutingMarkets","setMarketDetail","marketDetail","setMarketDetailTokens","setMarketPoolTokenBalance","poolTokenBalance","setMarketEscrowStatus","getCategoryInfo","Crypto","circleIcon","circleCrypto","cardIcon","cardCrypto","iconCrypto","color","Esports","circleEsports","cardEsports","iconEsports","Meme","circleMeme","cardMeme","iconMeme","Politics","circlePolitics","cardPolitics","iconPolitics","Sports","circleSports","cardSports","iconSports","Startups","circleStartups","cardStartups","iconStartups","Stocks","circleStocks","cardStocks","iconStocks","Viral","circleViral","cardViral","iconViral","Beer","circleBeer","cardBeer","iconBeer","Unknown","Tag","categoryInfo","rootClassName","MarketInfoCard","categoryTitle","bubble","resolutionInfo","TokenWeightsBar","width","prettyFormatNumber","num","CategoricalOpinionCard","colorLabel","percentage","toNumber","ScalarOpinionCard","scalarTokens","scalarValue","calcScalarValue","rangeWrapper","estimateWrapper","volumeWrapper","MarketOpinionCard","MarketCard","pathname","canGoBack","infoCard","MarketOverview","onFilterChange","onRequestMoreMarkets","activeFilters","hasMoreMarkets","marketCategories","useMemo","Object","includes","activeCategories","cat","handleCategoryClick","dataLength","next","hasMore","loader","Array","fill","_","Skeleton","height","skeleton","MarketOverviewConnector","rootPath","defaultMarketFilters","onRequestFetchMarkets","location","useLocation","setFilters","queryParams","URLSearchParams","search","newActiveFilters","getAll","newFilters","forEach","append","FinalizedMarketsOverviewConnector","handleFetchMarkets","fetchResolutingMarkets","resoluted","ResolutionPage","Helmet","appName","TradeableMarketsOverviewConnector","fetchMarkets","MarketsOverviewPage","DateTimePicker","helperText","inputVariant","ampm","Label","TextInput","multiline","required","TextField","AddableInputs","handleInputChange","inputs","number","removeIcon","splice","handleRemoveClick","addMoreButton","Select","select","MenuItem","ToggleButtons","exclusive","selectedClassName","buttonClassName","ToggleButtonGroup","selected","MarketCreationDialog","formRef","Binary","addDays","isCategoricalMarket","trim","validateMarketFormValues","ref","inputsWrapper","date","MarketCreationDialogConnector","metadataPromises","realMetadata","handleRequestClose","HomeHeader","onCreateMarketClick","titleWrapper","username","subTitle","HomeHeaderConnector","handleCreateMarketClick","PendingMarketsOverviewConnector","fetchPendingMarkets","pending","PendingPage","MarketHeader","onGoBackClick","headerItem","categoryTag","opinionCardWrapper","backgroundImage","MarketHeaderLoader","MarketHeaderConnector","handleGoBackClick","goBack","MarketResolutionInfo","MarketResolutionInfoLoader","MarketResolutionInfoConnector","getCssVariableValue","getComputedStyle","getPropertyValue","generateChartData","priceHistoryData","outcomeData","dataSets","scalarData","historyData","longPriceOutcome","dataPoints","borderWidth","borderColor","cubicInterpolationMode","generateScalarChartData","outcomePriceData","outcomeDataPoints","isArray","showLine","pointRadius","borderDash","hidden","pointHitRadius","pointHoverRadius","hideInLegendAndTooltip","labels","point","pointKey","datasets","LineChart","pricesHistory","canvas","chart","context","getContext","min","max","Chart","responsive","legend","display","animation","duration","elements","line","tension","tooltips","mode","intersect","scales","yAxes","gridLines","drawOnChartArea","drawTicks","ticks","fontColor","maxTicksLimit","stepSize","padding","xAxes","generateLineChart","update","Period","getAllHistoryMetric","diffDays","differenceInDays","getPricesHistoryByMarketId","period","chosenPeriondDate","metric","OneDay","OneWeek","ThreeWeeks","OneMonth","All","subDays","subWeeks","subMonths","beginTimestamp","dateMetric","MarketStatistics","onPeriodChange","timePeriodButtons","pricesHistorySlice","pricesLoading","setPriceHistoryErrors","pricesError","setPriceHistoryLoading","setPricesHistory","fetchPricesHistoryByMarketId","MarketStatisticsConnector","priceHistory","previousMarket","usePrevious","setPeriod","SwapType","Overview","header","i","getPricesAfterTrade","outcomeToken","Buy","newPoolBalances","computeBalanceAfterSharePurchase","calcPrice","computeBalanceAfterShareSale","SwapOverview","formattedFormValues","rateInOut","rateOutIn","feePaid","one","amountInBN","amountOutBN","feedAmount","mutateFormValues","divisor","profitPercentage","minus","overViewData","formattedAmountOut","avgPaidPrice","avgSellPrice","spendAtAvgSellPrice","spendAtAvgPaidPrice","escrowInvalid","formattedEscrowInvalid","formattedOutNow","ZERO","ceilDiv","mod","calcBuyAmountInShares","investmentAmount","outcomeIndex","fee","denomination","every","investmentAmountMinusFees","scale","Math","mulBN","newOutcomeBalance","accumulator","swapType","newPrices","formattedAmountIn","lt","buy","DEFAULT_FEE","sharesToSell","holdings","otherHoldings","r","newtonRaphson","R","firstTerm","h","secondTerm","plus","thirdTerm","maxIterations","calcSellAmountInCollateral","validateSwapFormValues","message","params","isTradePossible","TokenSwapper","outputs","onConfirm","mutation","newEstimate","receiveInputs","newEstimateWrapper","newEstimateText","TokenSwapperLoader","TokenSwapperConnector","getState","ActionsCard","TabbedView","setActiveId","availableItems","activeItem","itemIndex","findIndex","tabs","onChangeIndex","view","element","LiquidityOverview","maxBalance","collateralIn","lpTokensOut","prependData","LiquidityProvider","liquidityAmountIn","liquidityAmountInFormatted","canAddLiquidity","inputAmount","validateLiquidityProviderFormValues","tokenSelect","confirm","LiquidityProviderConnector","onJoinPool","joinPool","FinalizedMarketOutcomes","table","numerator","ClaimFees","poolToken","onClaim","poolTokenTotalSupply","claimable","escrowValidMarket","n","bal","ts","claimableThroughExit","calculatePayout","ClaimEarningsConnector","handleClaim","claimEarningsForMarket","SeedPool","mainToken","onSeedPool","mainTokenInputFormatted","canSeed","percentageRaw","hasOutcomeErrors","percentageTogether","prev","cur","validateSeedPool","inputWrapper","percentages","handlePercentageChange","InputProps","endAdornment","InputAdornment","position","adornement","SeedPoolConnector","handleSeedPool","MarketClosed","ExitOverview","relativeBal","tokenData","ExitPool","pooltoken","onExitPool","validateExitPool","ExitPoolConnector","handleExitPool","NotLoggedIn","NotLoggedInConnector","NoWrappedNearCard","onDialogOpenClick","actionsCard","NoWrappedNearCardConnector","handleOpenDialogClick","amountRedeemable","totalAvgPrice","sum","avgSpent","priceDelta","formattedToEscrow","toEscrow","Redeem","onRedeemClick","RedeemConnector","toRedeem","lowestBalance","getEligibleAmountForRedeeming","handleRedeemClick","NotInWhitelistCard","LabeledTextInput","SeedScalarMarket","calcMedian","createDefaultSeedScalarFormValues","validateSeedScalarMarket","settedValue","SeedScalarMarketConnector","seedScalarMarketAction","EscrowStatusOverview","tableWrapper","tableHead","tableHeadRow","tableRow","EscrowOwerviewConnector","FeesEarnedOverview","FeesEarnedOverviewConnector","UserBalancesOverview","currentPrice","profitLinkClassName","link__green","link__red","UserBalancesOverviewConnector","routes","component","useParams","identifier","disqus_config","url","NODE_ENV","DISQUS","reset","reload","config","useDisqus","hasMarketLiquidity","isExpired","canRedeem","escrowStatusRequest","details","infoWrapper","stats","actionsWrapper","comments","exact","inNavigation","path","accountBalancesInfo","pageBody","feesEarned","isLargeScreen","useMediaQuery","homePage","homePageBody","tabBar","App","listen","currentLocation","gtag","route","poolsSlice","poolLoading","pools","setPoolErrors","poolError","setPoolLoading","setPools","combineReducers","createEnhancer","REACT_APP_APP_ENV","composeWithDevTools","applyMiddleware","thunk","preloadedState","enhancer","createStore","configureStore","ReactDOM","render","basename","hashType","DateFnsUtils","StylesProvider","injectFirst","getElementById"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,KAAO,qBAAqB,QAAU,wBAAwB,KAAO,qBAAqB,OAAS,yB,oBCArHD,EAAOC,QAAU,CAAC,KAAO,kBAAkB,eAAe,0BAA0B,KAAO,kBAAkB,MAAQ,qB,oBCArHD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,oBAAsB,sCAAsC,qBAAqB,qCAAqC,qBAAqB,qCAAqC,OAAS,2B,oBCAjPD,EAAOC,QAAU,CAAC,gBAAgB,oCAAoC,yBAAyB,6CAA6C,+BAA+B,mDAAmD,YAAc,kCAAkC,cAAgB,oCAAoC,SAAW,+BAA+B,cAAgB,oCAAoC,mBAAqB,yCAAyC,gBAAkB,wC,oBCAhfD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,QAAU,4BAA4B,YAAc,gCAAgC,eAAiB,mCAAmC,MAAQ,0BAA0B,SAAW,+B,oBCAvOD,EAAOC,QAAU,CAAC,MAAQ,sBAAsB,MAAQ,sBAAsB,QAAU,wBAAwB,aAAe,6BAA6B,cAAgB,gC,oBCA5KD,EAAOC,QAAU,CAAC,aAAe,qCAAqC,MAAQ,8BAA8B,cAAgB,sCAAsC,YAAc,oCAAoC,SAAW,iCAAiC,eAAiB,uCAAuC,oBAAsB,8C,oBCA9UD,EAAOC,QAAU,CAAC,KAAO,6BAA6B,MAAQ,8BAA8B,OAAS,+BAA+B,eAAiB,uCAAuC,cAAgB,wC,oBCA5MD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,MAAQ,6BAA6B,OAAS,8BAA8B,QAAU,+BAA+B,WAAa,oC,oBCAzMD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,SAAW,8BAA8B,aAAe,kCAAkC,WAAa,kC,oBCA1JD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,WAAa,yBAAyB,oBAAoB,gCAAgC,2BAA2B,yC,oBCAjKD,EAAOC,QAAU,CAAC,MAAQ,iCAAiC,aAAe,wCAAwC,gBAAkB,2CAA2C,cAAgB,2C,oBCA/LD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,aAAe,iCAAiC,MAAQ,0BAA0B,SAAW,+B,oBCA/ID,EAAOC,QAAU,CAAC,SAAW,uC,oBCA7BD,EAAOC,QAAU,CAAC,aAAe,+BAA+B,cAAgB,gCAAgC,WAAa,6BAA6B,YAAc,8BAA8B,cAAgB,kC,oBCAtND,EAAOC,QAAU,CAAC,aAAe,uCAAuC,YAAc,sCAAsC,cAAgB,wCAAwC,OAAS,iCAAiC,cAAgB,0C,oBCA9OD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,IAAM,oBAAoB,UAAY,4B,oBCApFD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,eAAe,6BAA6B,mBAAmB,mC,oBCAjHD,EAAOC,QAAU,CAAC,KAAO,6BAA6B,KAAO,+B,oBCA7DD,EAAOC,QAAU,CAAC,YAAc,wCAAwC,cAAgB,4C,oBCAxFD,EAAOC,QAAU,CAAC,OAAS,iCAAiC,YAAc,sCAAsC,OAAS,mC,oBCAzHD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,aAAe,+BAA+B,OAAS,2B,oBCA/GD,EAAOC,QAAU,CAAC,KAAO,iCAAiC,QAAU,oCAAoC,SAAW,uC,oBCAnHD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,IAAM,yBAAyB,KAAO,4B,oBCAzFD,EAAOC,QAAU,CAAC,YAAc,uCAAuC,QAAU,mCAAmC,KAAO,kC,oBCA3HD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,WAAa,4B,oBCA5DD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,SAAW,+B,oBCA7DD,EAAOC,QAAU,CAAC,oBAAoB,2CAA2C,4BAA4B,qD,oBCA7GD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,uB,oBCAzDD,EAAOC,QAAU,CAAC,OAAS,8BAA8B,SAAW,kC,oBCApED,EAAOC,QAAU,CAAC,KAAO,mCAAmC,MAAQ,sC,oBCApED,EAAOC,QAAU,CAAC,kBAAoB,8C,oBCAtCD,EAAOC,QAAU,CAAC,QAAU,mCAAmC,YAAc,uCAAuC,OAAS,kCAAkC,cAAgB,2C,oBCA/KD,EAAOC,QAAU,CAAC,QAAU,+BAA+B,UAAY,mC,oBCAvED,EAAOC,QAAU,CAAC,QAAU,0BAA0B,YAAc,8BAA8B,OAAS,yBAAyB,cAAgB,kC,oBCApJD,EAAOC,QAAU,CAAC,kBAAkB,0C,23TCApCD,EAAOC,QAAU,CAAC,kBAAoB,yCAAyC,WAAa,oC,oBCA5FD,EAAOC,QAAU,CAAC,MAAQ,uB,oBCA1BD,EAAOC,QAAU,CAAC,cAAc,kC,oBCAhCD,EAAOC,QAAU,CAAC,KAAO,2B,oBCAzBD,EAAOC,QAAU,CAAC,kBAAkB,yC,oBCApCD,EAAOC,QAAU,CAAC,KAAO,kC,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,+B,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,sB,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,0B,oBCAzBD,EAAOC,QAAU,CAAC,SAAW,+C,oBCA7BD,EAAOC,QAAU,CAAC,KAAO,2B,oBCAzBD,EAAOC,QAAU,CAAC,MAAQ,yC,oBCA1BD,EAAOC,QAAU,CAAC,cAAgB,qC,oBCAlCD,EAAOC,QAAU,CAAC,cAAgB,gC,mBCAlCD,EAAOC,QAAU,CAAC,QAAU,sCAAsC,OAAS,qCAAqC,cAAgB,4CAA4C,WAAa,yCAAyC,MAAQ,oCAAoC,WAAa,yCAAyC,uBAAuB,qD,2DCA3VD,EAAOC,QAAU,CAAC,KAAO,mCAAmC,OAAS,qCAAqC,aAAe,2CAA2C,MAAQ,oCAAoC,aAAe,2CAA2C,SAAW,uCAAuC,KAAO,mCAAmC,YAAc,0CAA0C,UAAY,wCAAwC,kBAAoB,kD,6NCGvd,SAASC,IACpB,OACI,qBAAKC,UAAWC,IAAE,qB,yDCeX,SAASC,EAAT,GAOU,IANrBC,EAMoB,EANpBA,MACAC,EAKoB,EALpBA,WACAC,EAIoB,EAJpBA,SAIoB,IAHpBC,eAGoB,MAHV,WAGU,MAFpBC,oBAEoB,MAFL,GAEK,MADpBP,iBACoB,MADR,GACQ,EACpB,OACI,cAACQ,EAAA,EAAD,CACIC,QAAS,CAAEC,UAAWT,IAAES,WACxBV,UAAWW,IAAWV,IAAEW,KAAMZ,GAC9BM,QAASA,EACTO,MAAOR,EAJX,SAMKF,EAAMW,QAAO,SAAAC,GAAG,OAAIA,EAAIC,QAAMC,KAAI,SAAAF,GAAG,OAClC,cAACG,EAAA,EAAD,CAEIC,QAAS,kBAAMf,EAAWW,IAC1Bf,UAAWW,IAAWV,IAAEc,IAAKR,GAC7Ba,MAAOL,EAAIK,MACXP,MAAOE,EAAIM,IAJNN,EAAIM,S,8BC9Bd,SAASC,IACpB,OACI,wBAAQtB,UAAWC,IAAEW,KAArB,SACI,sBAAKZ,UAAWC,IAAEsB,QAAlB,UACI,qBAAKvB,UAAWC,IAAEuB,OAClB,sBAAKxB,UAAWC,IAAEwB,QAAlB,UACI,mBAAGC,KAAK,mCAAmC1B,UAAWC,IAAE0B,OAAQC,IAAI,sBAAsBC,OAAO,SAAjG,SACI,qBAAKC,ICfd,61CDegCC,IAAI,mBAE/B,mBAAGL,KAAK,4BAA4B1B,UAAWC,IAAE0B,OAAQC,IAAI,sBAAsBC,OAAO,SAA1F,SACI,qBAAKC,IElBd,6+BFkBiCC,IAAI,6B,iEGFrC,SAASC,EAAT,GAIE,IAAD,MAHZhC,iBAGY,MAHA,GAGA,EAFZiC,EAEY,EAFZA,SACGC,EACS,wCACNC,EAAYxB,IAAWV,IAAEmC,OAAQpC,GAAX,mBACvBC,IAAE,gBAAoC,SAAlBiC,EAAM5B,SADH,cAEvBL,IAAE,oBAAwC,aAAlBiC,EAAM5B,SAFP,IAK5B,OACI,cAAC,IAAD,2BAAe4B,GAAf,IAAsBlC,UAAWmC,EAAjC,SAA6CF,K,aCHtC,SAASI,EAAMC,EAAaC,EAAyBC,GAEhE,IAAMC,EAAiBC,EAAaJ,GAEpC,IAAKG,EACD,OAAOH,EAGX,IAb0BK,EAapBC,EA1BV,SAA2BxB,GAAkD,IAAnCyB,EAAkC,uDAAZ,GAE5D,OAAOzB,EAAM0B,QAAQ,YAAY,SAACC,GAC9B,IAAMT,EAAMS,EAAKD,QAAQ,KAAM,IAE/B,YAAqBE,IAAjBH,EAAQP,IAAuC,OAAjBO,EAAQP,GAC/B,GAGJO,EAAQP,MAiBUW,CAAkBR,EAAQF,GACvD,OAAOC,GAdmBG,EAckBC,GAbhCM,OAAO,GAAGC,cAAgBR,EAAKS,UAAU,GAaeR,E,MCjC5DS,E,yDCECC,EAAUC,+BACVC,EAAa,UAAGD,0BAAH,EAA0C,yBACvDE,EAAoBF,oCACpBG,EAAsBH,oBAEtBI,EAA0BJ,iBAK1BK,EAAU,IAAIC,IAAG,mBACjBC,GAAkB,IAAID,IAAG,4BACzBE,GAAe,IAAIF,IAAG,2BAEtBG,IADO,IAAIH,IAAG,KACR,OAKNI,GAA4CV,UAI5CW,GAAgB,IDNtB,SAASC,GAA6B1B,GACzC,OAAOA,EAAO2B,OAASf,EAAgBgB,QCO3CC,IAAIC,GAAK,I,SD3BGlB,K,cAAAA,E,mBAAAA,M,KEAZ,IAAMmB,GAAe,IAAIC,IACnBC,GAAmB,IAAID,IAYd,SAAeE,GAA9B,qC,8CAAe,WAAwBtD,EAAYuD,GAApC,qBAAAC,EAAA,2DACLC,EAAON,GAAaO,IAAI1D,IADnB,yCAEMyD,GAFN,YAOLE,EAAiBN,GAAiBK,IAAI1D,IAPjC,yCAQgB2D,GARhB,cAWLC,EAAgBL,IACtBF,GAAiBQ,IAAI7D,EAAI4D,GAZd,mBAemBA,EAfnB,eAeDE,EAfC,OAgBPX,GAAaU,IAAI7D,EAAI8D,GAhBd,kBAiBAA,GAjBA,sEAqBPT,GAAiBU,OAAO/D,GArBjB,8E,sBCVR,SAAegE,GAAtB,mC,8CAAO,WAAqCC,GAArC,+BAAAT,EAAA,6DAAqDU,EAArD,+BAAgE,MAAhE,kBAEwBC,MAAM,GAAD,OAAI/B,EAAJ,kBAA+B6B,EAA/B,wBAF7B,cAEOG,EAFP,gBAGoBA,EAASC,OAH7B,cAGOC,EAHP,yBAKQ,CACHvB,KAAMf,EAAgBgB,QACtBsB,KAAMA,EAAKC,YAAYC,cAAcN,GACrCO,OAAQL,EAASK,SARtB,yCAWCC,QAAQC,MAAM,6BAAd,MAXD,kBAaQ,CACH5B,KAAMf,EAAgB4C,MACtBD,MAAK,KACLF,OAAQ,MAhBb,2D,8CCMHI,GAAc,IAAIC,KAAQ,CAC1BC,QAASnC,GACToC,mBAAoB3C,EACpB4C,eAAgB9C,EAChB+C,YAAajD,IAGV,SAAekD,KAAtB,gC,8CAAO,sBAAA3B,EAAA,sEACGqB,GAAYO,UADf,gCAEIP,IAFJ,4C,sBAUA,SAAeQ,KAAtB,gC,8CAAO,4BAAA7B,EAAA,sEACe2B,KADf,cACGG,EADH,yBAEIA,EAAIC,kBAFR,4C,sBC1BQ,WAA0B,yCCA1B,OAA0B,yCCYlC,SAASC,GAAsBC,EAAgBC,GAAmC,IAAjBC,EAAgB,uDAAX,EACnEC,EAAc,IAAI3C,IAAI,IAAI4C,IAAIH,GACpC,OAAO,IAAIzC,IAAIwC,GAAQK,IAAIF,GAAaG,QAAQJ,GAG7C,SAASK,GAAkBP,EAAgBC,GAC9C,IAAME,EAAc,IAAI3C,IAAI,IAAI4C,IAAIH,GACpC,OAAO,IAAIzC,IAAIwC,GAAQQ,IAAIL,GAAaG,QAAQ,GAQ7C,SAAeG,GAAtB,qC,8CAAO,WAAyCC,EAAwBC,GAAjE,iBAAA5C,EAAA,+EAEmB2B,KAFnB,cAEOG,EAFP,gBAGuBA,EAAIe,gBAAgBF,EAAgBC,GAH3D,cAGOE,EAHP,yBAKQA,GALR,yCAOC5B,QAAQC,MAAM,8BAAd,MAPD,kBAQQ,KARR,2D,sBAYA,SAAe4B,GAAtB,mC,8CAAO,WAAuCJ,GAAvC,eAAA3C,EAAA,yDACC2C,IAAmB7D,EADpB,gCAEwB0B,GAAsB,QAF9C,WAIKlB,GAFEsB,EAFP,iDAKYA,EAASE,MALrB,gCASI,GATJ,4C,sBAYA,SAASkC,GAAmCC,GAC/C,OAAIA,IAAsBnE,EACfoE,GN7CwBxE,sBM8CxBuE,EACAE,QADJ,EAOJ,SAASC,GAA2BH,GACvC,MAAO,CACHf,SAAU,GACVmB,KAAMJ,EACNK,UAAW,GACXC,OAAQN,EACRO,QAAS,IACTP,oBACAQ,WAAYT,GAAmCC,IAIhD,SAAeS,GAAtB,mC,8CAAO,WAA0CT,GAA1C,iBAAAjD,EAAA,yDACG2D,EAAkBP,GAA2BH,GADhD,SAIMA,EAJN,yCAIgCU,GAJhC,uBAMwB7D,GAAM,YAAD,OAAamD,GAAb,sBAAkC,4BAAAjD,EAAA,sEACxC2B,KADwC,cACpDG,EADoD,yBAEnDA,EAAI8B,iBAAiBX,IAF8B,4CAN/D,cAMOY,EANP,gEAYQF,GACAE,GAbR,IAcKZ,uBAdL,yCAiBC/B,QAAQC,MAAM,+BAAd,MAjBD,kBAmBQwC,GAnBR,2D,wDCnDQG,GAjBK,SAACC,EAAwBC,GACzC,IAAMC,EAAmBC,mBAEzBC,qBAAU,WACNF,EAAiBG,QAAUL,IAC5B,CAACA,IAEJI,qBAAU,WAGN,GAAc,OAAVH,EAAgB,CAChB,IAAMK,EAAaC,aAHP,kBAAoBL,EAAiBG,QAAjB,MAAAH,EAAgB,aAGRD,GACxC,OAAO,kBAAMO,cAAcF,OAEhC,CAACL,KCVFQ,GAAuB,kBACvBC,GAAiB,aAGnBC,GAAqB,aAcnBC,GAAoB,WACtB,MAAsD,SAA/CC,aAAaC,QAAQL,KAG1BM,GAA0B,WAC5B,IAAMC,EAAoF,SAA1DC,SAASC,gBAAgBC,aAAaT,IAChEU,EAAoBR,MAlBF,WAAwB,IAAD,EACzCS,EAAsBC,QAAQC,OAAOC,YACrCC,EAAkBJ,GAAuBE,OAAOC,WAAW,gCAAgCE,QAC3FC,EAAmBN,GAAuBE,OAAOC,WAAW,iCAAiCE,QAEnG,MAAO,CACHE,kBAAiB,iBAAEH,QAAF,IAAEA,IAAmBE,SAArB,SACjBF,gBAAe,OAAEA,QAAF,IAAEA,KACjBE,iBAAgB,OAAEA,QAAF,IAAEA,OAWME,GAApBJ,gBAER,OAAOT,GAA2BI,IAAqB,GAGrDU,GAAc,SAACC,GACjB,IAAMC,EAAmE,OAA/CnB,aAAaC,QAAQL,IACzCwB,EAAwBrB,KAGxBsB,GADmBF,EAAmBC,EAAwBF,GAC/B,OAAS,UAE9Cd,SAASC,gBAAgBiB,aAAazB,GAAgBwB,GACtDvB,MA6BEyB,GAAc,WAAgB,IAAD,EACHC,oBAAS,GADN,mBACxBC,EADwB,KAChBC,EADgB,KAiB/B,OAdAxC,IAAY,WACR,IAAMyC,EAAYzB,KACdyB,IAAcF,GACdC,EAAUC,KAEf,IAEH7B,GAAqB,WACjB,IAAM6B,EAAYzB,KACdyB,IAAcF,GACdC,EAAUC,IAIXF,G,qBCtFI,SAASG,KACpB,IAAMC,EAAmBN,KAEnBO,EAAoBC,uBAAY,WDwCpB,IAACb,KCvCAW,EDwCnB7B,aAAagC,QAAQpC,GAAsBqC,OAAOf,IAClDD,GAAYC,KCxCT,CAACW,IAEJ,OACI,eAACK,GAAA,EAAD,CAAYC,aAAW,WAAW5L,UAAWC,KAAEW,KAAMO,QAASoK,EAA9D,WACMD,GAAoB,qBAAKtL,UAAWC,KAAE4L,KAAlB,0BACrBP,GAAoB,qBAAKtL,UAAWC,KAAE4L,KAAlB,6B,8CCJlB,SAASC,GAAT,GAIL,EAHNC,QAGO,IAFP5K,EAEM,EAFNA,QAEM,EADNnB,UAEA,OACI,8BACI,cAAC2L,GAAA,EAAD,CAAYC,aAAW,WAAWzK,QAASA,EAASnB,UAAWC,KAAE+L,WAAjE,SACI,cAAC,KAAD,QCOD,SAASC,GAAT,GAQU,IAAD,IAPpBC,EAOoB,EAPpBA,aACAC,EAMoB,EANpBA,cACAC,EAKoB,EALpBA,eACAC,EAIoB,EAJpBA,gBACAN,EAGoB,EAHpBA,QACAO,EAEoB,EAFpBA,YAEoB,IADpBtM,iBACoB,MADR,GACQ,IACoBiL,mBAAyB,MAD7C,mBACbsB,EADa,KACCC,EADD,KAOpB,SAASC,IACLD,EAAgB,MAapB,SAASE,IACLD,IACAJ,IAGJ,OACI,wBAAQrM,UAAWW,IAAWV,KAAE0M,KAAM3M,GAAtC,SACI,sBAAKA,UAAWC,KAAE2M,YAAlB,UACI,qBAAK5M,UAAWC,KAAE4M,WAAlB,SACI,cAAC,IAAD,CAAMC,GAAG,IAAI9M,UAAWC,KAAE8M,kBAA1B,SACI,qBAAK/M,UAAWC,KAAE+M,iBAG1B,sBAAKhN,UAAWW,IAAWV,KAAE4M,WAAY5M,KAAE,oBAA3C,UACiB,OAAZ8L,GACG,cAACV,GAAD,IAGS,OAAZU,GACG,cAAC,EAAD,CAAQ5K,QAAS+K,EAAjB,SAAgC7J,EAAM,gBAGzC0J,GACG,qCACI,sBAAM/L,UAAWC,KAAEgN,YAAnB,SAAiClB,EAAQtE,YACzC,sBAAMzH,UAAWC,KAAEiN,UACnB,+BACI,cAAC,EAAD,CAAQlN,UAAWC,KAAEkN,aAAc7M,QAAQ,OAAOa,QAASuL,EAA3D,SACKrK,EAAM,eAAgB,CACnByE,OAAQX,KAAQiH,MAAMC,YAAd,iBAA0Bf,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAa3E,eAAvC,QAAkD,IAAK,GAAI,GACnE2F,YAAW,iBAAEhB,QAAF,IAAEA,OAAF,EAAEA,EAAagB,mBAAf,QAA8B,cAIrD,cAACjC,GAAD,IACA,cAACS,GAAD,CAAeC,QAASA,EAAS5K,QArDzD,SAAyBoM,GACrBf,EAAgBe,EAAMC,kBAqDF,eAAC,IAAD,CAASC,SAAUlB,EAAcmB,aAAW,EAACC,KAAMzD,QAAQqC,GAAeqB,QAASnB,EAAnF,UACI,cAAC,IAAD,CAAaoB,UAAQ,EAArB,SAAuB9B,EAAQtE,YAC/B,eAAC,IAAD,CAAaoG,UAAQ,EAArB,mBAA6BhH,GAAsBkF,EAAQpE,QAAS,IAApE,aACA,cAAC,IAAD,CAAaxG,QAASuL,EAAtB,SAA4CrK,EAAM,mBAClD,cAAC,IAAD,CAAalB,QA7CzC,WACIsL,IACAL,KA2CwB,SAA2C/J,EAAM,kBACjD,cAAC,IAAD,CAAalB,QAnDzC,WACIsL,IACAN,KAiDwB,SAA0C9J,EAAM,+B,aCpE1EyL,GAAeC,aAAY,CAC7BC,aAX+B,CAC/BjC,QAAS,KACTkC,SAAS,EACTC,kBAAkB,EAClBC,WAAY,GACZC,OAAQ,GACRC,SAAU,GACVC,aAAc,IAKdpG,KAAM,UACNqG,SAAU,CACNC,WADM,SACK7D,EAAqB8D,GAC5B,OAAO,YAAC,eACD9D,GADP,IAEIoB,QAAS0C,EAAOC,WAGxBC,aAPM,SAOOhE,EAAqB8D,GAC9B,OAAO,YAAC,eACD9D,GADP,IAEIiE,UAAWH,EAAOC,WAG1BG,oBAbM,SAaclE,EAAqB8D,GACrC,OAAO,YAAC,eACD9D,GADP,IAEImE,iBAAkBL,EAAOC,WAGjCK,8BAnBM,SAmBwBpE,EAAqB8D,GAC/C,OAAO,YAAC,eACD9D,GADP,IAEIqE,2BAA4BP,EAAOC,WAG3CO,qBAzBM,SAyBetE,EAAqB8D,GACtC,OAAO,YAAC,eACD9D,GADP,IAEIwD,WAAYM,EAAOC,WAG3BQ,kBA/BM,SA+BYvE,EAAqB8D,GACnC,OAAO,YAAC,eACD9D,GADP,IAEIsD,QAASQ,EAAOC,WAGxBS,2BArCM,SAqCqBxE,EAAqB8D,GAC5C,OAAO,YAAC,eACD9D,GADP,IAEIuD,iBAAkBO,EAAOC,WAGjCU,mBA3CM,SA2CazE,EAAqB8D,GACpC,OAAO,YAAC,eACD9D,GADP,IAEI0D,SAAUI,EAAOC,WAGzBW,gBAjDM,SAiDU1E,EAAqB8D,GACjC,OAAO,YAAC,eACD9D,GADP,IAEI2D,aAAcG,EAAOC,WAG7BY,iBAvDM,SAuDW3E,EAAqB8D,GAClC,OAAO,YAAC,eACD9D,GADP,IAEIyD,OAAQK,EAAOC,c,GAiB3BZ,GAAayB,QAVbf,G,GAAAA,WAEAU,I,GADAI,iB,GACAJ,mBACAC,G,GAAAA,2BACAF,G,GAAAA,qBACAG,G,GAAAA,mBACAT,G,GAAAA,aACAE,G,GAAAA,oBACAE,G,GAAAA,8BACAM,G,GAAAA,gBAGWvB,MAAf,Q,2BC1EO,SAAS0B,GAAqBC,EAAgCC,GAAoD,IAAD,MACpH,MAAO,CACHC,iBAAkB9I,GAAsB4I,EAAU9H,QAAS+H,EAAwB3I,UACnFY,QAAS8H,EAAU9H,QACnBiI,KAAMH,EAAUG,KAChBC,kBAAiB,oBAAEJ,EAAUK,cAAZ,aAAE,EAAkBC,mBAApB,QAAmC,GACpDC,SAAUP,EAAUQ,OACpBC,UAAWT,EAAUS,UACrBD,OAAQR,EAAUQ,OAClBE,wBAAuB,UAAET,EAAwB3I,gBAA1B,QAAsC,ICDrE,SAASqJ,GAAgBzK,GACrB,IAAKA,EACD,OAAOtD,EAAM,uBAGjB,IAAMgO,EAAU,IAAIC,KAAKC,SAAS5K,EAAK6K,WACjCC,EAAM,IAAIH,KAEhB,OAAI3K,EAAK+K,WAAuC,OAA1B/K,EAAKgL,iBAChBtO,EAAM,0BACNsD,EAAK+K,WAAuC,OAA1B/K,EAAKgL,iBACvBtO,EAAM,yBACLsD,EAAK+K,WAAaD,EAAIG,WAAaP,EAAQO,UAC5CvO,EAAM,2BAENA,EAAM,wBAId,SAASwO,GAAuBpB,EAAkCC,GAAsD,IAAD,oBACpHoB,EAAQ,UAAGrB,EAAUK,cAAb,aAAG,EAAkBiB,UAC/BC,EAAU,oBAAGvB,EAAUK,cAAb,aAAG,EAAkBmB,aAAaxB,EAAUyB,mBAA5C,QAA2D,GAUzE,OARIJ,IAEIE,EADyB,IAAzBvB,EAAUyB,WACG7O,EAAM,yBAENA,EAAM,yBAIpB,CACHsF,QAAS8H,EAAU9H,QACnBuI,UAAWT,EAAUyB,WACrBC,MAAK,UAAE1B,EAAU0B,aAAZ,QAAqB,IAC1BnB,SAAUP,EAAU2B,QACpBvB,mBAAmB,UAAAJ,EAAUK,cAAV,eAAkBC,cAAe,GACpDsB,aAAcjB,GAAgBX,EAAUK,QACxCkB,aACAtB,0BACA4B,aAAY,oBAAE7B,EAAUK,cAAZ,iBAAE,EAAkByB,KAAKC,qBAAzB,iBAAE,EAAsCC,MAAK,SAAAC,GAAE,OAAIA,EAAGR,aAAezB,EAAUyB,qBAA/E,aAAE,EAA0FS,aAA5F,QAAqG,EACjHC,iBAAiB,UAAAnC,EAAUK,cAAV,eAAkBa,mBAAoB,M,iCClF/D,IAAMhM,GAAQ,IAAIkN,iBACZC,GAAOC,0BAAe,CACxBC,IAAK1O,IAGI2O,GAAgB,IAAIC,gBAAa,CAC1CvN,SACAmN,QAEAK,eAAgB,CACZC,WAAY,CACRC,YAAa,wB,UCSlB,SAAeC,GAAtB,mC,8CAAO,WAA8CC,GAA9C,+BAAA1N,EAAA,sDACGyJ,EAAe,GADlB,kCAEmBiE,GAFnB,gIAEcC,EAFd,YAGqCjK,GAA2BiK,EAAE1C,OAAOyB,KAAKkB,qBAH9E,QAGKC,EAHL,OAICpE,EAAaqE,KAAK,CACdC,YAAaJ,EAAEK,aACfzO,KAAMoO,EAAEpO,KACR4L,SAAUwC,EAAE1C,OAAOzO,GACnBwO,kBAAmB2C,EAAE1C,OAAOC,YAC5B+C,gBAAiBJ,IATtB,0UAYIpE,GAZJ,6E,iwGCZA,SAAeyE,KAAtB,gC,8CAAO,sBAAAlO,EAAA,sEACe2B,KADf,cAECwM,SAFD,4C,sBAKA,SAAeC,KAAtB,gC,8CAAO,oCAAApO,EAAA,sEACe2B,KADf,WACGG,EADH,QAGMuM,aAHN,yCAIQ,MAJR,OAOCC,GAAY,EACV1L,EARH,UAQed,EAAIyM,sBARnB,QAQqC,GARrC,+BAWOC,EAXP,iBAYmBA,EAAKC,gBAAgB7L,GAZxC,QAYC0L,EAZD,2BAgBC1L,EAhBD,UAiBiBd,EAAI4M,iBAjBrB,2BAiBuCC,UAjBvC,KAkBCL,EAlBD,mBAgBC1L,UAhBD,KAiBCE,QAjBD,KAkBCwL,UAlBD,oD,sBAuBA,SAAeM,KAAtB,gC,8CAAO,8BAAA5O,EAAA,sEACe2B,KADf,cACGG,EADH,gBAEwBA,EAAI+M,gBAAgB,gBAF5C,cAEGpF,EAFH,yBAGIgE,GAA+BhE,IAHnC,4C,sBAMA,SAAeqF,KAAtB,gC,8CAAO,sBAAA9O,EAAA,sEACe2B,KADf,cAECoN,UAFD,4C,sBAUA,SAAeC,GAAtB,mC,8CAAO,WAAsCpM,GAAtC,2BAAA5C,EAAA,+EAEsBoN,GAAc6B,MAAM,CACrCA,MAAOC,eAAF,MA0CLC,UAAW,CACPvM,eA9CT,cAEOhF,EAFP,OAkDOwR,EAA+CxR,EAAOkD,KAAKoG,QAG7DmI,EAAkCD,EAAgBE,YAAYlT,KAAI,SAAA6D,GAAI,aAAI,UAAAA,EAAKgL,cAAL,eAAayB,KAAKkB,sBAAuB,OACvH,EAAAyB,GAAsBvB,KAAtB,qBAA8BsB,EAAgB5F,SAASpN,KAAI,SAAA6D,GAAI,aAAI,UAAAA,EAAKgL,cAAL,eAAayB,KAAKkB,sBAAuB,QAC5GyB,EAAwBA,EAAsBpT,QAAO,SAAAgE,GAAI,OAAIA,KAvD9D,UA0D8BsP,QAAQC,IAAIH,EAAsBjT,KAAI,SAAA6D,GAAI,OAAIyD,GAA2BzD,OA1DvG,eA0DOwP,EA1DP,OA6DOnG,EAAa8F,EAAgBE,YAAYlT,KAAI,SAAC0E,GAChD,IAAM4O,EAAgBD,EAAe7C,MAAK,SAAA/I,GAAQ,aAAIA,EAASZ,qBAAT,UAA+BnC,EAAKmK,cAApC,aAA+B,EAAayB,KAAKkB,wBACvG,OAAOjD,GAAqB7J,EAAM4O,MAIhCC,EAAiBP,EAAgB5F,SAASpN,KAAI,SAAC0E,GACjD,IAAM4O,EAAgBD,EAAe7C,MAAK,SAAA/I,GAAQ,aAAIA,EAASZ,qBAAT,UAA+BnC,EAAKmK,cAApC,aAA+B,EAAayB,KAAKkB,wBACvG,OAAO5B,GAAuBlL,EAAM4O,MArEzC,kBAwEQ,CACHpG,aACAqG,mBA1EL,yCA6ECzO,QAAQC,MAAM,6BAAd,MA7ED,kBA8EQ,CACFmI,WAAY,GACZqG,eAAgB,KAhFtB,2D,sBAqFA,SAAeC,GAAtB,qC,8CAAO,WAA6ChN,EAAmBuI,GAAhE,qBAAAnL,EAAA,+EAEsBoN,GAAc6B,MAAM,CACrCA,MAAOC,eAAF,MAoBLC,UAAW,CACPvM,YACAuI,cAzBT,cAEOvN,EAFP,OA6BOkD,EAAiClD,EAAOkD,KAAKoG,QAC7C2I,EAAqB/O,EAAK0I,SAASpN,KAAI,SAAA6D,GAAI,aAAI,UAAAA,EAAKgL,cAAL,eAAayB,KAAKkB,sBAAuB,MAAI3R,QAAO,SAAA6T,GAAC,OAAIA,KA9B/G,SA+B6BP,QAAQC,IAAIK,EAAmBzT,KAAI,SAAAI,GAAE,OAAIkH,GAA2BlH,OA/BjG,cA+BOkT,EA/BP,yBAiCQ5O,EAAK0I,SAASpN,KAAI,SAAC0G,GACtB,IAAMe,EAAW6L,EAAc9C,MAAK,SAAA/I,GAAQ,aAAIA,EAASZ,qBAAT,UAA+BH,EAAQmI,cAAvC,aAA+B,EAAgByB,KAAKkB,wBACpG,OAAO5B,GAAuBlJ,EAASe,OAnC5C,yCAsCH3C,QAAQC,MAAM,kCAAd,MAtCG,kBAuCQ,IAvCR,2D,sBA2CA,SAAe4O,GAAtB,qC,8CAAO,WAAgDnN,EAAmBuI,GAAnE,qBAAAnL,EAAA,+EAEsBoN,GAAc6B,MAAM,CACrCA,MAAOC,eAAF,MAoBLC,UAAW,CACPvM,YACAuI,cAzBT,UAEOvN,EAFP,QA6BOkD,EAA8BlD,EAAOkD,KAAKoG,QAAQoI,aAE9CU,OA/BX,yCAgCY,MAhCZ,uBAmCuCtM,IAA2B,UAAA5C,EAAK,GAAGmK,cAAR,eAAgByB,KAAKkB,sBAAuB,IAnC9G,cAmCO/C,EAnCP,yBAqCQF,GAAqB7J,EAAK,GAAI+J,IArCtC,yCAuCC3J,QAAQC,MAAM,kCAAd,MAvCD,kBAwCQ,MAxCR,2D,sBCvLQ,4qCCKF8O,GAAb,WAGI,WAAY/I,GAAmB,0BAF/BgJ,cAE8B,EAC1BC,KAAKD,SAAW,IAAIE,YAASlJ,EAASpI,EAAyB,CAC3DuR,cAAe,CAAC,eAAgB,gBAAiB,mBACjDC,YAAa,CAAC,qBAAsB,0BAA2B,mBAN3E,sDAUaC,GAELJ,KAAKD,SAASM,aAAa,GAAIzR,EAASwR,KAZhD,iCAeeA,GAEPJ,KAAKD,SAASO,cAAc,CACxBxO,OAAQsO,GACTxR,EAAS,OAnBpB,qCAsBmBwR,EAAkBG,GAE7B,OAAOP,KAAKD,SAASS,gBAAgB,CAAED,cAAc3R,EAASwR,KAxBtE,wCA2BsB3N,GAEd,OAAOuN,KAAKD,SAASU,mBAAmB,CACpCF,WAAY9N,MA9BxB,iCAkCeA,GAEP,OAAOuN,KAAKD,SAASW,cAAc,CAC/BH,WAAY9N,MArCxB,yDA2CQ,OAAOuN,KAAKD,SAASY,wBAAwB,QA3CrD,KA+Ce,SAAeC,KAA9B,gC,8CAAe,sBAAA/Q,EAAA,+EACJF,GAAM,wBAAD,sBAA0B,4BAAAE,EAAA,sEACb6B,KADa,cAC5BmP,EAD4B,yBAG3B,IAAIf,GAAoBe,EAAO9J,YAHJ,6CAD3B,4C,sBC3CR,SAAe+J,KAAtB,gC,8CAAO,gCAAAjR,EAAA,6DACGkR,EAA2B,CAC7BhP,SAAU,GACViP,mBAAmB,EACnBC,KAAM,IAAI3R,IAAI,GACd4L,UAAWgG,IACXC,YAAa,IACbC,WAAY,IAAI9R,IAAI,GACpB+R,UAAW,OACX1E,MAAO,EACP2E,YAAa,IACbC,oBAAqB,OACrBjJ,YAAa,OACb6D,MAAO,IACPqF,OAAQ,EACR7O,QAAS,IACTgI,iBAAkB,IAClBrH,WAAYmO,GACZC,MAAO,IAAIpS,IAAI,GACfqS,SAAU,YAnBX,kBAuBmBnQ,KAvBnB,cAuBOG,EAvBP,gBAwBuBA,EAAI4M,iBAxB3B,cAwBO5L,EAxBP,oDA2BQoO,GA3BR,IA4BKpO,QAASA,EAAQ6L,UACjB7D,iBAAkB9I,GAAsBc,EAAQ6L,UAAW,OA7BhE,yCAgCCzN,QAAQC,MAAM,iBAAd,MAhCD,kBAiCQ+P,GAjCR,2D,sBAqCA,SAAea,KAAtB,gC,8CAAO,oCAAA/R,EAAA,6DACGkR,EAA2B,CAC7BhP,SAAU,GACViP,mBAAmB,EACnBC,KAAM,IAAI3R,IAAI,GACd4L,UAAWgG,IACXC,YAAa,IACbC,WAAY,IAAI9R,IAAI,GACpB+R,UAAW,QACX1E,MAAO,EACP2E,YAAa,IACbC,oBAAqB,OACrBpF,MAAO,IACP7D,YAAa,QACbhF,WAAYP,GACZyO,OAAQ,EACR7O,QAAS,IACTgI,iBAAkB,IAClB+G,MAAO,IAAIpS,IAAI,GACfqS,SAAU,YAnBX,kBAuB6Bf,KAvB7B,cAuBOiB,EAvBP,gBAwBmBrQ,KAxBnB,UAwBOG,EAxBP,SAyBOc,EAAYd,EAAIyM,gBAzBvB,kCA4B2ByD,EAAcC,WAAWrP,GA5BpD,eA4BWE,EA5BX,oDA+BYoO,GA/BZ,IAgCSpO,UACAgI,iBAAkB9I,GAAsBc,EAAS,OAjC1D,iCAqCQoO,GArCR,yCAuCChQ,QAAQC,MAAM,wBAAd,MAvCD,kBAwCQ+P,GAxCR,2D,oEAkDA,WAAwBX,GAAxB,SAAAvQ,EAAA,sEACyB+Q,KADzB,cAEWmB,SAAS3B,GAFpB,4C,oEAKA,WAA0BA,GAA1B,SAAAvQ,EAAA,sEACyB+Q,KADzB,cAEWoB,WAAW5B,GAFtB,4C,sBAKA,SAAe6B,KAAtB,gC,8CAAO,gCAAApS,EAAA,sEACyB+Q,KADzB,cACGiB,EADH,gBAEerQ,KAFf,UAEGG,EAFH,OAGGc,EAAYd,EAAIyM,eAHnB,yCAMQ,CACH8D,MAAO,IACP1D,UAAW,MARhB,gCAYIqD,EAAcM,kBAAkB1P,IAZpC,6C,sBAeA,SAAe2P,KAAtB,gC,8CAAO,4BAAAvS,EAAA,sEACyB+Q,KADzB,cACGiB,EADH,yBAEIA,EAAcQ,oCAFlB,4C,oEAKA,WAAyCvQ,EAAgBW,GAAzD,eAAA5C,EAAA,sEACyB+Q,KADzB,cACGiB,EADH,yBAEIA,EAAcS,eAAexQ,EAAQW,IAFzC,4C,sBC1HA,SAASuL,KACZ,8CAAO,WAAOuE,GAAP,SAAA1S,EAAA,sEAEC0S,EAASrI,IAAkB,IAF5B,SAGO6D,KAHP,OAICwE,EAASrI,IAAkB,IAJ5B,gDAMCqI,EAASrI,IAAkB,IAC3BnJ,QAAQC,MAAM,WAAd,MAPD,yDAAP,sDCEJ,IAKMwR,GAAezJ,aAAY,CAC7BC,aAN+B,CAC/ByJ,sBAAsB,EACtBC,oBAAoB,GAKpBxP,KAAM,UACNqG,SAAU,CACNoJ,4BADM,SACsBhN,EAAqB8D,GAC7C,OAAO,YAAC,eACD9D,GADP,IAEI8M,qBAAsBhJ,EAAOC,WAGrCkJ,0BAPM,SAOoBjN,EAAqB8D,GAC3C,kCACO9D,GADP,IAEI+M,mBAAoBjJ,EAAOC,c,GASvC8I,GAAajI,QAFboI,G,GAAAA,4BACAC,G,GAAAA,0BAGWJ,MAAf,QC1Be,SAASK,KACpB,IAAMN,EAAWO,cACXC,EAAUC,cACVC,EAAcC,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQA,WAC7DO,EAAc4L,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQ+C,oBAEnE9F,qBAAU,WACDiP,GACDV,EFeR,uCAAO,WAAOA,GAAP,eAAA1S,EAAA,sEAEC0S,EAASrI,IAAkB,IAF5B,SAGuB+D,KAHvB,OAGOlH,EAHP,OAICwL,EAAS/I,GAAWzC,IACpBwL,EAASrI,IAAkB,IAL5B,gDAOCqI,EAASrI,IAAkB,IAC3BnJ,QAAQC,MAAM,eAAd,MARD,yDAAP,yDEbG,CAACuR,EAAUU,IAEd,IAAMG,EAAmB5M,uBAAY,WACjC+L,EAASvE,QACV,CAACuE,IAEEc,EAAoB7M,uBAAY,WAClC+L,EF0DJ,uCAAO,WAAOA,GAAP,SAAA1S,EAAA,sEACG8O,KADH,OAEH4D,EAAS/I,GAAW,OAFjB,2CAAP,yDEzDG,CAAC+I,IAEEe,EAAqB9M,uBAAY,WACnCuM,EAAQpF,KAAK4F,GAAWC,aACzB,CAACT,IAEErL,EAAsBlB,uBAAY,WACpC+L,EAASK,IAA0B,MACpC,CAACL,IAEJ,OACI,cAAC,GAAD,CACIrL,aAAckM,EACdjM,cAAekM,EACfjM,eAAgBkM,EAChBjM,gBAAiBK,EACjBX,QAASkM,EACT3L,YAAaA,I,8CCrCV,SAASrG,GAAT,GAEJ,IADPD,EACM,EADNA,MAEA,OACIA,EAAQ,mBAAGhG,UAAWC,KAAE+F,MAAhB,SAAwBA,IAAa,K,yBCEtC,SAAS2F,GAAT,GAKU,IAJrBE,EAIoB,EAJpBA,KACA9J,EAGoB,EAHpBA,IACAZ,EAEoB,EAFpBA,QAEoB,IADpBnB,iBACoB,MADR,GACQ,EACpB,OACI,cAAC,KAAD,CAAemB,QAASA,EAASnB,UAAWW,IAAWV,KAAE,eAAgBD,GAAzE,SACI,qBAAK8B,IAAK+J,EAAM9J,IAAKA,M,iECAlB,SAAS0W,GAAT,GASe,IAR1BC,EAQyB,EARzBA,MACAzW,EAOyB,EAPzBA,SACA0L,EAMyB,EANzBA,KACAgL,EAKyB,EALzBA,eACAC,EAIyB,EAJzBA,cAIyB,IAHzBC,iBAGyB,aAFzBC,mBAEyB,aADzBC,sBACyB,MADR,GACQ,EACzB,OACI,eAAC,KAAD,CAAWpL,KAAMA,EAAMlN,QAAS,CAAEuY,MAAOrY,IAAWV,KAAE+Y,MAAOD,IAA7D,UACI,cAACE,GAAA,EAAD,CAAajZ,UAAWC,KAAEyY,MAA1B,SACKA,IAEL,cAACQ,GAAA,EAAD,CAAelZ,UAAWC,KAAEkZ,QAA5B,SACKlX,KAEH6W,GACE,eAACM,GAAA,EAAD,WACI,cAAC,EAAD,CAAQpZ,UAAWC,KAAEoZ,aAAclY,QAASwX,EAA5C,SACKtW,EAAM,0BAEX,cAAC,EAAD,CAAQwL,UAAWgL,EAAW7Y,UAAWC,KAAEqZ,cAAenY,QAASyX,EAAnE,SACKvW,EAAM,gCC9ChB,WAA0B,iC,yBCa1B,SAASkX,GAAT,GAIJ,IAHPtX,EAGM,EAHNA,SAGM,IAFNjC,iBAEM,MAFM,GAEN,EADHkC,EACG,wCACN,OACI,cAACF,EAAA,EAAD,2BAAYE,GAAZ,IAAmBlC,UAAWW,IAAWV,KAAEW,KAAMZ,GAAjD,SAA8DiC,K,ICf1DuX,GAaAC,G,oBCKL,SAASC,GAAgCjU,EAAkCkU,GAC9E,OAAKlU,EAASoP,OAYPpP,EAASxE,KAAI,SAACkV,GACjB,IAAMC,EAAa,IAAI9R,IAAI6R,EAAYK,QAEvC,MAAO,CACHtG,UAAWiG,EAAYjF,WACvB0I,aAAcD,EAAYxD,EAAYjF,YACtCS,MAAOwE,EAAYxE,MACnByE,aACAD,YAAaA,EAAYxO,QACzB6O,OAAQ,EACRP,KAAM,IAAI3R,IAAI6R,EAAYF,UAE/B4D,MAAK,SAAChV,EAAGiV,GAAJ,OAAUjV,EAAEqL,UAAY4J,EAAE5J,aAvBvByJ,EAAY1Y,KAAI,SAAC8Y,EAAKC,GAAN,MAAiB,CACpC9J,UAAW8J,EACXJ,aAAcG,EACd3D,WAAY,IAAI9R,IAAI,KACpBqN,MAAO,EACP6E,OAAQ,EACRL,YAAa,IACbF,KAAM,IAAI3R,IAAI,OCnBnB,SAAS2V,GAA0BxK,EAA+BqD,GACrE,MAAO,CACHoH,OAAQzK,EAAUyK,OAClBC,gBAAiBtT,GAAsB4I,EAAUyK,OAAQpH,EAAgB/L,WF2D1E,SAAeqT,GAAtB,qC,8CAAO,WACHC,EACAvH,GAFG,mCAAAjO,EAAA,6DAGHyV,EAHG,+BAG2B,GAExBC,EAAaF,EAAc9I,KAAKiJ,aAAe,GAC/CC,EAAgBF,EAAW9I,MAAK,SAAAiJ,GAAI,OAAIA,EAAKC,iBAC7C/I,EAAkByI,EAAc1J,iBAAmB0J,EAAc1J,iBAAmB,KACpFiK,EAAaP,EAActJ,UAAY0I,GAAWoB,OAASpB,GAAWqB,YARzE,kBAUI,CACHzZ,GAAIgZ,EAAchZ,GAClB+C,KAAMwW,EACNG,SAAUV,EAAcW,YAAc,GACtCC,aAAcZ,EAAca,cAAgB,IAAI5K,KAAK6K,OAAOd,EAAca,qBAAkBlY,EAC5F+M,YAAasK,EAActK,YAC3BqL,UAAWf,EAAcgB,WACzB3K,UAAW2J,EAAc3J,UACzB4K,MAAOjB,EAAc9I,KAAK+J,MAC1BC,eAAgB,IAAIjL,KAAKC,SAAS8J,EAAc7J,WAChDgL,OAAQnB,EAAcmB,OACtB1T,kBAAmBuS,EAAc9I,KAAKkB,oBACtCK,kBACA2I,QAASpB,EAAc3J,WAAiC,OAApBkB,EACpCA,kBACA8J,MAAOrB,EAAcsB,iBAAmB1B,GAA0BI,EAAcsB,iBAAkB7I,QAAmB9P,EACrH4Y,cAAeC,GACXxB,EAAcpJ,aACdoJ,EAAc9I,KAAKC,cACnB8I,EACAM,GACA,EACA9H,GAEJ2H,cAAe,CACXqB,aAA0B,OAAbrB,QAAa,IAAbA,OAAA,EAAAA,EAAesB,eAAgB,OAnCjD,4C,gCAtEKvC,K,gBAAAA,E,kBAAAA,E,YAAAA,E,oBAAAA,E,cAAAA,E,gBAAAA,E,gBAAAA,E,oBAAAA,E,kBAAAA,E,aAAAA,Q,cAaAC,K,gBAAAA,E,0BAAAA,E,iBAAAA,Q,SG8DRuC,G,UAxEEC,G,WAGF,WAAYlQ,GAAmB,0BAF/BgJ,cAE8B,EAC1BC,KAAKD,SAAW,IAAIE,YAASlJ,EAASrI,EAAqB,CACvDyR,YAAa,GACbD,cAAe,CAAC,gBAAiB,OAAQ,YAAa,oB,mGAK1DnF,EACAmM,EACAlB,EACAmB,EACAC,EACAtU,EACAsT,EACAtK,G,uEAGMuL,EAAkBtY,GAAauD,IAAI,IAAIzD,IAAGqY,EAASrH,SAGzDG,KAAKD,SAASuH,cAAc,CACxBvM,cACAsL,WAAYD,EACZc,SAAUA,EAASrH,OACnB5D,aAAciL,EACd1L,SAAU2L,EAAQvL,UAAU2L,WAC5B9J,oBAAqB3K,EACrBkT,aACAwB,SAAUJ,EACVrL,UAAWD,GACZlN,EAASyY,G,6LAIZrM,EACAyM,G,iEAGAzH,KAAKD,SAAS2H,UAAU,CACpBC,UAAW3M,EACX4M,SAAUH,GACX7Y,EAASG,I,6KAIZiM,EACA6M,G,iEAGA7H,KAAKD,SAAS+H,KAAK,CACfH,UAAW3M,EACX+M,eAAgBF,EAAOG,UACvBC,eAAgBJ,EAAOK,UAAUhN,UACjCiN,cAAe,IAAItZ,IAAGgZ,EAAOzH,UAAU9N,IAAI,IAAIzD,IAAG,OAAOuZ,IAAI,IAAIvZ,IhC7C7C,KgC6CoEsD,IAAI,IAAItD,IAAG,QAAQ0Y,YAE5G3Y,EAAS,K,sLAIZoM,G,iEAGAgF,KAAKD,SAASsI,eAAe,CACzBV,UAAW3M,GACZpM,EAASG,I,8GAML,SAAeuZ,KAA9B,gC,8CAAe,4BAAAzY,EAAA,0DACPmX,GADO,yCAEAA,IAFA,uBAKUtV,KALV,cAKLmP,EALK,OAMXmG,GAAmB,IAAIC,GAAiBpG,EAAO9J,WANpC,kBAQJiQ,IARI,4C,+wGCjDf,SAASuB,GAAeV,GACpB,OAAIA,EAAOzY,OAASqV,GAAWqB,YACpB+B,EAAOX,SAGdW,EAAOzY,OAASqV,GAAWoB,OACpB,CACHgC,EAAOW,WAAWjB,WAClBM,EAAOY,WAAWlB,YAInB,CACHla,EAAM,uBACNA,EAAM,uBAIP,SAAeqb,GAAtB,mC,8CAAO,WAA4Bb,GAA5B,mBAAAhY,EAAA,+EAEwByY,KAFxB,cAEOK,EAFP,OAGOzB,EAAWqB,GAAeV,GAHjC,SAI6BtU,GAA2BsU,EAAO/U,mBAJ/D,OAIOyM,EAJP,OAKsB,GAErBoJ,EAASD,aACLb,EAAO9M,YACPmM,EACAW,EAAO7B,WACP6B,EAAOtB,eACP,IAAIjX,IAAJ,YAAaiQ,EAAcxN,WAAYI,IAPtB,IAOwCoV,WACzDM,EAAO/U,kBACP+U,EAAOzB,UACPyB,EAAOzY,OAASqV,GAAWoB,QAfhC,kDAkBC9U,QAAQC,MAAM,iBAAd,MAlBD,2D,sBAsBA,SAAe4X,GAAtB,mC,8CAAO,WAA6B5N,GAA7B,yBAAAnL,EAAA,+EAEuBoO,KAFvB,cAEOlH,EAFP,OAGOtE,EAHP,OAGmBsE,QAHnB,IAGmBA,OAHnB,EAGmBA,EAAStE,UAH5B,SAIsBwK,GAAc6B,MAAM,CACrCA,MAAOC,eAAF,MAmCLC,UAAW,CACP3S,GAAI2O,EACJvI,eA1CT,UAIOhF,EAJP,OA8COqN,EAA8BrN,EAAOkD,KAAKmK,OAC5CzB,EAA0B,IAE1B5G,EAjDL,kCAkDsBgN,GAA8BhN,EAAWuI,GAlD/D,QAkDK3B,EAlDL,gCAqD+BwP,GAA8B/N,EAAOyB,KAAKkB,oBAAqBhL,GArD9F,eAqDOqL,EArDP,yBAuDQsH,GAA2BtK,EAAQgD,EAAiBzE,IAvD5D,yCAyDCtI,QAAQC,MAAM,kBAAd,MAzDD,kBA0DQ,MA1DR,2D,sBAuEA,SAAe8X,GAAtB,mC,8CAAO,WAA0BC,GAA1B,iBAAAlZ,EAAA,+EAEsBoN,GAAc6B,MAAW,CAC1CA,MAAOC,eAAF,MA6BLC,UAAW,CACPgK,QAASD,EAAQC,QACjBhD,WAAY+C,EAAQ/C,WACpBiD,MAAOF,EAAQE,MACfC,OAAQH,EAAQG,OAChBxN,UAAWqN,EAAQrN,aArC5B,cAEOjO,EAFP,OAyCO0b,EAAkB1b,EAAOkD,KAAKmK,OAAO3P,MAAMc,IAAzB,uCAA6B,WAAO6O,GAAP,eAAAjL,EAAA,sEACnBgZ,GAA8B/N,EAAOyB,KAAKkB,qBADvB,cAC3CK,EAD2C,yBAE1CsH,GAA2BtK,EAAQgD,IAFO,2CAA7B,uDAzCzB,kBA8CQsB,QAAQC,IAAI8J,IA9CpB,uCAgDCpY,QAAQC,MAAM,kBAAd,MAhDD,kBAiDQ,IAjDR,0D,sBAqDA,SAAeoY,GAAtB,uC,8CAAO,WAAsCpO,EAAkB8C,EAAkC/G,GAA1F,qBAAAlH,EAAA,+EAEsBoN,GAAc6B,MAAM,CACrCzB,YAAa,eACbyB,MAAOC,eAAF,MAiBLC,UAAW,CACP3S,GAAI2O,KAtBb,UAEOvN,EAFP,OA0BOqN,EAA8BrN,EAAOkD,KAAKmK,OAC1CrI,EA3BP,OA2BmBsE,QA3BnB,IA2BmBA,OA3BnB,EA2BmBA,EAAStE,UACvB4G,EAA0B,IAE1B5G,EA9BL,kCA+BsBgN,GAA8BhN,EAAWuI,GA/B/D,QA+BK3B,EA/BL,wCAkCQwN,GACH/L,EAAOmB,aACPnB,EAAOyB,KAAKC,cACZnD,EACAyB,EAAOiB,UAAY0I,GAAWoB,OAASpB,GAAWqB,aAClD,EACAhI,IAxCL,yCA2CC/M,QAAQC,MAAM,2BAAd,MA3CD,kBA4CQ,IA5CR,2D,oEA4DA,WAAsCgK,GAAtC,SAAAnL,EAAA,sEACoByY,KADpB,cAEMe,cAAcrO,GAFpB,4C,sBAKA,SAASsO,GAAqB/C,GACjC,OAAOgD,aAAOhD,EAAgB,sBAU3B,SAASiD,GAAuBC,GACnC,OAAQA,EAAOC,MAAK,SAAAC,GAAK,MAAsB,MAAlBA,EAAMhX,W,8CAqBhC,WAAiDqI,EAAkB4O,GAAnE,eAAA/Z,EAAA,sEACe2B,KADf,cACGG,EADH,gBAEGA,EAAIkY,kCAAkC7O,EAAU4O,GAFnD,4C,sBAKA,SAAeE,KAAtB,gC,8CAAO,8BAAAja,EAAA,sEACe2B,KADf,cACGG,EADH,gBAEqBA,EAAIoY,oBAFzB,cAEGC,EAFH,yBAGIA,EAAU/d,KAAI,SAAA0d,GAAK,OAAI1W,GAA2B0W,EAAMM,aAH5D,4C,sBAMA,SAAevL,GAAtB,qC,8CAAO,WAA+B1D,EAAkBvI,GAAjD,iBAAA5C,EAAA,sEACe2B,KADf,cACGG,EADH,gBAEwBA,EAAI+M,gBAAgBjM,EAAWuI,GAFvD,cAEG1B,EAFH,yBAGIgE,GAA+BhE,IAHnC,4C,sBAMA,SAAS4Q,GAAgBC,GAC5B,IAAMC,EAAejZ,KAAQiH,MAAMiS,QAAQF,GAE3C,MAAO,CACH3B,WAAY4B,EAAa,GACzB3B,WAAY2B,EAAaA,EAAavK,OAAS,IAWhD,SAASyK,GAAyBb,GACrC,IAAMU,EAASD,GAAgBT,EAAOxd,KAAI,SAAAse,GAAC,OAAIA,EAAE7I,UAEjD,MAAO,CACH8I,UAAWf,EAAOhN,MAAK,SAAA8N,GAAC,OAAIA,EAAE7I,MAAM+I,GAAGN,EAAO1B,eAC9CiC,WAAYjB,EAAOhN,MAAK,SAAA8N,GAAC,OAAIA,EAAE7I,MAAM+I,GAAGN,EAAO3B,eAC/CA,WAAY2B,EAAO3B,WACnBC,WAAY0B,EAAO1B,YC9U3B,IAAMkC,GAAS,CACX,YACA,UACA,mBACA,WACA,aACA,WACA,kBACA,mBAGG,SAASC,GAAmB1P,GAAsC,IAAnBY,EAAkB,wDACpE,OAAIA,GAA0B,IAAdZ,EACLyP,GAAO,GAGd7O,GAA0B,IAAdZ,EACLyP,GAAO,GAIXA,GAAOzP,GCmBX,SAAS2P,GAAkBxJ,GAC9B,GAAIA,EAAUxB,QAAU,EACpB,OAAOwB,EAAUlT,cAGrB,ICpC+B2c,EAAaC,EAAeC,EDoCrDC,EAAW5J,EAAU6J,MAAM,KAEjC,OAAwB,IAApBD,EAASpL,QAGDoL,EAAS,GAAG,GAAKA,EAAS,GAAG,IAAI9c,cACd,IAApB8c,EAASpL,QAERoL,EAAS,GAAG,GAAKA,EAAS,GAAG,GAAKA,EAAS,GAAG,IAAI9c,eC5C/B2c,ED+CbzJ,EC/C0B0J,ED+Cf,EC/C8BC,ED+C3B,GC9CtBF,EAAIK,MAAM,qDAAuD,IAChEC,MAAML,EAAOC,GAAKK,KAAK,KD6CCld,cAYhC,SAAS0Y,GACZyE,GAMiB,IALjBC,EAKgB,uDAL0B,GAC1CjG,EAIgB,uCAHhBlW,EAGgB,uCAFhB4R,EAEgB,wDADhBlD,EACgB,uCACV0N,EAAe9G,GAAgC6G,EAAiBD,GAChEnB,EAAS/a,IAASqV,GAAWoB,OAASqE,GAAgBoB,EAAKrf,KAAI,SAAAse,GAAC,OAAI,IAAIjb,IAAIib,YAAOvc,EAEzF,OAAOsd,EAAKrf,KAAI,SAACwf,EAASvQ,GAAe,IAAD,QAC9BiG,EAAcqK,EAAa/O,MAAK,SAAA0E,GAAW,OAAIA,EAAYjG,YAAcA,KACzEwQ,EAAcpG,EAAa7I,MAAK,SAAAiP,GAAW,OAAIA,EAAYxQ,YAAcA,KACzEwG,EAAQtS,IAASqV,GAAWoB,OAAS,IAAIvW,IAAImc,GAAW,IAAInc,IAAI,GAChEqc,GAAmB,OAANxB,QAAM,IAANA,OAAA,EAAAA,EAAQ3B,WAAWiC,GAAG/I,IAASrU,EAAM,yBAA2BA,EAAM,wBAEzF,MAAO,CACHsF,SAAoB,OAAX+Y,QAAW,IAAXA,OAAA,EAAAA,EAAa/Y,UAAW,IACjCgI,iBAAkB9I,GAAqB,iBAAC6Z,QAAD,IAACA,OAAD,EAACA,EAAa/Y,eAAd,QAAyB,IAAzB,iBAA8BmL,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAiB/L,gBAA/C,QAA2D,IAClGmJ,YACAyB,OAAkB,OAAXwE,QAAW,IAAXA,OAAA,EAAAA,EAAaxE,QAAS,EAC7B2E,aAA4B,OAAfxD,QAAe,IAAfA,OAAA,EAAAA,EAAiBxF,cAAe,IAC7CiJ,oBAAqB,QACrBjJ,YAAalJ,IAASqV,GAAWoB,OAAS8F,EAAad,GAAkBY,GACzEpK,UAAWjS,IAASqV,GAAWoB,OAAS8F,EAAaF,EACrDtK,aAAwB,OAAXA,QAAW,IAAXA,OAAA,EAAAA,EAAaA,cAAe,IACzCC,YAAuB,OAAXD,QAAW,IAAXA,OAAA,EAAAA,EAAaC,aAAc,IAAI9R,IAAI,GAC/CkS,QAAmB,OAAXL,QAAW,IAAXA,OAAA,EAAAA,EAAaK,SAAU,EAC/BrF,MAAK,iBAAEuP,QAAF,IAAEA,OAAF,EAAEA,EAAavP,aAAf,QAAwB,IAC7BpK,SAAQ,iBAAE+L,QAAF,IAAEA,OAAF,EAAEA,EAAiB/L,gBAAnB,QAA+B,GACvCkP,MAAiB,OAAXE,QAAW,IAAXA,OAAA,EAAAA,EAAaF,OAAQ,IAAI3R,IAAI,GACnC0R,oBACAU,QACAC,SAAUiJ,GAAmB1P,EAAW9L,IAASqV,GAAWoB,YAcjE,SAAegD,GAAtB,qC,8CAAO,WACH+C,EACAnZ,GAFG,iCAAA5C,EAAA,yDAGHgc,IAHG,iCAKClZ,EAAU,IAERmZ,EAAkBvY,GAA2BqY,IAE/CnZ,EATD,gCAUiBF,GAA0BqZ,EAA0BnZ,GAVrE,OAUCE,EAVD,8BAaoBmZ,EAbpB,UAaGpY,EAbH,YAgBCf,EAhBD,KAiBmBd,GAAsBc,EAASe,EAAS3B,UAjB3D,KAkBW2B,EAAS3B,SAlBpB,KAmBYmP,IAnBZ,KAoBa,IAAI5R,IAAI,IACbuc,EArBR,kCAqB2BjZ,GAAwBgZ,GArBnD,iDAqB+E,EArB/E,8BAwBYlY,EAASR,KAxBrB,KAyBcQ,EAASN,OAzBvB,KA6BiBwY,EA7BjB,MA8BO,IAAItc,IAAI,GA9Bf,MAgCaoE,EAASJ,WAhCtB,MAiCQ,IAAIhE,IAAI,GAjChB,mBAgBCqD,QAhBD,KAiBCgI,iBAjBD,KAkBC5I,SAlBD,KAmBCmJ,UAnBD,KAoBCkG,WApBD,KAqBCzE,MArBD,KAsBC2E,YAAa,IACbC,oBAAqB,OACrBF,UAxBD,KAyBC/I,YAzBD,KA0BC6D,MAAO,IACPgF,YAAa,GACbK,OAAQ,EACRhP,eA7BD,KA8BCyO,KA9BD,MA+BCD,mBAAmB,EACnB1N,WAhCD,MAiCCoO,MAjCD,MAkCCC,SAAU,aAlCX,6C,+CEtGQ,SAASoK,GAAT,GAKU,IAJrB1K,EAIoB,EAJpBA,UACA/N,EAGoB,EAHpBA,WAGoB,IAFpBqO,gBAEoB,MAFT,cAES,MADpB3W,iBACoB,MADR,GACQ,EACpB,OACI,sBAAKghB,MAAO,CAAEC,gBAAgB,OAAD,OAAStK,EAAT,MAAyB3W,UAAWW,IAAWV,KAAE0e,MAAO3e,GAArF,UACKsI,GAAc,qBAAKtI,UAAWC,KAAEqI,WAAYxG,IAAKwG,EAAYvG,IAAKsU,KACjE/N,GAAcuX,GAAkBxJ,M,yBCZ/B,SAAS6K,GAAT,GAIU,IAHrBjf,EAGoB,EAHpBA,SAGoB,IAFpBjC,iBAEoB,MAFR,GAEQ,EADjBkC,EACiB,wCACpB,OACI,kDAAYA,GAAZ,IAAmBlC,UAAWW,IAAWV,KAAE,mBAAoBD,GAA/D,SACKiC,K,wBCNE,SAASkf,GAAT,GAGJ,IAFP1C,EAEM,EAFNA,OACA2C,EACM,EADNA,aAEA,OACI,sBAAKphB,UAAWC,KAAE,kBAAlB,UACI,qBAAKD,UAAWC,KAAE,8BAClB,sBAAKD,UAAWC,KAAE,2BAAlB,UACI,qBAAKD,UAAWC,KAAE,2BAAlB,SACKoC,EAAM,oBAEX,qBAAKrC,UAAWC,KAAE,0BAAlB,SACKwe,EAAOxd,KAAI,SAAC0d,GAAD,OACR,yBAA8Bxd,QAAS,kBAAMigB,EAAazC,IAAQ3e,UAAWC,KAAE,yBAA/E,UACI,sBAAKD,UAAWC,KAAE,8BAAlB,UACI,cAAC8gB,GAAD,CAAOpK,SAAUgI,EAAMhI,SAAUN,UAAWsI,EAAMtI,UAAWrW,UAAWC,KAAE,gCAC1E,+BAAO0e,EAAMtI,eAEjB,qBAAKrW,UAAWC,KAAE,iCAAlB,SACK0e,EAAMhP,qBANFgP,EAAMtI,sBCA5B,SAASgL,GAAT,GAWO,IAVlBC,EAUiB,EAVjBA,cACA7C,EASiB,EATjBA,OACA5d,EAQiB,EARjBA,MACA0gB,EAOiB,EAPjBA,cACAC,EAMiB,EANjBA,SAMiB,IALjBC,qBAKiB,MALD,aAKC,MAJjBC,iBAIiB,aAHjB1hB,iBAGiB,MAHL,GAGK,MAFjB2hB,mBAEiB,MAFH,IAEG,MADjBC,qBACiB,WACyB3W,oBAAS,GADlC,mBACV4W,EADU,KACMC,EADN,KAGXC,EAAwBvW,uBAAY,WACtCsW,GAAiBD,KAClB,CAACA,IAEEG,EAAmBxW,uBAAY,SAACmT,GAClCmD,GAAgB,GAChBP,EAAc5C,KACf,CAAC4C,IAEEU,EAAiBthB,IAAWV,KAAE0R,MAAH,eAC5B1R,KAAE,uBAA+D,UAAtCqhB,EAAc/K,sBAG9C,OACI,sBAAKvW,UAAWW,IAAWV,KAAE,gBAAiBD,GAA9C,UACI,sBAAKA,UAAWC,KAAE,sBAAlB,UACI,+BAAOqhB,EAAcjL,YACpBqL,GACG,uBAAM1hB,UAAWiiB,EAAjB,UACI,sBAAMjiB,UAAWC,KAAEqW,YAAnB,SAAiCgL,EAAchL,cAC/C,uBAAMtW,UAAWC,KAAEiiB,mBAAnB,UACI,+BAAOZ,EAAc3P,MAAMvK,QAAQ,KAClCoa,GACG,qCACI,0CACA,+BAAOA,EAASpa,QAAQ,eAM1Csa,GAAa,4BAEnB,sBAAK1hB,UAAWC,KAAE,wBAAlB,UACI,sBAAKD,UAAWC,KAAE,6BAAlB,UACI,cAAC8gB,GAAD,CACI1K,UAAWiL,EAAcjL,UACzB/N,WAAYgZ,EAAchZ,WAC1BqO,SAAU2K,EAAc3K,SACxB3W,UAAWC,KAAE,8BAGE,IAAlBwe,EAAO5J,QACJ,sBAAM7U,UAAWC,KAAE,4BAAnB,SAAiDqhB,EAAchU,cAGlEmR,EAAO5J,OAAS,GACb,cAACqM,GAAD,CAAe9c,KAAK,SAASjD,QAAS4gB,EAAuB/hB,UAAWC,KAAEkiB,iBAA1E,SACsB9f,EAAjBwf,EAAuB,uBAAgC,wCAIpE,uBACIzd,KAAK,SACLvD,MAAOA,EACP8gB,YAAaA,EACb9T,SAAU+T,EACV5hB,UAAWC,KAAE,uBACbmiB,SAAU,SAACC,GAAD,OAAOZ,EAAcY,EAAExgB,OAAOhB,aAG/C4d,EAAO5J,OAAS,GAAKgN,GAClB,cAACV,GAAD,CAAeC,aAAcY,EAAkBvD,OAAQA,O,yBCvFxD,SAAS6D,GAAT,GAKJ,IAJPlhB,EAIM,EAJNA,MACAkgB,EAGM,EAHNA,cACAiB,EAEM,EAFNA,eACGrgB,EACG,0DACN,OACI,gCACI,sBAAKlC,UAAWW,IAAWV,KAAEuiB,YAAaviB,KAAEwiB,UAA5C,UACI,+BAAOrhB,IACP,eAACmY,GAAD,CAAY1L,UAAW3D,QAAQqY,GAAiBphB,QAASohB,EAAgBviB,UAAWC,KAAEyiB,cAAtF,UACKrgB,EAAM,iBAAkB,IAAI,GADjC,KAC0Cif,EAAc3R,uBAG5D,cAAC0R,GAAD,2BACQnf,GADR,IAEIof,cAAeA,Q,yBCFhB,SAASqB,GAAT,GASU,IARrBhV,EAQoB,EARpBA,KACAgL,EAOoB,EAPpBA,eACAiK,EAMoB,EANpBA,qBACAC,EAKoB,EALpBA,SACAC,EAIoB,EAJpBA,MACAC,EAGoB,EAHpBA,OACAC,EAEoB,EAFpBA,gBACAC,EACoB,EADpBA,eACoB,EACgBhY,mBCnC7B,CACHmK,SAAU,IACV8N,kBAAmB,IACnB9e,KAAM,SD+BU,mBACb+e,EADa,KACDC,EADC,KAoCpB,IAAMhV,EE9DK,SAAoC+U,EAAgCE,GAC/E,IAAMjV,EAA6B,CAC/BgH,SAAU,GACVyD,WAAW,GAmBf,MAhBwB,SAApBsK,EAAW/e,MAAmB+e,EAAW/N,WAAaiO,EAAW1b,UACjEyG,EAAOgH,SAAW/S,EAAM,+CACxB+L,EAAOyK,WAAY,GAGK,KAAxBsK,EAAW/N,UAA0C,KAAvBiO,EAAW1b,UACrC,IAAIrD,IAAI6e,EAAW/N,UAAUkO,IAAI,KACjClV,EAAOyK,WAAY,GAGnB,IAAIvU,IAAI6e,EAAW/N,UAAUmO,GAAGF,EAAW1b,WAC3CyG,EAAOyK,WAAY,EACnBzK,EAAOgH,SAAW/S,EAAM,qDAIzB+L,EFwCQoV,CAA2BL,EAAYL,GAEtD,OACI,eAAC,GAAD,CACIpK,MAAOrW,EAAM,wBACbsL,KAAMA,EACNgL,eAAgBA,EAChBC,cAXR,WACIiK,EAASM,IAWLtK,UAAWzK,EAAOyK,UAClBC,YAAiC,MAApBkK,EANjB,UASyB,MAApBA,GACG,qCACI,4BAAI3gB,EAAM,gCACV,qBAAKrC,UAAWC,KAAE0e,MAAlB,SACI,cAAC2D,GAAD,CACIlhB,MAAOiB,EAAM,uBACbkf,cAAe,aACf1gB,MAAOsiB,EAAWD,kBAClBzE,OAAQ,CAACqE,GACTxB,cAAewB,EACfrB,cAAe,SAACgC,GAAD,OAlCZ5iB,EAkCqC4iB,OAjC5DL,EAAc,2BACPD,GADM,IAET/N,SAAoB,KAAVvU,EAAesF,KAAQiH,MAAMsW,QAAQ7iB,EAAOiiB,EAAM/b,UAAY,IACxEmc,kBAAmBriB,KAJ3B,IAA2BA,GAmCH6gB,WAAW,EACXa,eA5CxB,WACIa,EAAc,2BACPD,GADM,IAET/N,SAAU0N,EAAMnb,QAChBub,kBAAmB/c,KAAQiH,MAAMC,YAAYyV,EAAMnb,QAASmb,EAAM/b,SAAU,WA4CpE,qBAAK/G,UAAWC,KAAE0jB,aAAlB,SACI,cAAC,GAAD,CAAYxiB,QA9DhC,WACI,IAAMyiB,EAA+B,WAApBT,EAAW/e,KAAoB,OAAS,SAEzDgf,EAAc,2BACPD,GADM,IAETD,kBAAmB,IACnB9N,SAAU,IACVhR,KAAMwf,KAGVhB,KAoD8D/W,KAAMgY,GAAM9hB,IAAKM,EAAM,kCAGzE,qBAAKrC,UAAWC,KAAE0e,MAAlB,SACI,cAAC2D,GAAD,CACIlhB,MAAOiB,EAAM,2BACbkf,cAAe,aACf1gB,MAAOsiB,EAAWD,kBAClBzE,OAAQ,CAACsE,GACTzB,cAAeyB,EACfnB,eAAa,EACbF,WAAW,SAMN,MAApBsB,GACG,qCACI,4BAAI3gB,EAAM,6CAA8C,CAAEyE,OAAQX,KAAQiH,MAAMC,YAAY2V,EAAiB,GAAI,OACjH,sBAAKhjB,UAAWC,KAAE6jB,eAAlB,UACI,cAAC,EAAD,CAAQ9jB,UAAWC,KAAE8jB,oBAAqB5iB,QAAS8hB,EAAnD,SAAoE5gB,EAAM,0BAC1E,cAAC,EAAD,CAAQlB,QAAS8hB,EAAjB,SAAkC5gB,EAAM,wCAAyC,CAAEyE,OAAQX,KAAQiH,MAAMC,YAAY2V,EAAiB,GAAI,aAKtJ,cAAC,GAAD,CAAOhd,MAAOoI,EAAOgH,cGxHlB,SAAS4O,KACpB,IAAMzM,EAAWO,cAD6B,EAEd7M,oBAAS,GAFK,mBAEvCgZ,EAFuC,KAE7BC,EAF6B,KAGxCC,EAAejM,aAAY,SAACC,GAAD,OAAqBA,EAAMiM,QAAQ1M,sBAC9D9I,EAAYsJ,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQ6C,aAC3DE,EAAmBoJ,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQ+C,oBAClEkU,EAAkB9K,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQiD,8BAEjEqV,EAA2B7Y,uBAAY,WACzC+L,EAASK,IAA0B,MACpC,CAACL,IAEJvO,qBAAU,WACNuO,ExByBJ,uCAAO,WAAOA,GAAP,uBAAA1S,EAAA,6DACGyf,EAAmBxO,KACnByO,EAA0B3N,KAF7B,SAIqB3D,KAJrB,UAKiB,OALjB,wCAM4BgE,KAN5B,UAQ4B,MAR5B,OAQkBC,MARlB,kCASmCE,KATnC,QASW4L,EATX,OAUKzL,EAASxI,GAA8BiU,IAV5C,yBAcqBsB,EAdrB,eAcG1V,EAdH,iBAe4B2V,EAf5B,QAeGzV,EAfH,OAiBHyI,EAAS5I,GAAaC,IACtB2I,EAAS1I,GAAoBC,IAlB1B,4CAAP,yDwBxBG,CAACyI,EAAU4M,IAEd,IAAMK,EAA2BhZ,uBAAY,WACzC0Y,GAAaD,KACd,CAACA,IAEEQ,EAAejZ,uBAAY,SAAC2X,GACN,SAApBA,EAAW/e,KzBkEhB,SAAP,4ByBjEY2S,CAASoM,EAAW/N,UzBsEzB,SAAP,4ByBpEY4B,CAAWmM,EAAW/N,YAE3B,IAEGsP,EAAqBlZ,uBAAY,WAC9BwX,GzBwFN,SAAP,8ByBtFQ2B,CAA0B3B,KAC3B,CAACA,IAEJ,OAAKpU,GAAcE,EAKf,cAAC6T,GAAD,CACIhV,KAAMwW,EACNxL,eAAgB0L,EAChBxB,SAAU4B,EACV7B,qBAAsB4B,EACtB1B,MAAOmB,EAAWnV,EAAmBF,EACrCmU,OAAQkB,EAAWrV,EAAYE,EAC/BkU,gBAAe,OAAEA,QAAF,IAAEA,IAAmB,IACpCC,eAAgByB,IAZb,wB,yBChCA,SAASE,GAAT,GAGJ,IAFPjX,EAEM,EAFNA,KACAgL,EACM,EADNA,eAEA,OACI,eAAC,GAAD,CAAQI,eAAgB9Y,KAAE4kB,OAAQnM,MAAOrW,EAAM,oBAAqByW,aAAW,EAACnL,KAAMA,EAAMgL,eAAgB,aAAUC,cAAe,aAArI,UACI,mBAAG5Y,UAAWC,KAAE8P,YAAhB,SAA8B1N,EAAM,4BACpC,cAAC,EAAD,CAAQrC,UAAWC,KAAEmC,OAAQjB,QAASwX,EAAtC,SAAuDtW,EAAM,iCChBzE,IAAMyiB,GAAyB,2BAEhB,SAASC,KAA6B,IAAD,EACxB9Z,oBAAS,GADe,mBACzC0C,EADyC,KACnCqX,EADmC,KAGhDhc,qBAAU,aACgBS,aAAaC,QAAQob,KAGvCE,GAAQ,KAEb,IAEH,IAAMC,EAAczZ,uBAAY,WAC5B/B,aAAagC,QAAQqZ,GAAwB,OAC7CE,GAAQ,KACT,IAEH,OACI,cAACJ,GAAD,CACIjX,KAAMA,EACNgL,eAAgBsM,ICNb,SAASC,GAAT,GAO6B,IAAD,EANvCjjB,EAMuC,EANvCA,SAMuC,IALvCkjB,qBAKuC,aAJvCC,iBAIuC,aAHvCC,YAGuC,MAHhC,SAGgC,MAFvCrlB,iBAEuC,MAF3B,GAE2B,MADvCslB,qBACuC,MADvB,GACuB,EACjCC,EAAoB5kB,IAAW6kB,KAAOC,WAAYH,GAApB,mBAC/BE,KAAO,qBAAgC,UAATH,GADC,cAE/BG,KAAO,4BAAuC,iBAATH,GAFN,IASpC,OAJArc,qBAAU,WACN0B,IAAY,KACb,IAGC,sBAAK1K,UAAS,UAAKwlB,KAAOE,KAAZ,YAAoB1lB,GAAlC,UAEKmlB,GAAiB,cAACtN,GAAD,IAClB,cAACmM,GAAD,IACA,cAACe,GAAD,IACA,sBAAM/kB,UAAWulB,EAAjB,SACKtjB,IAEJmjB,GAAa,cAAC9jB,EAAD,O,cCxCbqkB,GAAuB,SAACC,GACjC,GAAIA,EAAYlH,MAAK,SAAA/J,GAAC,OAAU,IAANA,KACtB,MAAM,IAAI1O,MAAM,0EAGpB,IAAM4f,EAAiBD,EAAY3kB,KAAI,SAAA0T,GAAC,OAAI,IAAIrQ,IAAIqQ,MAC9CmR,EAAUD,EAAeE,QAAO,SAAClhB,EAAGiV,GAAJ,OAAUjV,EAAEyC,IAAIwS,MAOtD,OALyB+L,EACpB5kB,KAAI,SAAA+kB,GAAC,OAAIF,EAAQ3e,IAAI6e,MACrB/kB,KAAI,SAAA0T,GAAC,OAAIA,EAAErN,IAAI,KAAS2e,WACxBhlB,KAAI,SAAA0T,GAAC,OAAI,IAAIrQ,IAAIqQ,EAAE4H,gBCRf2J,GAAb,WAGI,WAAYna,EAAkBvE,GAAyB,0BAFvDuN,cAEsD,EAClDC,KAAKD,SAAW,IAAIE,YAASlJ,EAASvE,EAAgB,CAClD2N,YAAa,CAAC,iBACdD,cAAe,CAAC,mBAAoB,sBANhD,kMAU0BzN,EAV1B,+BAUsCuN,KAAKD,SAAShJ,QAAQtE,UAV5D,kBAYeuN,KAAKD,SAASoR,iBAAiB,CAClC5Q,WAAY9N,GAEZ7D,EACAE,KAhBZ,gLAoBqB2D,GApBrB,0FAsBeuN,KAAKD,SAASW,cAAc,CAACH,WAAY9N,KAtBxD,0KA0BQuI,EACA6M,GA3BR,8EA6BYuJ,EAAMC,KAAKC,UAAU,CACrBC,SAAU,MACVC,KAAM,CACF7J,UAAW3M,EACXiN,eAAgBJ,EAAO6G,QAAQxT,UAC/BuW,eAAgB,IAAI5iB,IAAGgZ,EAAOG,WAAW1V,IAAI,IAAIzD,IAAG,OAAO6iB,IAAI,IAAI7iB,IlDtBnD,KkDsB0EsD,IAAI,IAAItD,IAAG,QAAQ0Y,cAlC7H,kBAuCevH,KAAKD,SAAS4R,iBAAiB,CAC9BC,YAAaljB,EACboD,OAAQ+V,EAAOzH,SACfgR,OAEJxiB,EACA,IAAIC,IAAG,KA7CnB,qLAkDuBmM,EAAkBoF,GAlDzC,4FAkD2DyR,EAlD3D,+BAkDwF,GAC5ET,EAAMC,KAAKC,UAAU,CACrBC,SAAU,gBACVC,KAAM,CACF7J,UAAW3M,EACX8W,kBAAmBD,EAAiBhS,OAASgS,EAAmB,QAKhD,IAAIhjB,IAAG,2BAA2ByD,IAAI,IAAIzD,IAAGgjB,EAAiBhS,SA5D9F,kBA+DeG,KAAKD,SAAS4R,iBAAiB,CAClCC,YAAaljB,EACboD,OAAQsO,EACRgR,OAEAxiB,EACA,IAAIC,IAAG,KArEnB,gHA2EIkjB,GAA6C,IAAItiB,IAKtC,SAAeuiB,GAA9B,mC,8CAAe,WAAmCxf,GAAnC,mBAAA3C,EAAA,2DACLoiB,EAAWF,GAAehiB,IAAIyC,IADzB,yCAGAyf,GAHA,uBAMUvgB,KANV,cAMLmP,EANK,OAOLqR,EAAc,IAAIhB,GAAcrQ,EAAO9J,UAAWvE,GAExDuf,GAAe7hB,IAAIsC,EAAgB0f,GATxB,kBAWJA,GAXI,4C,sBClER,SAAeC,GAAtB,uC,8CAAO,WAAwBnX,EAAkBiP,EAAiBpC,GAA3D,iBAAAhY,EAAA,sEACiBmiB,GAAoB/H,GADrC,OACGN,EADH,OAEGyI,EAAUzB,GAAqB9I,EAAOwK,mBAAmBpmB,KAAI,SAAAqmB,GAAC,OAAInM,OAAOmM,OAE/E3I,EAAM4I,aACFvX,EACA6M,EAAO2K,eACPJ,EAAQnmB,KAAI,SAAAwf,GAAO,OAAIA,EAAQlE,eAPhC,4C,sBAWA,SAAekL,GAAtB,qC,8CAAO,WAAgC3X,EAAyB+M,GAAzD,qBAAAhY,EAAA,sEACiBmiB,GAAoBlX,EAAOhI,mBAD5C,cACG6W,EADH,OAEGQ,EAASD,GAAgBpP,EAAO8L,cAAc3a,KAAI,SAAA0d,GAAK,OAAIA,EAAMjI,UACjEgR,EAAuBvhB,KAAQiH,MAAMua,kCAAkC9K,EAAO+K,aAAczI,EAAO3B,WAAY2B,EAAO1B,YACtH2J,EAAUjhB,KAAQiH,MAAMuY,qBAAqB+B,GAAsBzmB,KAAI,SAAAwiB,GAAC,OAAIA,EAAElH,cAJjF,kBAKIoC,EAAM4I,aAAazX,EAAOzO,GAAIwb,EAAO2K,eAAgBJ,IALzD,4C,oEAQA,WAAwBpX,EAAkBoF,EAAkB6J,GAA5D,SAAApa,EAAA,sEACiBmiB,GAAoB/H,GADrC,cAEGsI,aAAavX,EAAUoF,GAF1B,4C,sBAKA,SAAeyS,GAAtB,qC,8CAAO,WAAwB7X,EAAkBoF,GAA1C,SAAAvQ,EAAA,sEACiByY,KADjB,cAGGuK,SAAS7X,EAAUoF,GAHtB,4C,sBDwCPjL,OAAO6c,oBAAsBA,GEjE7B,IAUMc,GAAe/Z,aAAY,CAC7BC,aAX8B,CAC9B+Z,eAAe,EACfC,aAAa,EACbC,QAAS,GACTC,eAAgB,GAChB5Z,aAAc,GACd6Z,kBAAmB,GACnBC,eAAgB,IAKhBlgB,KAAM,UACNqG,SAAU,CACN8Z,gBADM,SACU1d,EAAoB8D,GAChC,OAAO,YAAC,eACD9D,GADP,IAEI2d,YAAa7Z,EAAOC,WAG5B6Z,kBAPM,SAOY5d,EAAoB8D,GAClC,OAAO,YAAC,eACD9D,GADP,IAEIyd,eAAgB3Z,EAAOC,WAG/B8Z,iBAbM,SAaW7d,EAAoB8D,GACjC,OAAO,YAAC,eACD9D,GADP,IAEIod,cAAetZ,EAAOC,WAG9B+Z,qBAnBM,SAmBe9d,EAAoB8D,GACrC,OAAO,YAAC,eACD9D,GADP,IAEIqd,YAAavZ,EAAOC,WAG5Bga,kBAzBM,SAyBY/d,EAAoB8D,GAClC,OAAO,YAAC,eACD9D,GADP,IAEIud,eAAgBzZ,EAAOC,WAG/Bia,qBA/BM,SA+Behe,EAAoB8D,GACrC,OAAO,YAAC,eACD9D,GADP,IAEIud,eAAe,GAAD,oBAAMzZ,EAAOC,SAAb,aAAyB/D,EAAMud,oBAGrDU,WArCM,SAqCKje,EAAoB8D,GAC3B,OAAO,YAAC,eACD9D,GADP,IAEIsd,QAASxZ,EAAOC,WAGxBma,cA3CM,SA2CQle,EAAoB8D,GAC9B,OAAO,YAAC,eACD9D,GADP,IAEIsd,QAAQ,GAAD,oBAAMxZ,EAAOC,SAAb,aAAyB/D,EAAMsd,aAG9Ca,qBAjDM,SAiDene,EAAoB8D,GACrC,OAAO,YAAC,eACD9D,GADP,IAEIwd,kBAAmB1Z,EAAOC,WAGlCqa,wBAvDM,SAuDkBpe,EAAoB8D,GACxC,OAAO,YAAC,eACD9D,GADP,IAEIwd,kBAAkB,GAAD,oBAAM1Z,EAAOC,SAAb,aAAyB/D,EAAMwd,uBAGxDa,gBA7DM,SA6DUre,EAAoB8D,GAChC,OAAO,YAAC,eACD9D,GADP,IAEIse,aAAcxa,EAAOC,WAG7Bwa,sBAnEM,SAmEgBve,EAAoB8D,GACtC,OAAK9D,EAAMse,aAIJ,YAAC,eACDte,GADP,IAEIse,aAAa,2BACNte,EAAMse,cADD,IAERrN,cAAenN,EAAOC,YAPnB/D,GAWfwe,0BAhFM,SAgFoBxe,EAAoB8D,GAC1C,OAAO,YAAC,eACD9D,GADP,IAEIye,iBAAkB3a,EAAOC,WAGjC2a,sBAtFM,SAsFgB1e,EAAoB8D,GACtC,OAAO,YAAC,eACD9D,GADP,IAEI2D,aAAcG,EAAOC,c,GAqBjCoZ,GAAavY,QAdb8Y,G,GAAAA,gBACAG,G,GAAAA,iBACAI,G,GAAAA,WACAE,G,GAAAA,qBACAE,G,GAAAA,gBACAP,G,GAAAA,qBACAI,G,GAAAA,cACAM,G,GAAAA,0BACAD,G,GAAAA,sBACAX,G,GAAAA,kBACAI,G,GAAAA,qBACAD,G,GAAAA,kBACAK,G,GAAAA,wBACAM,G,GAAAA,sBAGWvB,MAAf,Q,wBCjJe,OAA0B,0CCA1B,OAA0B,wCCA1B,OAA0B,wCCA1B,OAA0B,2CCA1B,OAA0B,yCCA1B,OAA0B,yCCA1B,OAA0B,wCCA1B,OAA0B,sCCA1B,OAA0B,sCCA1B,OAA0B,4CCA1B,OAA0B,0CCA1B,OAA0B,0CCA1B,OAA0B,0CCA1B,OAA0B,wCCA1B,OAA0B,wCCA1B,OAA0B,4CCA1B,OAA0B,0CCA1B,OAA0B,0CCA1B,OAA0B,0CCA1B,OAA0B,6CCA1B,OAA0B,6CCA1B,OAA0B,yCCA1B,OAA0B,uCCA1B,OAA0B,uCCA1B,OAA0B,sCCA1B,OAA0B,wCCA1B,OAA0B,sCCgD1B,SAASwB,GAAgBvO,GACpC,OAAQA,GACJ,KAAKvB,GAAe+P,OAChB,MAAO,CACHC,WAAYC,GACZ1O,WACA2O,SAAUC,GACV9d,KAAM+d,GACNlR,MAAOrW,EAAM,0BACbwnB,MAAO,WAEf,KAAKrQ,GAAesQ,QAChB,MAAO,CACHN,WAAYO,GACZhP,WACA2O,SAAUM,GACVne,KAAMoe,GACNvR,MAAOrW,EAAM,2BACbwnB,MAAO,WAEf,KAAKrQ,GAAe0Q,KAChB,MAAO,CACHV,WAAYW,GACZpP,WACA2O,SAAUU,GACVve,KAAMwe,GACN3R,MAAOrW,EAAM,wBACbwnB,MAAO,WAEf,KAAKrQ,GAAe8Q,SAChB,MAAO,CACHd,WAAYe,GACZxP,WACA2O,SAAUc,GACV3e,KAAM4e,GACN/R,MAAOrW,EAAM,4BACbwnB,MAAO,WAEf,KAAKrQ,GAAekR,OAChB,MAAO,CACHlB,WAAYmB,GACZ5P,WACA2O,SAAUkB,GACV/e,KAAMgf,GACNnS,MAAOrW,EAAM,0BACbwnB,MAAO,WAEf,KAAKrQ,GAAesR,SAChB,MAAO,CACHtB,WAAYuB,GACZhQ,WACA2O,SAAUsB,GACVnf,KAAMof,GACNvS,MAAOrW,EAAM,4BACbwnB,MAAO,WAEf,KAAKrQ,GAAe0R,OAChB,MAAO,CACH1B,WAAY2B,GACZpQ,WACA2O,SAAU0B,GACVvf,KAAMwf,GACN3S,MAAOrW,EAAM,0BACbwnB,MAAO,WAEf,KAAKrQ,GAAe8R,MAChB,MAAO,CACH9B,WAAY+B,GACZxQ,WACA2O,SAAU8B,GACV3f,KAAM4f,GACN/S,MAAOrW,EAAM,yBACbwnB,MAAO,WAEf,KAAKrQ,GAAekS,KAChB,MAAO,CACHlC,WAAYmC,GACZ5Q,WACA2O,SAAUkC,GACV/f,KAAMggB,GACNnT,MAAOrW,EAAM,wBACbwnB,MAAO,WAEf,QACI,MAAO,CACHL,WAAY2B,GACZpQ,SAAUvB,GAAesS,QACzBpC,SAAU0B,GACVvf,KAAMwf,GACN3S,MAAOqC,EACP8O,MAAO,Y,yBCzHR,SAASkC,GAAT,GAMJ,IALPhR,EAKM,EALNA,SACA5Z,EAIM,EAJNA,QAIM,IAHN+J,cAGM,aAFN9G,YAEM,MAFC,QAED,MADNpE,iBACM,MADM,GACN,EACAgsB,EAAe1C,GAAgBvO,GAE/BkR,EAAgBtrB,IAAWV,KAAEW,KAAMZ,EAAT,eAC3BC,KAAE,gBAAkBiL,IAGzB,MAAa,WAAT9G,EAEI,eAACpC,EAAA,EAAD,CAAQb,QAASA,EAASnB,UAAWisB,EAArC,UACI,sBAAMjsB,UAAWC,KAAEyY,MAAnB,SAA2BsT,EAAatT,QACxC,qBAAK5W,IAAKkqB,EAAangB,KAAM9J,IAAKiqB,EAAatT,MAAO1Y,UAAWC,KAAE4L,UAM3E,sBAAK7L,UAAWisB,EAAhB,UACI,sBAAMjsB,UAAWC,KAAEyY,MAAnB,SAA2BsT,EAAatT,QACxC,qBAAK5W,IAAKkqB,EAAangB,KAAM9J,IAAKiqB,EAAatT,MAAO1Y,UAAWC,KAAE4L,U,yBC3BhE,SAASqgB,GAAT,GAGU,IAFrBpc,EAEoB,EAFpBA,OAEoB,IADpB9P,iBACoB,MADR,GACQ,EACdgsB,EAAelc,EAAOiL,SAASlG,OAAS/E,EAAOiL,SAAS9Z,KAAI,SAAA8Z,GAAQ,OAAIuO,GAAgBvO,MAAa,CAACuO,MAE5G,OACI,sBAAKtpB,UAAWW,IAAWV,KAAEW,KAAMZ,GAAYghB,MAAO,CAAEC,gBAAiB+K,EAAa,GAAGnC,OAAzF,UACI,gCACI,sBAAM7pB,UAAWC,KAAEksB,cAAnB,SAAmCH,EAAa/qB,KAAI,SAAAyZ,GAAI,OAAIA,EAAKhC,SAAO2H,KAAK,SAC7E,oBAAIrgB,UAAWC,KAAEyY,MAAjB,SAAyB5I,EAAOC,iBAEpC,qBAAK/P,UAAWC,KAAEmsB,OAAQtqB,IAAKkqB,EAAa,GAAGtC,SAAU3nB,IAAK+N,EAAOiL,SAAS,KAC9E,qBAAK/a,UAAWC,KAAEosB,eAAlB,SACI,iCAAOhqB,EAAM,yBAAb,IAAuC,iCAASic,GAAqBxO,EAAOyL,0B,8CCjB7E,SAAS+Q,GAAT,GAGU,IAFrB7N,EAEoB,EAFpBA,OAEoB,IADpBze,iBACoB,MADR,GACQ,EACpB,OACI,qBAAKA,UAAWW,IAAWV,KAAE,qBAAsBD,GAAnD,SACKye,EAAOxd,KAAI,SAAC0d,EAAO3E,GAChB,IAAMxD,EAASmI,EAAM1I,KAAK3O,IAAI,KAE9B,OACI,sBAEItH,UAAWC,KAAE,6BACb+gB,MAAO,CACHuL,MAAM,GAAD,OAAK/V,EAAO+F,WAAZ,KACL0E,gBAAgB,OAAD,OAAStC,EAAMhI,SAAf,OAJdqD,QCvBtB,SAASwS,GAAmBC,GAC/B,OAAOA,EAAIlQ,WAAWzZ,QAAQ,wBAAyB,K,wBCY5C,SAAS4pB,GAAT,GAEJ,IADP5c,EACM,EADNA,OAEA,OACI,qCACI,oBAAI9P,UAAWC,KAAC,MAAhB,SACKoC,EAAM,0BAEX,cAACiqB,GAAD,CAAiB7N,OAAQ3O,EAAO8L,cAAe5b,UAAWC,KAAE,sBAC5D,qBAAKD,UAAWC,KAAE,oBAAlB,SACK6P,EAAO8L,cAAc3a,KAAI,SAACwf,EAASzG,GAAV,OACtB,sBAA6Bha,UAAWC,KAAC,QAAzC,UACI,sBAAKD,UAAWC,KAAE,yBAAlB,UACI,qBAAK+gB,MAAO,CAAEC,gBAAgB,OAAD,OAASR,EAAQ9J,SAAjB,MAAgC3W,UAAWC,KAAE0sB,aAC1E,sBAAM3sB,UAAWC,KAAEoW,UAAnB,SAA+BoK,EAAQpK,eAE3C,uBAAMrW,UAAWC,KAAE2sB,WAAnB,UAAgCnM,EAAQxK,KAAK3O,IAAI,KAAKulB,WAAWzlB,QAAQ,GAAzE,SALMqZ,EAAQvQ,gBAS1B,sBAAKlQ,UAAWC,KAAE,kBAAlB,UACI,+BAAOoC,EAAM,8BACb,iCACKmqB,GAAmB3lB,GAAsBiJ,EAAO0L,OAAQ1L,EAAOgD,gBAAgB/L,WADpF,IACiG+I,EAAOgD,gBAAgBxF,qB,yBCpBzH,SAASwf,GAAT,GAEJ,IADPhd,EACM,EADNA,OAEMqP,EAASD,GAAgBpP,EAAO8L,cAAc3a,KAAI,SAAAse,GAAC,OAAIA,EAAE7I,UACzDqW,EAAezN,GAAyBxP,EAAO8L,eAC/CoR,EAAc7mB,KAAQiH,MAAM6f,gBAAgB9N,EAAO3B,WAAY2B,EAAO1B,WAAY,IAAInZ,IAAIyoB,EAAavN,UAAU7N,QAEvH,OACI,qCACI,oBAAI3R,UAAWC,KAAEyY,MAAjB,SACKrW,EAAM,0BAEX,sBAAKrC,UAAWC,KAAEitB,aAAlB,UACI,+BAAO7qB,EAAM,8BACb,iCAAO8c,EAAO3B,WAAWjB,WAAzB,MAAwC4C,EAAO1B,WAAWlB,iBAE9D,sBAAKvc,UAAWC,KAAEktB,gBAAlB,UACI,+BAAO9qB,EAAM,kCACb,+BACK8D,KAAQiH,MAAMC,YAAY2f,EAAYzQ,WAAY,EtFblC,QsFgBzB,sBAAKvc,UAAWC,KAAEmtB,cAAlB,UACI,+BAAO/qB,EAAM,8BACb,iCACKmqB,GAAmB3lB,GAAsBiJ,EAAO0L,OAAQ1L,EAAOgD,gBAAgB/L,WADpF,IACiG+I,EAAOgD,gBAAgBxF,qB,yBC9BzH,SAAS+f,GAAT,GAEU,IADrBvd,EACoB,EADpBA,OAEA,OACI,sBAAK9P,UAAWC,KAAEW,KAAlB,UACKkP,EAAO1L,OAASqV,GAAWoB,QAAW,cAAC6R,GAAD,CAAwB5c,OAAQA,IACtEA,EAAO1L,OAASqV,GAAWoB,QAAW,cAACiS,GAAD,CAAmBhd,OAAQA,OCD/D,SAASwd,GAAT,GAIJ,IAHPxd,EAGM,EAHNA,OACApO,EAEM,EAFNA,KAEM,IADN1B,iBACM,MADM,GACN,EACN,OACI,eAAC,IAAD,CAAM8M,GAAI,CAAEygB,SAAU7rB,EAAMiJ,MAAO,CAAE6iB,WAAW,IAAUxtB,UAAWW,IAAWV,KAAEW,KAAMZ,GAAxF,UACI,cAACksB,GAAD,CAAgBpc,OAAQA,EAAQ9P,UAAWC,KAAEwtB,WAC7C,cAACJ,GAAD,CAAmBvd,OAAQA,O,wBCHxB,SAAS4d,GAAT,GAOU,IANrBzF,EAMoB,EANpBA,QACA0F,EAKoB,EALpBA,eACAC,EAIoB,EAJpBA,qBACAC,EAGoB,EAHpBA,cACA5f,EAEoB,EAFpBA,QACA6f,EACoB,EADpBA,eAEMC,EAAmBC,mBAAQ,kBAAMC,OAAOpR,OAAOrD,IAAgB1Y,QAAO,SAAAia,GAAQ,OAAIA,IAAavB,GAAesS,aAAU,IAiB9H,OACI,sBAAK9rB,UAAWC,KAAEW,KAAlB,UACI,qBAAKZ,UAAWC,KAAE8d,QAAlB,SACKgQ,EAAiB9sB,KAAI,SAAC8Z,GAAD,aAClB,cAACgR,GAAD,CAEI/rB,UAAWC,KAAEa,OACbia,SAAUA,EACV7P,OAAM,UAAE2iB,EAAc7S,kBAAhB,aAAE,EAA0BkT,SAASnT,GAC3C5Z,QAAS,kBAxB7B,SAA6B4Z,GAA2B,IAAD,EAK5C,EAJHoT,EAAmBN,EAAc7S,YAErC,UAAImT,SAAJ,aAAI,EAAkBD,SAASnT,IAC3BoT,EAAmBA,EAAiBrtB,QAAO,SAAAstB,GAAG,OAAIA,IAAQrT,KAE1C,QAAhB,EAAAoT,SAAA,SAAkBxb,KAAKoI,GAG3B4S,EAAe,2BACRE,GADO,IAEV7S,WAAYmT,KAaeE,CAAoBtT,IACnC3W,KAAK,UALA2W,QASjB,cAAC,KAAD,CACIuT,WAAYrG,EAAQpT,OACpB0Z,KAAMX,EACNY,QAASV,EACTW,OAAQ,wBACRzuB,UAAWC,KAAEgoB,QALjB,SAOKA,EAAQhnB,KAAI,SAAA6O,GAAM,OACf,cAACwd,GAAD,CAEI5rB,KAAM6W,GAAW0Q,aAAanZ,EAAOzO,IACrCrB,UAAWC,KAAE6P,OACbA,OAAQA,GAHHA,EAAOzO,SAQxB,qBAAKrB,UAAWC,KAAEgoB,QAAlB,SACKha,GACG,IAAIygB,MAAM,GAAGC,KAAK,IAAI1tB,KAAI,SAAC2tB,EAAG5U,GAAJ,OACtB,sBAAKha,UAAWC,KAAE6P,OAAlB,UACI,cAAC+e,GAAA,EAAD,CAAUvuB,QAAQ,OAAOwuB,OAAQ,IAAK9uB,UAAWC,KAAE8uB,WACnD,cAACF,GAAA,EAAD,CAAUvuB,QAAQ,OAAOwuB,OAAQ,IAAK9uB,UAAWC,KAAE8uB,aAFxB/U,WChExC,SAASgV,GAAT,GAKU,IAJrBC,EAIoB,EAJpBA,SACAhH,EAGoB,EAHpBA,QACAiH,EAEoB,EAFpBA,qBACAC,EACoB,EADpBA,sBAEMlhB,EAAUiK,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOiY,iBACxDhQ,EAAUC,cACVoX,EAAWC,cACXnR,EAASnV,iBAAe,GAJV,EAKUkC,mBAAQ,aAClC+P,WAAY,IACTkU,IAPa,mBAKbnR,EALa,KAKJuR,EALI,KAiDpB,OAxBAtmB,qBAAU,WACN,IAAMumB,EAAc,IAAIC,gBAAgBJ,EAASK,QAC3CC,EAA+B,2BAC9B3R,GAD8B,IAEjCE,MAAO/Z,GACP8W,WAAYuU,EAAYI,OAAO,gBAGnCR,EAAsBO,GAAkB,GACxCJ,EAAWI,KACZ,CAACN,IAeA,cAAC1B,GAAD,CACIzf,QAASA,EACTga,QAASA,EACT4F,cAAe9P,EACf4P,eA3CR,SAA4BiC,GAA4B,IAAD,EAC7CL,EAAc,IAAIC,iBAExB,UAAII,EAAW5U,kBAAf,aAAI,EAAuBnG,SACvB+a,EAAW5U,WAAW6U,SAAQ,SAAC9U,GAC3BwU,EAAYO,OAAO,aAAc/U,EAASwB,eAIlDxE,EAAQjV,QAAR,UAAmBmsB,EAAnB,YAA+BM,EAAYhT,cAmCvCqR,qBAlBR,WACI1P,EAAOjV,SAAW/E,GAElB,IAAMwrB,EAA+B,2BAC9B3R,GAD8B,IAEjCG,OAAQA,EAAOjV,QACfgV,MAAO/Z,KAGXirB,EAAsBO,GAAkB,IAUpC5B,eAAgB7F,EAAQpT,OAAS3Q,KAAkB,ICpEhD,SAAS6rB,KACpB,IAAMxY,EAAWO,cACXmQ,EAAU/P,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOqY,qBACxD6H,EAAqBxkB,uBAAY,SAACuS,EAAwB+R,GAC5DvY,EC4GD,SAAgCwG,EAAwB+R,GAC3D,8CAAO,WAAOvY,GAAP,eAAA1S,EAAA,sEAEC0S,EAASiR,IAAiB,IAF3B,SAIuB1K,GAAW,2BAC1BC,GADyB,IAE5BC,SAAS,EACTtN,WAAW,KAPhB,OAIOuX,EAJP,OAWK1Q,EADAuY,EACS/G,GAAwBd,GAExBa,GAAqBb,IAGlC1Q,EAASiR,IAAiB,IAhB3B,gDAkBCjR,EAASiR,IAAiB,IAC1BziB,QAAQC,MAAM,2BAAd,MAnBD,yDAAP,sDD7GaiqB,CAAuBlS,EAAS+R,MAC1C,CAACvY,IAEJ,OACI,cAACyX,GAAD,CACI/G,QAASA,EACTkH,sBAAuBa,EACvBf,SAAU1W,GAAW2X,YACrBhB,qBAAsB,CAClBlR,SAAS,EACTtN,WAAW,KEjBZ,SAASyf,KACpB,OACI,oCACI,cAACC,GAAA,EAAD,UACI,gCACK/tB,EAAM,8BAA+B,CAClCguB,QAAShuB,EAAM,wBAI3B,cAAC0tB,GAAD,OCPG,SAASO,KACpB,IAAM/Y,EAAWO,cACXmQ,EAAU/P,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmY,WACxD+H,EAAqBxkB,uBAAY,SAACuS,EAAwB+R,GAC5DvY,EF4DD,SAAsBwG,EAAwB+R,GACjD,8CAAO,WAAOvY,GAAP,eAAA1S,EAAA,sEAEC0S,EAASiR,IAAiB,IAF3B,SAGuB1K,GAAW,2BAC1BC,GADyB,IAE5BrN,WAAW,EACXsN,SAAS,KANd,OAGOiK,EAHP,OAUK1Q,EADAuY,EACSjH,GAAcZ,GAEdW,GAAWX,IAGxB1Q,EAASiR,IAAiB,IAf3B,gDAiBCjR,EAASiR,IAAiB,IAC1BziB,QAAQC,MAAM,iBAAd,MAlBD,yDAAP,sDE7DauqB,CAAaxS,EAAS+R,MAChC,CAACvY,IAEJ,OACI,cAACyX,GAAD,CACI/G,QAASA,EACTkH,sBAAuBa,EACvBf,SAAU1W,GAAW3X,OACrBsuB,qBAAsB,CAClBlR,SAAS,KChBV,SAASwS,KACpB,OACI,oCACI,cAACJ,GAAA,EAAD,UACI,gCACK/tB,EAAM,kBAAmB,CACtBguB,QAAShuB,EAAM,wBAI3B,cAACiuB,GAAD,O,mCCJG,SAASG,GAAT,GAKU,IAJrB5vB,EAIoB,EAJpBA,MACA6vB,EAGoB,EAHpBA,WACA1qB,EAEoB,EAFpBA,MACAoc,EACoB,EADpBA,SAEA,OACI,cAAC,KAAD,CACIuO,aAAa,WACb9vB,MAAOA,EACPb,UAAWC,KAAEW,KACbgwB,MAAM,EACNxO,SAAUA,EACVsO,WAAYA,EACZ1qB,MAAOA,I,yBClBJ,SAAS6qB,GAAT,GAEU,IADrBluB,EACoB,EADpBA,KAEA,OACI,uBAAO3C,UAAWC,KAAEW,KAApB,SAA2B+B,I,mCCKpB,SAASmuB,GAAT,GAOmB,IAN9BC,EAM6B,EAN7BA,UACAlwB,EAK6B,EAL7BA,MACAmwB,EAI6B,EAJ7BA,SAI6B,IAH7B5O,gBAG6B,MAHlB,aAGkB,MAF7Bhe,YAE6B,MAFtB,OAEsB,EAD1BlC,EAC0B,kEAC7B,OACI,cAAC+uB,GAAA,EAAD,2BACQ/uB,GADR,IAEIb,GAAG,8BACH0vB,UAAWA,EACXzwB,QAAQ,WACRN,UAAWC,KAAEW,KACbC,MAAOA,EACPuhB,SAAU,SAAC7U,GAAD,OAAW6U,EAAS7U,EAAM1L,OAAOhB,QAC3CmwB,SAAUA,EACV5sB,KAAMA,K,8CCnBH,SAAS8sB,GAAT,GAGU,IAFrB9O,EAEoB,EAFpBA,SACAvF,EACoB,EADpBA,OAYA,SAASsU,EAAkBtwB,EAAemZ,GACtC6C,EAAO7C,GAASnZ,EAChBuhB,EAASvF,GAGb,OACI,gCACI,qBAAK7c,UAAWC,KAAEmxB,OAAlB,SACKvU,EAAO5b,KAAI,SAAC6hB,EAAO9I,GAAR,OACR,sBAAKha,UAAWC,KAAE6iB,MAAlB,UACI,cAAC+N,GAAD,CAAOluB,KAAMN,EAAM,+BAAgC,CAAEgvB,QAASrX,EAAQ,GAAGuC,eACzE,sBAAKvc,UAAWC,KAAEsP,QAAlB,UACI,cAACuhB,GAAD,CAAWjwB,MAAOiiB,EAAOV,SAAU,SAACvhB,GAAD,OAAWswB,EAAkBtwB,EAAOmZ,MACvE,cAACrO,GAAA,EAAD,CAAYC,aAAW,SAAS5L,UAAWC,KAAEqxB,WAAYnwB,QAAS,kBAlB1F,SAA2B6Y,GACvB6C,EAAO0U,OAAOvX,EAAO,GACrBoI,EAASvF,GAgBmF2U,CAAkBxX,IAA1F,SACI,cAAC,KAAD,WALkBA,QAYtC,cAAC,EAAD,CAAQ7Y,QA/BhB,WACI0b,EAAOlK,KAAK,IACZyP,EAASvF,IA6BgC7c,UAAWC,KAAEwxB,cAAlD,SAAkEpvB,EAAM,6C,qECjCrE,SAASqvB,GAAT,GAIU,IAHrB7wB,EAGoB,EAHpBA,MACAV,EAEoB,EAFpBA,MACAiiB,EACoB,EADpBA,SAWA,OACI,cAAC,KAAD,CAAWpiB,UAAWC,KAAE0xB,OAAQ9wB,MAAOA,EAAOuhB,SAVlD,SAAsB7U,GAClB,IAAM1M,EAAQ0M,EAAM1L,OAAOhB,MACrBiE,EAAO3E,EAAMsR,MAAK,SAAA3M,GAAI,OAAIA,EAAKjE,QAAUA,KAE3CiE,GACAsd,EAAStd,IAKyDrE,QAAS,CAAEoL,KAAM5L,KAAE4L,MAAzF,SACK1L,EAAMc,KAAI,SAAC6D,GAAD,OACP,cAAC8sB,EAAA,EAAD,CAA2B/wB,MAAOiE,EAAKjE,MAAvC,SAA+CiE,EAAK1D,OAArC0D,EAAKjE,Y,6CCfrB,SAASgxB,GAAT,GAQU,IAPrB1xB,EAOoB,EAPpBA,MACAU,EAMoB,EANpBA,MACAuhB,EAKoB,EALpBA,SACA0P,EAIoB,EAJpBA,UAIoB,IAHpBC,yBAGoB,MAHA,GAGA,MAFpBC,uBAEoB,MAFF,GAEE,MADpBhyB,iBACoB,MADR,GACQ,EACpB,OACI,cAACiyB,GAAA,EAAD,CAAmBjyB,UAAWA,EAAW8xB,UAAWA,EAAWjxB,MAAOA,EAAOuhB,SAAU,SAACwM,EAAGnL,GAAJ,OAAUrB,EAASqB,IAA1G,SACKtjB,EAAMc,KAAI,SAAC6D,GAAD,OACP,cAAC,KAAD,CAEI9E,UAAWW,IAAWV,KAAEmC,OAAQ4vB,GAChCvxB,QAAS,CACLyxB,SAAUH,GAAqB9xB,KAAEiyB,UAErCrxB,MAAOiE,EAAKzD,GANhB,SAQKyD,EAAKnC,MAPDmC,EAAKzD,SCLf,SAAS8wB,GAAT,GAKU,IAJrBxkB,EAIoB,EAJpBA,KACAya,EAGoB,EAHpBA,eACAzP,EAEoB,EAFpBA,eACAkK,EACoB,EADpBA,SAEMuP,EAAUrpB,iBAAwB,MADpB,EAEgBkC,mBC5B7B,CACH7G,KAAMqV,GAAW4Y,OACjB9W,eAAgB+W,aAAQ,IAAIhiB,KAAQ,GACpC0K,WAAY,GACZuX,qBAAqB,EACrBrW,SAAU,CAAC,IACXnM,YAAa,GACbqL,UAAW,GACXtT,kBvGTiCvE,iBuGUjCia,WAAY,IAAIlZ,IAAI,GACpBmZ,WAAY,IAAInZ,IAAI,KDgBJ,mBAEb6e,EAFa,KAEDC,EAFC,KAGd2K,EAAmBC,mBAAQ,kBAAMC,OAAOpR,OAAOrD,IAAgB1Y,QAAO,SAAAia,GAAQ,OAAIA,IAAavB,GAAesS,aAAU,IAoF9H,IAAM1d,EE9GH,SAAkC+U,GACrC,IAAM/U,EAA2B,CAC7ByK,WAAW,EACX4E,WAAY,GACZlC,eAAgB,IAqCpB,OAlCI4H,EAAW/e,OAASqV,GAAWoB,QAC3BsI,EAAW1F,WAAW6F,IAAIH,EAAW3F,cACrCpP,EAAOyK,WAAY,EACnBzK,EAAOqP,WAAapb,EAAM,uDAI7B8gB,EAAWpT,cACZ3B,EAAOyK,WAAY,GAGlBsK,EAAW/H,YACZhN,EAAOyK,WAAY,GAGnBsK,EAAW5H,iBACC,IAAIjL,MAERM,WAAauS,EAAW5H,eAAe3K,YAC3CxC,EAAOyK,WAAY,EACnBzK,EAAOmN,eAAiBlZ,EAAM,yDAIlC8gB,EAAW/e,OAASqV,GAAWqB,cAC3BqI,EAAWjH,SAASrH,QAAU,IAC9BzG,EAAOyK,WAAY,GAGnBsK,EAAWjH,SAASwC,MAAK,SAAAsH,GAAC,MAAiB,KAAbA,EAAEwM,YAChCpkB,EAAOyK,WAAY,IAIpBzK,EFqEQqkB,CAAyBtP,GAExC,OACI,cAAC,GAAD,CAAQxV,KAAMA,EAAM+K,MAAM,GAAGG,UAAWzK,EAAOyK,UAAWF,eAAgBA,EAAgBC,cArF9F,WACIiK,EAASM,IAoFT,SACI,uBAAMnjB,UAAWC,KAAE8d,QAAS2U,IAAKN,EAAjC,UACI,sBAAKpyB,UAAWC,KAAE0yB,cAAlB,UACI,uBAAO3yB,UAAWC,KAAEmB,MAApB,SACKiB,EAAM,yCAEX,qBAAKrC,UAAWC,KAAE+a,WAAlB,SACK+S,EAAiB9sB,KAAI,SAAC8Z,GAAD,OAClB,cAACgR,GAAD,CAEIhR,SAAUA,EACV/a,UAAWC,KAAEa,OACboK,OAAQiY,EAAWnI,WAAWkT,SAASnT,GACvC5Z,QAAS,kBA9FrC,SAA6B4Z,GAA2B,IAAD,EAK5C,EAJHoT,EAAmBhL,EAAWnI,YAElC,UAAImT,SAAJ,aAAI,EAAkBD,SAASnT,IAC3BoT,EAAmBA,EAAiBrtB,QAAO,SAAAstB,GAAG,OAAIA,IAAQrT,KAE1C,QAAhB,EAAAoT,SAAA,SAAkBxb,KAAKoI,GAG3BqI,EAAc,2BACPD,GADM,IAETnI,WAAYmT,KAmFuBE,CAAoBtT,IACnC3W,KAAK,UALA2W,WAUrB,sBAAK/a,UAAWC,KAAE0yB,cAAlB,UACI,uBAAO3yB,UAAWC,KAAEmB,MAApB,SACKiB,EAAM,0CAEX,cAAC,GAAD,CACI+f,SA5DpB,SAAgCtd,GAC5Bse,EAAc,2BACPD,GADM,IAETrb,kBAAmBhD,EAAKjE,UA0DZA,MAAOsiB,EAAWrb,kBAClB3H,MAAOioB,EAAennB,KAAI,SAACyH,GAAD,MAAe,CACrCtH,MAAOsH,EAASN,OAChBvH,MAAO6H,EAASZ,2BAI5B,sBAAK9H,UAAWC,KAAE0yB,cAAlB,UACI,uBAAO3yB,UAAWC,KAAEmB,MAApB,SACKiB,EAAM,sCAEX,cAACyuB,GAAD,CAAWE,UAAQ,EAACD,WAAS,EAAC3O,SAtF9C,SAAiCrS,GAC7BqT,EAAc,2BACPD,GADM,IAETpT,kBAmFyElP,MAAOsiB,EAAWpT,iBAEvF,sBAAK/P,UAAWC,KAAE0yB,cAAlB,UACI,uBAAO3yB,UAAWC,KAAEmB,MAApB,SACKiB,EAAM,oCAEX,cAACyuB,GAAD,CAAWE,UAAQ,EAACD,WAAS,EAAC3O,SArF9C,SAA+BhH,GAC3BgI,EAAc,2BACPD,GADM,IAET/H,gBAkFuEva,MAAOsiB,EAAW/H,eAErF,sBAAKpb,UAAWC,KAAE0yB,cAAlB,UACI,uBAAO3yB,UAAWC,KAAEmB,MAApB,SACKiB,EAAM,qCAEX,cAACwvB,GAAD,CACIC,WAAS,EACTE,gBAAiB/xB,KAAE2a,WACnBmX,kBAAmB9xB,KAAE,wBACrBY,MAAOsiB,EAAW/e,KAClBge,SAlFpB,SAAgChe,GACf,OAATA,GACJgf,EAAc,2BACPD,GADM,IAET/e,WA+EYjE,MAAO,CACH,CACIkB,GAAIoY,GAAW4Y,OACf1vB,KAAMN,EAAM,gCAEhB,CACIhB,GAAIoY,GAAWqB,YACfnY,KAAMN,EAAM,qCAEhB,CACIhB,GAAIoY,GAAWoB,OACflY,KAAMN,EAAM,sCAM3B8gB,EAAW/e,OAASqV,GAAWqB,aAC5B,sBAAK9a,UAAWC,KAAE0yB,cAAlB,UACI,cAAC9B,GAAD,CAAOluB,KAAMN,EAAM,mCACnB,cAAC6uB,GAAD,CAAe9O,SAnInC,SAA8BlG,GAC1BkH,EAAc,2BACPD,GADM,IAETjH,eAgI2DW,OAAQsG,EAAWjH,cAIzEiH,EAAW/e,OAASqV,GAAWoB,QAC5B,qCACI,sBAAK7a,UAAWC,KAAE0yB,cAAlB,UACI,cAAC9B,GAAD,CAAOluB,KAAMN,EAAM,2CACnB,cAACyuB,GAAD,CAAW1sB,KAAK,SAASvD,MAAOsiB,EAAW3F,WAAWjB,WAAY6F,SAvG1F,SAAgCvhB,GACvBA,GAELuiB,EAAc,2BACPD,GADM,IAET3F,WAAY,IAAIlZ,IAAIzD,YAoGR,sBAAKb,UAAWC,KAAE0yB,cAAlB,UACI,cAAC9B,GAAD,CAAOluB,KAAMN,EAAM,2CACnB,cAACyuB,GAAD,CAAW1sB,KAAK,SAASvD,MAAOsiB,EAAW1F,WAAWlB,WAAY6F,SAlG1F,SAAgCvhB,GACvBA,GAELuiB,EAAc,2BACPD,GADM,IAET1F,WAAY,IAAInZ,IAAIzD,OA6FgG6vB,WAAYtiB,EAAOqP,WAAYzX,QAASoI,EAAOqP,mBAK/J,sBAAKzd,UAAWC,KAAE0yB,cAAlB,UACI,uBAAO3yB,UAAWC,KAAEmB,MAApB,SACKiB,EAAM,yCAGX,cAAC,GAAD,CACIxB,MAAOsiB,EAAW5H,eAClB6G,SApKpB,SAAoCwQ,GAC3BA,GAELxP,EAAc,2BACPD,GADM,IAET5H,eAAgBqX,MAgKJlC,WAAYtiB,EAAOmN,gBAAkBlZ,EAAM,kDAC3C2D,QAASoI,EAAOmN,yBGrNzB,SAASsX,KACpB,IAAMtb,EAAWO,cACXqM,EAAejM,aAAY,SAACC,GAAD,OAAqBA,EAAMiM,QAAQ3M,wBAC9D2Q,EAAiBlQ,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOsY,kBAErEpf,qBAAU,WACNuO,EbqJJ,uCAAO,WAAOA,GAAP,mBAAA1S,EAAA,sEAEqBia,KAFrB,cAEGE,EAFH,OAGHzH,EAASgR,GAAkBvJ,IAGrB8T,EAAmB7E,OAAOpR,OAAOmC,GAAW/d,KAAI,SAACyH,GACnD,OAAOH,GAA2BG,EAASZ,sBAP5C,SAUwBsM,QAAQC,IAAIye,GAVpC,OAUGC,EAVH,OAWHxb,EAASgR,GAAkBwK,IAXxB,2CAAP,yDapJG,CAACxb,IAEJ,IAAMyb,EAAqBxnB,uBAAY,WACnC+L,EAASI,IAA4B,MACtC,CAACJ,IAEEkN,EAAejZ,uBAAY,SAACsE,Gbd/B,IAAyB+M,EaexBtF,GbfwBsF,EaeC/M,Ebd7B,uCAAO,WAAOyH,GAAP,SAAA1S,EAAA,sEAEC0S,EAASkR,IAAqB,IAF/B,SAIO/K,GAAab,GAJpB,OAMCtF,EAASkR,IAAqB,IAN/B,gDAQClR,EAASkR,IAAqB,IAC9B1iB,QAAQC,MAAM,oBAAd,MATD,yDAAP,0DaeG,CAACuR,IAEJ,OACI,cAAC4a,GAAD,CACI/J,eAAgBA,EAChBza,KAAMwW,EACNxL,eAAgBqa,EAChBnQ,SAAU4B,I,8CCpBP,SAASwO,GAAT,GAGU,IAFrBC,EAEoB,EAFpBA,oBACAnnB,EACoB,EADpBA,QAEA,OACI,sBAAK/L,UAAWC,KAAEW,KAAlB,UACI,sBAAKZ,UAAWC,KAAEkzB,aAAlB,UACI,oBAAInzB,UAAWC,KAAEyY,MAAjB,SACKrW,EAAM,qBAAsB,CACzB+wB,UAAiB,OAAPrnB,QAAO,IAAPA,OAAA,EAAAA,EAAStE,YAAa,OAGxC,sBAAMzH,UAAWC,KAAEozB,SAAnB,SAA8BhxB,EAAM,gCAGQ,cAAC,EAAD,CAAQlB,QAAS+xB,EAAjB,SAAuC7wB,EAAM,oCCpB1F,SAASixB,KACpB,IAAM/b,EAAWO,cACX/L,EAAUmM,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQA,WAEzDwnB,EAA0B/nB,uBAAY,WACxC+L,EAASI,IAA4B,MACtC,CAACJ,IAEJ,OACI,cAAC0b,GAAD,CACIC,oBAAqBK,EACrBxnB,QAASA,ICRN,SAASynB,KACpB,IAAMjc,EAAWO,cACXmQ,EAAU/P,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOoY,kBACxD8H,EAAqBxkB,uBAAY,SAACuS,EAAwB+R,GAC5DvY,EhBmFD,SAA6BwG,EAAwB+R,GACxD,8CAAO,WAAOvY,GAAP,eAAA1S,EAAA,sEAEC0S,EAASiR,IAAiB,IAF3B,SAGuB1K,GAAW,2BAC1BC,GADyB,IAE5BC,SAAS,EACTtN,WAAW,KANhB,OAGOuX,EAHP,OAUK1Q,EADAuY,EACSnH,GAAqBV,GAErBS,GAAkBT,IAG/B1Q,EAASiR,IAAiB,IAf3B,gDAiBCjR,EAASiR,IAAiB,IAC1BziB,QAAQC,MAAM,wBAAd,MAlBD,yDAAP,sDgBpFaytB,CAAoB1V,EAAS+R,MACvC,CAACvY,IAEJ,OACI,cAACyX,GAAD,CACI/G,QAASA,EACTkH,sBAAuBa,EACvBf,SAAU1W,GAAWmb,UACrBxE,qBAAsB,CAClBlR,SAAS,EACTtN,WAAW,KClBZ,SAASijB,KACpB,OACI,oCACI,cAACvD,GAAA,EAAD,UACI,gCACK/tB,EAAM,8BAA+B,CAClCguB,QAAShuB,EAAM,wBAI3B,cAACmxB,GAAD,O,wBCEG,SAASI,GAAT,GAIJ,IAHP9jB,EAGM,EAHNA,OACA+jB,EAEM,EAFNA,cAEM,IADN7zB,iBACM,MADM,GACN,EACN,OACI,wBAAQA,UAAWW,IAAWV,KAAC,KAAUD,GAAzC,SACI,sBAAKA,UAAWC,KAAC,QAAjB,UACI,sBAAKD,UAAWC,KAAE6zB,WAAlB,UACI,cAAC,EAAD,CAAQ9zB,UAAWC,KAAE,8BAA+BkB,QAAS0yB,EAA7D,SACKxxB,EAAM,qBAEVyN,EAAOiL,SAASlG,OAAS,GAAM,cAACkX,GAAD,CAAK/rB,UAAWC,KAAE8zB,YAAahZ,SAAUjL,EAAOiL,SAAS,KAEzF,oBAAI/a,UAAWC,KAAEyY,MAAjB,SAAyB5I,EAAOC,cAE/BD,EAAOmL,cACJ,sBAAKjb,UAAWC,KAAEsb,eAAlB,UACI,uBAAMvb,UAAWC,KAAE,wCAAnB,UACKoC,EAAM,oBADX,iBAGA,sBAAMrC,UAAWC,KAAE,wCAAnB,SACKqe,GAAqBxO,EAAOmL,mBAKzC,sBAAKjb,UAAWC,KAAEsb,eAAlB,UACI,uBAAMvb,UAAWC,KAAE,wCAAnB,UACKoC,EAAM,yBADX,iBAGA,sBAAMrC,UAAWC,KAAE,wCAAnB,SACKqe,GAAqBxO,EAAOyL,wBAIzC,qBAAKvb,UAAWW,IAAWV,KAAE6zB,WAAY7zB,KAAE+zB,oBAA3C,SACI,cAAC3G,GAAD,CAAmBvd,OAAQA,MAE/B,qBAAK9P,UAAWC,KAAC,OAAY+gB,MAAO,CAAEiT,gBAAgB,OAAD,OAAS3K,GAAgBxZ,EAAOiL,SAAS,IAAIyO,WAA7C,a,yBCpDtD,SAAS0K,KACpB,OACI,qBAAKl0B,UAAWC,KAAEW,KAAlB,SACI,qBAAKZ,UAAWC,KAAEsB,QAAlB,SACI,cAACstB,GAAA,EAAD,CAAUC,OAAQ,IAAK9uB,UAAWC,KAAE8uB,eCOrC,SAASoF,GAAT,GAEU,IAAD,IADpBn0B,EACoB,EADpBA,UAEM8P,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvDlR,EAAUC,cAEVwV,EAAS,oBADE6B,cACU1kB,aAAZ,aAAG,EAAgB6iB,iBAAnB,SAET4G,EAAoB5oB,uBAAY,WAC9BgiB,EACAzV,EAAQsc,SAERtc,EAAQpF,KAAK4F,GAAW3X,UAE7B,CAAC4sB,EAAWzV,IAEf,OAAKjI,EAMD,cAAC8jB,GAAD,CACI9jB,OAAQA,EACR9P,UAAWA,EACX6zB,cAAeO,IARZ,cAACF,GAAD,I,yBCvBA,SAASI,GAAT,GAEU,IADrBxkB,EACoB,EADpBA,OAEA,OACI,0BAAS9P,UAAWC,KAAEW,KAAtB,UACI,oBAAIZ,UAAWC,KAAEyY,MAAjB,SAAyBrW,EAAM,iCAC/B,4BAAIyN,EAAOsL,e,yBCXR,SAASmZ,KACpB,OACI,8BACI,cAAC1F,GAAA,EAAD,CAAUC,OAAQ,IAAK9uB,UAAWC,KAAE8uB,aCDjC,SAASyF,KACpB,IAAM1kB,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBAE7D,OAAKnZ,EAKD,cAACwkB,GAAD,CAAsBxkB,OAAQA,IAJvB,cAACykB,GAAD,I,8CCTA,SAASE,GAAoBnyB,GACxC,OAAOoyB,iBAAiB7qB,SAASC,iBAAiB6qB,iBAAiBryB,GC+BhE,SAASsyB,GAAkBC,EAAsC/kB,GACpE,IAAMglB,EAAqC,IAAIrwB,IACzCqM,EAAWhB,EAAO1L,OAASqV,GAAWoB,OACtCkS,EAAezN,GAAyBxP,EAAO8L,eAC/CmZ,EAAkCjkB,EA5B5C,SAAiC+jB,EAAsC/kB,GACnE,IAAMilB,EAAkC,GAClChI,EAAezN,GAAyBxP,EAAO8L,eAC/CoZ,EAAuB,GAkB7B,OAhBAH,EAAiBhF,SAAQ,SAACoF,GAAiB,IAAD,EAChCC,EAAmBD,EAAYE,WAAW1jB,MAAK,SAAAzK,GAAE,OAAIA,EAAGyZ,UAAYsM,EAAavN,UAAUtP,aAC3F8c,EAAc7mB,KAAQiH,MAAM6f,gBAAgBF,EAAavP,WAAYuP,EAAatP,WAAY,IAAInZ,IAAJ,iBAAQ4wB,QAAR,IAAQA,OAAR,EAAQA,EAAkBvjB,aAA1B,QAAmC,IAEvIqjB,EAAWriB,KAAKqa,EAAYH,eAGhCkI,EAASpiB,KAAK,CACVhN,KAAMqvB,EACN5zB,MAAOiB,EAAM,yBACbssB,MAAM,EACNyG,YAAa,EACbC,YAAY,GAAD,OAAKZ,GAAoB,aACpCa,uBAAwB,aAGrBP,EAO4CQ,CAAwBV,EAAkB/kB,GAAU,GAsDvG,OApDA+kB,EAAiBhF,SAAQ,SAACoF,GACtBA,EAAYE,WAAWtF,SAAQ,SAAC2F,GAC5B,IAAMC,EAAoBX,EAAY/vB,IAAIywB,EAAiB/U,SAEvDiO,MAAMgH,QAAQD,GACdA,EAAkB9iB,KAAsC,IAAjCwI,OAAOqa,EAAiB7jB,QAE/CmjB,EAAY5vB,IAAIswB,EAAiB/U,QAAS,CAAkC,IAAjCtF,OAAOqa,EAAiB7jB,eAK/EmjB,EAAYjF,SAAQ,SAAClqB,EAAMuK,GACvB,IAAI9O,OAA4B4B,EAE5B8N,GAAYic,EAAavN,UAAUtP,YAAcA,EACjD9O,EAAQiB,EAAM,wBACPyO,GAAYic,EAAarN,WAAWxP,YAAcA,IACzD9O,EAAQiB,EAAM,0BAGlB0yB,EAASpiB,KAAK,CACVhN,OACAvE,QACAutB,MAAM,EACNgH,UAAW7kB,EACX8kB,YAAa9kB,EAAW,OAAI9N,EAC5BoyB,YAAa,EACbC,YAAY,GAAD,OAAKZ,GAAoB7U,GAAmB1P,EAAWY,KAClEwkB,uBAAwB,aAIxBxkB,GAGJikB,EAASpiB,KAAK,CACVhN,KAAM,IAAI+oB,MAAM/oB,EAAKkP,QAAQ8Z,KAAKhpB,EAAKA,EAAKkP,OAAS,IACrD8Z,MAAM,EACNyG,YAAa,EACbC,YAAY,GAAD,OAAKZ,GAAoB7U,GAAmB1P,KACvD2lB,WAAY,CAAC,EAAG,GAChBP,uBAAwB,WACxBQ,OAAQhlB,EACRilB,eAAgB,EAChBC,iBAAkB,EAClBJ,YAAa,EACbx0B,MAAO,GACP60B,wBAAwB,OAIzB,CACHC,OAAQrB,EAAiB5zB,KAAI,SAAAk1B,GAAK,OAAIA,EAAMC,YAC5CC,SAAUtB,GCjFH,SAASuB,GAAT,GAGU,IAFrBC,EAEoB,EAFpBA,cACAzmB,EACoB,EADpBA,OAEM0mB,EAASztB,iBAA0B,MACnCuC,EAAmBN,KACnByrB,EAAQ1tB,iBAAqB,MAiBnC,OAfAC,qBAAU,WACDwtB,EAAOvtB,UAIZwtB,EAAMxtB,QDwEC,SAA2ButB,EAA2B1mB,GACjE,IAAM4mB,EAAUF,EAAOG,WAAW,MAClC,IAAKD,EAAS,OAAO,KAErB,IAAIE,EAAM,EACNC,EAAM,IAEV,GAAI/mB,EAAO1L,OAASqV,GAAWoB,OAAQ,CACnC,IAAMsE,EAASD,GAAgBpP,EAAO8L,cAAc3a,KAAI,SAAAse,GAAC,OAAIA,EAAE7I,UAC/DkgB,EAAMzX,EAAO3B,WAAWqP,WACxBgK,EAAM1X,EAAO1B,WAAWoP,WAsE5B,OAnEc,IAAIiK,KAAMJ,EAAS,CAC7BtyB,KAAM,OAENvB,QAAS,CACLk0B,YAAY,EAEZC,OAAQ,CACJC,SAAS,GAGbC,UAAW,CACPC,SAAU,GAGdC,SAAS,CACLC,KAAM,CACFC,QAAS,GAEbnB,MAAO,IAKXoB,SAAU,CACNC,KAAM1nB,EAAO1L,OAASqV,GAAWoB,OAAS,QAAU,QACpD4c,WAAW,GAGfC,OAAQ,CACJC,MAAO,CAAC,CACJvzB,KAAM,SACNwzB,UAAW,CACP/N,MAAO,UACPgO,iBAAiB,EACjBC,WAAW,GAEfC,MAAO,CACHC,UAAWvD,GAAoB,YAC/BmC,MACAC,MACAoB,cAAe,EACfC,SAAUrB,EAAM,EAChBsB,QAAS,GACTvvB,SAAU,SAAC/H,GACP,OAAIiP,EAAO1L,OAASqV,GAAWoB,OACpBha,GAGHsa,OAAOta,GAAS,KAAKuG,QAAQ,OAIjDgxB,MAAO,CAAC,CACJR,UAAW,CACP/N,MAAO,UACPgO,iBAAiB,EACjBC,WAAW,GAEfC,MAAO,CACHC,UAAWvD,GAAoB,YAC/B0D,QAAS,UCjJTE,CAAkB7B,EAAOvtB,QAAS6G,MACnD,CAAC0mB,EAAQlrB,IAEZtC,qBAAU,WACDytB,EAAMxtB,UAEXwtB,EAAMxtB,QAAQtD,KAAOivB,GAAkB2B,EAAezmB,GACtD2mB,EAAMxtB,QAAQqvB,YACf,CAAC7B,EAAOF,EAAejrB,EAAkBwE,IAGxC,wBAAQ4iB,IAAK8D,I,IC/BT+B,G,mkBAQL,SAASC,GAAoBvd,EAAoBkB,GACpD,IAAMsc,EAAWC,aAAiBvc,EAASlB,GAG3C,OAAIwd,EAAW,GACJ,OAIPA,GAAY,GAAKA,EAAW,EACrB,MAGJ,OAGJ,SAAeE,GAAtB,qC,8CAAO,WAA0C7oB,EAAyB8oB,GAAnE,uBAAA/zB,EAAA,+DAEO4L,EAAM,IAAIH,KACZuoB,EAAoB,IAAIvoB,KACxBwoB,EAAS,QAJd,KAMQF,EANR,cAOUL,GAAOQ,OAPjB,SAWUR,GAAOS,QAXjB,UAeUT,GAAOU,WAfjB,UAmBUV,GAAOW,SAnBjB,UAuBUX,GAAOY,IAvBjB,0BAQSN,EAAoBO,aAAQ3oB,EAAK,GACjCqoB,EAAS,OATlB,oCAYSD,EAAoBQ,aAAS5oB,EAAK,GAClCqoB,EAAS,MAblB,oCAgBSD,EAAoBQ,aAAS5oB,EAAK,GAClCqoB,EAAS,MAjBlB,oCAoBSD,EAAoBS,aAAU7oB,EAAK,GACnCqoB,EAAS,MArBlB,oCAwBSD,EAAoB,IAAIvoB,KAAK,GAC7BwoB,EAASN,GAAmB,UAAC1oB,EAAOmL,oBAAR,QAAwB,IAAI3K,KAAK,GAAIR,EAAOyL,gBAzBjF,8CA6BsBtJ,GAAc6B,MAAM,CACrCzB,YAAa,eACbyB,MAAOC,eAAF,MAWLC,UAAW,CACPhE,SAAUF,EAAOzO,GACjBk4B,eAAgBV,EAAkBjoB,UAAU2L,WAC5Cid,WAAYV,KA7CrB,eA6BOr2B,EA7BP,yBAiDQA,EAAOkD,KAAKoS,SAjDpB,yCAmDChS,QAAQC,MAAM,kBAAd,MAnDD,kBAoDQ,IApDR,2D,sBCXQ,SAASyzB,GAAT,GAMU,IALrBlD,EAKoB,EALpBA,cACAzmB,EAIoB,EAJpBA,OACA4pB,EAGoB,EAHpBA,eAGoB,IAFpBd,cAEoB,MAFXL,GAAOQ,OAEI,MADpB/4B,iBACoB,MADR,GACQ,EAQpB,OACI,sBAAKA,UAAWW,IAAWV,KAAE,qBAAsBD,GAAnD,UACI,qBAAKA,UAAWC,KAAE05B,kBAAlB,SACI,cAAC9H,GAAD,CACIC,WAAS,EACTjxB,MAAO+3B,EACPxW,SAZhB,SAA4BwW,GACnBA,GAELc,EAAed,IAUHz4B,MAAO,CACH,CACIkB,GAAIk3B,GAAOQ,OACXp2B,KAAMN,EAAM,2BAEhB,CACIhB,GAAIk3B,GAAOS,QACXr2B,KAAMN,EAAM,2BAEhB,CACIhB,GAAIk3B,GAAOU,WACXt2B,KAAMN,EAAM,2BAEhB,CACIhB,GAAIk3B,GAAOW,SACXv2B,KAAMN,EAAM,2BAEhB,CACIhB,GAAIk3B,GAAOY,IACXx2B,KAAMN,EAAM,iCAK5B,cAACi0B,GAAD,CAAWC,cAAeA,EAAezmB,OAAQA,Q,SD1DjDyoB,K,YAAAA,E,aAAAA,E,cAAAA,E,gBAAAA,E,WAAAA,Q,KEIZ,IAKMqB,GAAqB7rB,aAAY,CACnCC,aANoC,CACpCuoB,cAAe,GACfsD,eAAe,GAKf3xB,KAAM,QACNqG,SAAU,CACNurB,sBADM,SACgBnvB,EAA0B8D,GAC5C,OAAO,YAAC,eACD9D,GADP,IAEIovB,YAAatrB,EAAOC,WAG5BsrB,uBAPM,SAOiBrvB,EAA0B8D,GAC7C,OAAO,YAAC,eACD9D,GADP,IAEIkvB,cAAeprB,EAAOC,WAG9BurB,iBAbM,SAaWtvB,EAA0B8D,GACvC,OAAO,YAAC,eACD9D,GADP,IAEI4rB,cAAe9nB,EAAOC,c,GAUlCkrB,GAAmBrqB,QAFnByqB,I,GADAF,sB,GACAE,wBACAC,G,GAAAA,iBAGWL,MAAf,QC1CO,SAASM,GAA6BpqB,GAAuD,IAA9B8oB,EAA6B,uDAAZL,GAAOY,IAC1F,8CAAO,WAAO5hB,GAAP,eAAA1S,EAAA,sEAEC0S,EAASyiB,IAAuB,IAFjC,SAI6BrB,GAA2B7oB,EAAQ8oB,GAJhE,OAIOrC,EAJP,OAKChf,EAAS0iB,GAAiB1D,IAE1Bhf,EAASyiB,IAAuB,IAPjC,gDASCziB,EAASyiB,IAAuB,IAChCj0B,QAAQC,MAAM,+BAAd,MAVD,yDAAP,sDCSW,SAASm0B,GAAT,GAEJ,IAAD,IADNn6B,iBACM,MADM,GACN,EACAu2B,EAAgBre,aAAY,SAACC,GAAD,OAAqBA,EAAMiiB,aAAa7D,iBACpEzmB,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvDoR,ECjBH,SAAwBx5B,GAC3B,IAAM6xB,EAAM3pB,mBAMZ,OAJAC,qBAAU,WACN0pB,EAAIzpB,QAAUpI,KAGX6xB,EAAIzpB,QDUYqxB,CAAYxqB,GAC7B5G,EAAaH,mBAJb,EAKsBkC,mBAAiBstB,GAAOQ,QAL9C,mBAKCH,EALD,KAKS2B,EALT,KAMAhjB,EAAWO,cAmCjB,OApBA9O,qBAAU,WACN,OAAO,WAEHI,cAAcF,EAAWD,YAE9B,IAEHD,qBAAU,WACD8G,GACDA,EAAOzO,MAAP,OAAcg5B,QAAd,IAAcA,OAAd,EAAcA,EAAgBh5B,MAGlC+H,cAAcF,EAAWD,SACzBsO,EAAS2iB,GAA6BpqB,EAAQ8oB,QAAU51B,IAExDkG,EAAWD,QAAUE,aAAY,WAC7BoO,EAAS2iB,GAA6BpqB,EAAQ8oB,QAAU51B,MA5ClC,QA8C3B,CAAC8M,EAAQyH,IAEPzH,EAKD,cAAC2pB,GAAD,CACIlD,cAAeA,EACfv2B,UAAWA,EACX05B,eAzCR,SAA4Bd,GACxB,IAAK9oB,EAAQ,MAAM,IAAI7J,MAAM,iBAC7Bs0B,EAAU3B,GAGVxvB,cAAcF,EAAWD,SACzBsO,EAAS2iB,GAA6BpqB,EAAQ8oB,IAE9C1vB,EAAWD,QAAUE,aAAY,WAC7BoO,EAAS2iB,GAA6BpqB,EAAQ8oB,MAxBxB,MAyDtBA,OAAQA,QAAU51B,EAClB8M,OAAQA,IATL,cAAC+e,GAAA,EAAD,CAAUC,OAAQ,M,IEnDrB0L,G,qBCOG,SAASC,GAAT,GAGU,IAFrB90B,EAEoB,EAFpBA,KACA+0B,EACoB,EADpBA,OAEA,OACI,sBAAK16B,UAAWC,KAAC,oBAAjB,UACI,qBAAKD,UAAWC,KAAEy6B,OAAlB,SACI,+BAAQA,MAEZ,qBAAK16B,UAAWC,KAAC,SAAjB,SAEQ0F,EAAK1E,KAAI,SAACuR,EAAGmoB,GAAJ,OACL,sBAAa36B,UAAWC,KAAE,sBAA1B,UACI,sBAAMD,UAAWC,KAAE,sBAAnB,SAA2CuS,EAAElQ,MAC7C,sBAAMtC,UAAWC,KAAE,wBAAnB,SAA6CuS,EAAE3R,UAFzC85B,WDN3B,SAASC,GAAT,GAMkC,IALrCx2B,EAKoC,EALpCA,KACA0L,EAIoC,EAJpCA,OACA+qB,EAGoC,EAHpCA,aACAzlB,EAEoC,EAFpCA,SACA4H,EACoC,EADpCA,UAEA,GAAI5Y,IAASo2B,GAASM,IAAK,CACvB,IAAMC,EAAkB50B,KAAQiH,MAAM4tB,iCAClClrB,EAAO8L,cAAc3a,KAAI,SAAAse,GAAC,OAAI,IAAIjb,IAAIib,EAAEpJ,gBACxC0kB,EAAa3qB,UACbkF,EACA4H,E7Hde,G6HkBnB,OAAO7W,KAAQiH,MAAM6tB,UAAUF,EAAgB95B,KAAI,SAAA6Y,GAAC,OAAIA,EAAEyC,eAG9D,IAAMwe,EAAkB50B,KAAQiH,MAAM8tB,6BAClCprB,EAAO8L,cAAc3a,KAAI,SAAAse,GAAC,OAAI,IAAIjb,IAAIib,EAAEpJ,gBACxC0kB,EAAa3qB,UACb8M,EACA5H,E7HzBmB,G6H6BvB,OAAOjP,KAAQiH,MAAM6tB,UAAUF,EAAgB95B,KAAI,SAAA6Y,GAAC,OAAIA,EAAEyC,eE7B/C,SAAS4e,GAAT,GAGsB,IAFjChY,EAEgC,EAFhCA,WAGMiY,GAD0B,EADhCtrB,OCRW,SAA0BqT,GAErC,GAA4B,KAAxBA,EAAW/N,UAA2C,MAAxB+N,EAAW/N,UAA6C,MAAzB+N,EAAWnG,WAA6C,KAAxBmG,EAAW/N,SACxG,MAAO,CACHimB,UAAW,IACXC,UAAW,IACXC,QAAS,KAIjB,IAAMC,EAAM,IAAIl3B,IAAJ,YAAa6e,EAAWjG,UAAUnW,WACxC+L,EAAkBqQ,EAAWjG,UAAUlH,kBAAoBmN,EAAWjG,UAAYiG,EAAWO,QAC7F+X,EAAa,IAAIn3B,IAAI6e,EAAW/N,UAChCsmB,EAAc,IAAIp3B,IAAI6e,EAAWnG,WACjCqe,EAAYx0B,GAAsB40B,EAAWn0B,IAAIk0B,EAAIjf,YAAYpV,IAAIu0B,GAAanf,WAAY4G,EAAWjG,UAAUnW,UACnHu0B,EAAYz0B,GAAsB60B,EAAYp0B,IAAIk0B,EAAIjf,YAAYpV,IAAIs0B,GAAYlf,WAAY4G,EAAWO,QAAQ3c,UACjH40B,EAAaxY,EAAW/e,OAASJ,GAAMmf,EAAW/N,SAAW+N,EAAWnG,UAG9E,MAAO,CACHqe,YACAC,YACAC,QALY10B,GAAsB,IAAIvC,IAAIq3B,GAAYr0B,IAAI,IAAIhD,IhIX3C,IgIW6D6C,IAAI,IAAI7C,IAAI,QAAQiY,WAAYzJ,EAAgB/L,WDPxG60B,CAAiBzY,IAEvCrQ,EAAkBqQ,EAAWjG,UAAUlH,kBAAoBmN,EAAWjG,UAAYiG,EAAWO,QAC7FtO,EAAW,IAAI9Q,IAAI6e,EAAW/N,UAC9B4H,EAAY,IAAI1Y,IAAI6e,EAAWnG,WAC/B6e,EAAU,IAAIv3B,IAAI,OAClBw3B,EAA2C,MAAxB3Y,EAAW/N,SAAmB4H,EAAU+e,MAAM3mB,GAAUjO,IAAIiO,GAAU9N,IAAIu0B,GAAS5V,MAAM,GAAG1J,WAAa,IAE5Hyf,EAAe,CACjB,CACI15B,IAAKD,EAAM,wBACXxB,MAAM,GAAD,OAAKu6B,EAAoBC,UAAzB,YAAsClY,EAAWjG,UAAU5P,YAA3D,cAA4E6V,EAAWO,QAAQpW,cAExG,CACIhL,IAAKD,EAAM,+BACXxB,MAAM,GAAD,OAAKu6B,EAAoBE,UAAzB,YAAsCnY,EAAWO,QAAQpW,YAAzD,cAA0E6V,EAAWjG,UAAU5P,cAExG,CACIhL,IAAKD,EAAM,gCACXxB,MAAM,GAAD,OAAKu6B,EAAoBG,QAAzB,YAAoCzoB,EAAgBxF,cAE7D,CACIhL,IAAKD,EAAM,+BACXxB,MAAM,GAAD,O/H1Be,E+H0Bf,OAIb,GAAIsiB,EAAW/e,OAASo2B,GAASM,IAC7BkB,EAAarpB,KAAK,CACdrQ,IAAKD,EAAM,6BACXxB,MAAM,GAAD,OAAKsiB,EAAW8Y,oBAAsB,IAAtC,YAA6C9Y,EAAWjG,UAAU5P,YAAlE,cAAmFwuB,EAAnF,aAEN,GAAI1mB,EAASmO,GAAG,KAAM,CACzB,IAAMpS,EAAQ,IAAI7M,IAAI6e,EAAWjG,UAAU/L,OACrCxJ,EAAU,IAAIrD,IAAI6e,EAAWjG,UAAUvV,SACvCu0B,EAAev0B,EAAQ4b,GAAG,KAAOpS,EAAMhK,IAAIQ,GAAW,IAAIrD,IAAI,KAC9D63B,EAAe/mB,EAASmO,GAAG,KAAOvG,EAAU7V,IAAIiO,GAAY,IAAI9Q,IAAI,KACpE83B,EAAsBD,EAAa70B,IAAI8N,GACvCinB,EAAsBH,EAAa50B,IAAI8N,GAE7C,GAAI8mB,EAAa3Y,GAAG4Y,GAAe,CAE/B,IAAMG,EAAgBD,EAAoBN,MAAMK,GAC1CG,EAAyBD,EAAc/Y,GAAG,QAAU1c,GAAsBy1B,EAAc/f,WAAY4G,EAAWO,QAAQ3c,UAAY,SACzIi1B,EAAarpB,KACT,CACIrQ,IAAKD,EAAM,iCACXxB,MAAM,IAAD,OAAM07B,GAAN,OAA+BpZ,EAAWO,QAAQpW,cAE3D,CACIhL,IAAKD,EAAM,2BACXxB,MAAM,GAAD,OAAKsiB,EAAW8Y,mBAAhB,YAAsC9Y,EAAWO,QAAQpW,oBAInE,GAAK6uB,EAAa5Y,GAAG2Y,GAAe,CAEvC,IAAMI,EAAgBF,EAAoBL,MAAMM,GAC1CE,EAAyBD,EAAc/Y,GAAG,QAAU1c,GAAsBy1B,EAAc/f,WAAY4G,EAAWO,QAAQ3c,UAAY,SAEnIy1B,EAAkB31B,GADRmW,EAAU+e,MAAMO,GACsB/f,WAAY4G,EAAWO,QAAQ3c,UAErFi1B,EAAarpB,KAAb,MAAAqpB,EAAqB,CACjB,CACI15B,IAAKD,EAAM,+BACXxB,MAAM,IAAD,OAAM07B,EAAN,YAAgCpZ,EAAWO,QAAQpW,cAE5D,CACIhL,IAAKD,EAAM,2BACXxB,MAAM,GAAD,OAAK27B,EAAL,YAAwBrZ,EAAWO,QAAQpW,iBAMhE,OAAO,cAACmtB,GAAD,CAAU90B,KAAMq2B,EAActB,OAAQr4B,EAAM,wBAAyB,IAAI,M,SF1FxEm4B,K,UAAAA,E,aAAAA,Q,KILZ,IAAMiC,GAAO,IAAIn4B,IAAI,GAEfo4B,GAAU,SAAC73B,EAAQiV,GACrB,OAAOjV,EAAE83B,IAAI7iB,KAAO2iB,GAAO53B,EAAEsC,IAAI2S,GAAKjV,EAAEsC,IAAI2S,GAAGsD,IAAI,IAkB1Cwf,GAAwB,SACnCC,EACAC,EACAtc,EACAuc,EACAC,GAEE,GAAIF,EAAe,GAAKA,GAAgBtc,EAAa3L,OACjD,MAAM,IAAI5O,MAAJ,yBAA4B62B,EAA5B,oCAAoEtc,EAAa3L,OAAS,EAA1F,MAEV,GAAIgoB,EAAiBpd,GAAG,IAAMe,EAAayc,OAAM,SAAAtoB,GAAC,OAAIA,EAAE8K,GAAG,MAAK,OAAOgd,GAEvE,IAAMjB,EAAM,IAAIl3B,IAAJ,YAAa04B,IACnBE,EA5BI,SAACr4B,EAAQiV,GAAmC,IAAxBqjB,EAAuB,uDAAf,IACxC,OAAO,IAAI74B,IAAIO,GACZyC,IAAI81B,KAAKnX,MAAMnM,EAAIqjB,IACnBh2B,IAAIg2B,GAyB6BE,CAAMR,EAAkB,EAAIE,GACxDO,EAAoB9c,EAAauF,QACnC,SAACwX,EAAapnB,EAAawkB,GAA3B,OACAA,IAAMmC,EACAJ,GAAQa,EAAYj2B,IAAI6O,GAAcA,EAAYiH,IAAI8f,IACtDK,EAAYj2B,IAAI6O,KACtBqlB,GAGJ,OAAOhb,EAAasc,GAAc1f,IAAI8f,GAA2BxW,IAAIgW,GAAQY,EAAmB9B,K,UClCrF,SAASI,GAAiBzY,EAA4B1E,EAA0B3O,GAC3F,IAAM0tB,EAAWra,EAAW/e,KACtBy2B,EAAe2C,IAAahD,GAASM,IAAM3X,EAAWO,QAAUP,EAAWjG,UAC7EugB,EAAYhf,EAAOxd,KAAI,SAAAse,GAAC,OAAIA,EAAE5N,SAElC,IAAKwR,EAAWua,kBACZ,OAAO,2BACAva,GADP,IAEIsa,cAIR,GAAI,IAAIn5B,IAAI6e,EAAWua,mBAAmBC,GAAG,GACzC,OAAO,2BACAxa,GADP,IAEIsa,YACAC,kBAAmB,IACnBtoB,SAAU,MAIlB,IAAMoL,EAAe/B,EAAOxd,KAAI,SAAA0d,GAAK,OAAI,IAAIra,IAAIqa,EAAMxI,YAAYoG,eAC7DqhB,IAAQza,EAAWjG,UAAU1V,eAC7BsL,EAAkB8qB,EAAMza,EAAWjG,UAAYiG,EAAWO,QAI1D1G,EAAY4gB,EAAMhB,GAChB,IAAIt4B,IAAI6e,EAAW/N,UACnB+N,EAAWO,QAAQxT,UACnBsQ,EALaqd,IAOb/qB,EAAgB/L,UC9Bc,SACtC+2B,EACA5tB,EACAsQ,EACAuc,GAEA,GAAI7sB,EAAY,GAAKA,GAAasQ,EAAa3L,OAC3C,MAAM,IAAI5O,MAAJ,yBAA4BiK,EAA5B,oCAAiEsQ,EAAa3L,OAAS,EAAvF,MAGV,IAAMkpB,EAAWvd,EAAatQ,GACxB8tB,EAAgBxd,EAAa1f,QAAO,SAAC8tB,EAAG+L,GAAJ,OAAUzqB,IAAcyqB,KAgB5DsD,EAAIC,0BAfA,SAACD,GAQP,IAAME,EAAIF,EAAE92B,IAAI,EAAI41B,GACdqB,EAAYJ,EAAc/8B,KAAI,SAAAo9B,GAAC,OAAIA,EAAEtC,MAAMoC,MAAIpY,QAAO,SAAClhB,EAAGiV,GAAJ,OAAUjV,EAAEyC,IAAIwS,MACtEwkB,EAAaP,EAASQ,KAAKT,GAAc/B,MAAMoC,GAC/CK,EAAYR,EAAcjY,QAAO,SAAClhB,EAAGiV,GAAJ,OAAUjV,EAAEyC,IAAIwS,KAAIikB,GAC3D,OAAOK,EAAU92B,IAAIg3B,GAAYvC,MAAMyC,KAGhB,EAAG,CAAEC,cAAe,MAE/C,OAAIR,EACqB,IAAI35B,IAAI25B,EAAE72B,QAAQ,IAIpC,KDFHs3B,CACI,IAAIp6B,IAAI6e,EAAW/N,UACnB+N,EAAWjG,UAAUhN,UACrBsQ,EAZaqd,KAgBrB,IAAK7gB,EACD,OAAO,2BACAmG,GADP,IAEI8Y,mBAAoB,IACpBjf,UAAW,MAKnB,IACIygB,EAAY7C,GAAoB,CAC5Bx2B,KAAMo5B,EACN1tB,SACA+qB,eACAzlB,SAAU,IAAI9Q,IAAI6e,EAAW/N,UAC7B4H,cAEN,MAAOhX,IAET,OAAO,2BACAmd,GADP,IAEI8Y,mBAAoBp1B,GAAsBmW,EAAUT,WAAYzJ,EAAgB/L,UAChFiW,UAAWA,EAAUiJ,MAAM,EAAG,GAAG1J,WACjCkhB,cEhED,SAASkB,GAAuBxb,EAA4BrT,GAC/D,IAAM1B,EAAyB,CAC3ByK,WAAW,EACX+lB,QAAS,IAuBb,GApBIzb,EAAW/N,UACP,IAAI9Q,IAAI6e,EAAW/N,UAAUmO,GAAGJ,EAAWjG,UAAUvV,WACrDyG,EAAOwwB,QAAUv8B,EAAM,gCACvB+L,EAAOyK,WAAY,GAGnB,IAAIvU,IAAI6e,EAAW/N,UAAUkO,IAAI,KACjClV,EAAOyK,WAAY,IAIvBzK,EAAOyK,WAAY,EAGnBsK,EAAWnG,WACP,IAAI1Y,IAAI6e,EAAWnG,WAAWsG,IAAI,KAClClV,EAAOyK,WAAY,GAIvBsK,EAAW/N,UAAY+N,EAAWnG,UAAW,CAC7C,IAAMwgB,EAAWra,EAAW/e,MPY7B,SAAyBy6B,GAC5B,IAGI,OAFAjE,GAAoBiE,IAEb,EACT,MAAO74B,GACL,OAAO,IOjBiB84B,CAAgB,CACpC1pB,SAAU,IAAI9Q,IAAI6e,EAAW/N,UAC7B4H,UAAW,IAAI1Y,IAAI6e,EAAWnG,WAC9BlN,SACA+qB,aAAc2C,IAAahD,GAASM,IAAM3X,EAAWO,QAAUP,EAAWjG,UAC1E9Y,KAAMo5B,MAINpvB,EAAOyK,WAAY,EACnBzK,EAAOwwB,QAAUv8B,EAAM,mCAI/B,OAAO+L,E,yBCnBI,SAAS2wB,GAAT,GAOsB,ICrCe7hB,EAA2BwG,ED+B3E5T,EAMgC,EANhCA,OACAshB,EAKgC,EALhCA,OACA4N,EAIgC,EAJhCA,QACAC,EAGgC,EAHhCA,UACArc,EAEgC,EAFhCA,qBAEgC,IADhC5iB,iBACgC,MADpB,GACoB,IACIiL,oBCtCYiS,EDsCyBkU,EAAO,GCtCL1N,EDsCSsb,EAAQ,GCrCrF,CACH56B,KAAMJ,GACNkZ,YACAwG,UACAtO,SAAU,IACV4H,UAAW,IACX0gB,kBAAmB,GACnBzB,mBAAoB,GACpBwB,UAAW,MD4BiB,mBACzBta,EADyB,KACbC,EADa,KAE1BtQ,EAAoC,IAAlBse,EAAOvc,OAAeuc,EAAO,GAAK4N,EAAQ,GAmDlE,IAAM7wB,EAAa6wB,EAAQnqB,OAAS,EAAImqB,EAAU5N,EAC5C8N,EAAWtD,GAAiBzY,EAAYhV,EAAY2B,GACpD1B,EAASuwB,GAAuBO,EAAUpvB,GAC1Cid,EAAezN,GAAyBxP,EAAO8L,eAC/C4hB,EAAW0B,EAAS96B,KACpB+6B,EAAch5B,KAAQiH,MAAM6f,gBAC9BF,EAAavP,WACbuP,EAAatP,WACb,IAAInZ,IAAI46B,EAASzB,UAAU1Q,EAAavN,UAAUtP,aAGtD,OACI,uBAAMlQ,UAAWW,IAAWV,KAAE,iBAAkBD,GAAhD,UACI,cAACsiB,GAAD,CACIlhB,MAAOiB,EAAM,uBACbkgB,eAtCZ,WACIa,EAAc,2BACPD,GADM,IAET/N,SAAU+N,EAAWjG,UAAUvV,QAC/B+1B,kBAAmBva,EAAWjG,UAAUvN,qBAmCpC4R,cA7DZ,SAAgC5C,GAC5ByE,EAAc,2BACPD,GADM,IAETjG,UAAWyB,MA2DP9d,MAAOq+B,EAASxB,kBAChBjf,OAAQ2S,EACR9P,cAAe4d,EAAShiB,UACxBuE,cAAe,SAACgC,GAAD,OAnDG5iB,EAmDyB4iB,OAlDnDL,EAAc,2BACPD,GADM,IAETua,kBAAmB78B,EACnBuU,SAAUvU,EAAQwG,GAAkBxG,EAAOiS,EAAgB/L,UAAY,OAJ/E,IAA8BlG,GAoDlB2gB,SAAU0d,EAAShiB,UAAUlH,uBAAoBhT,EAAYk8B,EAASzB,UAAUyB,EAAShiB,UAAUhN,aAGvG,qBAAKlQ,UAAWC,KAAE,gCAAlB,SACI,cAAC,GAAD,CAAYkB,QAvCxB,WACIiiB,EAAc,2BACPD,GADM,IAET/e,KAAwB,IAAlBgtB,EAAOvc,OrIlEL,OqIkE2B7Q,GACnCoR,SAAU+N,EAAWnG,UACrBA,UAAWmG,EAAW/N,SACtBsoB,kBAAmBva,EAAW8Y,mBAC9BA,mBAAoB9Y,EAAWua,kBAC/BxgB,UAAWiG,EAAWO,QACtBA,QAASP,EAAWjG,aAExB0F,KA4BgD/W,KAAMgY,GAAM9hB,IAAKM,EAAM,kCAGnE,qBAAKrC,UAAWC,KAAEm/B,cAAlB,SACI,cAAC9c,GAAD,CACIlhB,MAAOiB,EAAM,2BACbkf,cArEhB,SAAiC5C,GAC7ByE,EAAc,2BACPD,GADM,IAETO,QAAS/E,MAmED9d,MAAOq+B,EAASjD,mBAChBxd,OAAQugB,EACR1d,cAAe4d,EAASxb,QACxB9B,eAAa,EACbJ,SAAU0d,EAASxb,QAAQ1N,uBAAoBhT,EAAYk8B,EAASzB,UAAUyB,EAASxb,QAAQxT,eAItGJ,EAAO1L,OAASqV,GAAWoB,QAAU2iB,IAAahD,GAASM,KACxD,sBAAK96B,UAAWC,KAAEo/B,mBAAlB,UACI,sBAAMr/B,UAAWC,KAAEq/B,gBAAnB,SACKvS,EAAavN,UAAUtP,YAAcgvB,EAASxb,QAAQxT,UACnD7N,EAAM,0CACNA,EAAM,4CAGd,+BAAO88B,EAAY/3B,QAAQ,QAInC,cAAC+zB,GAAD,CAAchY,WAAY+b,EAAUpvB,OAAQA,IAC5C,cAAC,GAAD,CAAO9J,MAAOoI,EAAOwwB,UAErB,cAAC,EAAD,CAAQ/wB,UAAWO,EAAOyK,UAAW1X,QAAS,WAvGlD89B,EAuGqEC,IAAWl/B,UAAWC,KAAE,0BAAzF,SACKoC,EAAM,kC,yBEjJR,SAASk9B,KACpB,OACI,gCACI,cAAC1Q,GAAA,EAAD,CAAUC,OAAQ,IAAK9uB,UAAWC,KAAE8uB,WACpC,cAACF,GAAA,EAAD,CAAUC,OAAQ,IAAK9uB,UAAWC,KAAE8uB,WACpC,cAACF,GAAA,EAAD,CAAUC,OAAQ,IAAK9uB,UAAWC,KAAE8uB,WACpC,cAACF,GAAA,EAAD,CAAUC,OAAQ,GAAI9uB,UAAWC,KAAE8uB,cCOhC,SAASyQ,GAAT,GAEU,IADrBx/B,EACoB,EADpBA,UAEMuX,EAAWO,cADG,EAEY7M,oBAAS,GAFrB,mBAEbgZ,EAFa,KAEHC,EAFG,KAGdpU,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvD/f,EAAaH,mBAJC,4CA2BpB,WACI8T,GADJ,iBAAAhY,EAAA,yDAGSiL,EAHT,sBAGuB,IAAI7J,MAAM,uBAHjC,UAKQ4W,EAAOzY,OAASJ,GALxB,gCAM4BgjB,GAAoBnK,EAAOK,UAAU1V,gBAAkB,IANnF,cAMcmX,EANd,yBAOeA,EAAMif,IAAI9tB,EAAOzO,GAAIwb,IAPpC,wBAS+BS,KAT/B,eAScK,EATd,yBAUeA,EAASb,KAAKhN,EAAOzO,GAAIwb,IAVxC,6CA3BoB,sBA6CpB,GAvCA7T,qBAAU,WACN,OAAO,WAEHI,cAAcF,EAAWD,YAE9B,IAEHD,qBAAU,WACN,GAAK8G,EAQL,OANA1G,cAAcF,EAAWD,SAEzBC,EAAWD,QAAUE,aAAY,W5CyBlC,IAAsB6G,EAAkB8C,E4CxBnCyE,G5CwBiBvH,E4CxBKF,EAAOzO,G5CwBMyR,E4CxBFhD,EAAOgD,gB5CyBhD,uCAAO,WAAOyE,EAAoBkoB,GAA3B,mBAAA56B,EAAA,6DACGsT,EAAQsnB,IADX,SAEkBrhB,GAAuBpO,EAAU8C,EAAX,UAA4BqF,EAAMpM,QAAQA,eAA1C,aAAqD/I,GAF7F,UAGmB,KADhByb,EAFH,QAGQ5J,OAHR,iDAKH0C,EAAS2R,GAAsBzK,IAL5B,2CAAP,4D4CpD4B,KA8BjB,WACHrV,cAAcF,EAAWD,YAE9B,CAAC6G,EAAQyH,KAoBPzH,EACD,OAAO,cAACyvB,GAAD,IAGX,IAAMnO,EAA2B,CAACthB,EAAOgD,iBAEzC,OACI,cAACisB,GAAD,CACIjvB,OAAQA,EACRshB,OAAQnN,EAAWnU,EAAO8L,cAAgBwV,EAC1C4N,QAAS/a,EAAWmN,EAASthB,EAAO8L,cACpCqjB,UAxDY,4CAyDZrc,qBAhBR,WACIsB,GAAaD,IAgBTjkB,UAAWA,I,yBCrER,SAAS0/B,GAAT,GAG6B,IAFxCz9B,EAEuC,EAFvCA,SAEuC,IADvCjC,iBACuC,MAD3B,GAC2B,EACvC,OACI,qBAAKA,UAAWW,IAAWV,KAAEW,KAAMZ,GAAnC,SACKiC,I,8CCAE,SAAS09B,GAAT,GAEJ,IADPx/B,EACM,EADNA,MACM,EAC0B8K,mBAAS,GADnC,mBACC5K,EADD,KACWu/B,EADX,KAEAC,EAAiB1/B,EAAMW,QAAO,SAAAgE,GAAI,OAAIA,EAAK9D,QAC3C8+B,EAAaD,EAAex/B,GAWlC,OACI,gCACI,cAACH,EAAD,CACIC,MAAO0/B,EACPv/B,QAAQ,YACRF,WAdZ,SAAwB0E,GACpB,IAAMi7B,EAAYF,EAAeG,WAAU,SAAArF,GAAC,OAAIA,EAAEt5B,KAAOyD,EAAKzD,MAC9Du+B,EAAYG,IAaJ1/B,UAAoB,OAAVy/B,QAAU,IAAVA,OAAA,EAAAA,EAAYz+B,KAAM,GAC5BrB,UAAWC,KAAEggC,KACb1/B,aAAcN,KAAEc,MAEpB,cAAC,KAAD,CAAgBiZ,MAAO3Z,EAAU6/B,cAdzC,SAA2BlmB,GACvB4lB,EAAY5lB,IAaR,SACK6lB,EAAe5+B,KAAI,SAAA6D,GAAI,OACpB,qBAAK9E,UAAWC,KAAEkgC,KAAlB,SACKr7B,EAAKs7B,kB,yBC/Bf,SAASC,GAAT,GAGU,IAFrBvwB,EAEoB,EAFpBA,OACAhJ,EACoB,EADpBA,OAEMw5B,EAAa,IAAIh8B,IAAIwL,EAAO8L,cAAcmK,QAAO,SAAC9lB,EAAGsf,GAAJ,OAAU,IAAIjb,IAAIib,EAAEpJ,aAAaoN,GAAG,IAAIjf,IAAIrE,IAAOsf,EAAEpJ,YAAclW,IAAG,MACvHsgC,EAAez5B,EAAS,IAAIxC,IAAIwC,GAAU,IAAIxC,IAAI,KAElDqB,EAAOmK,EAAO8L,cAAc3a,KAAI,SAAAse,GAClC,IAAM5X,EAAU,IAAIrD,IAAIib,EAAEpJ,aAC1B,MAAQ,CACJ7T,IAAKid,EAAElJ,UAAYhU,EAAM,4BACzBxB,MAAOsF,KAAQiH,MAAMC,YAAYkzB,EAAaxE,MAAMwE,EAAaj5B,IAAIK,GAASR,IAAIm5B,IAAa/jB,WAAYgD,EAAExY,cAK/Gy5B,EAAcD,EAAaj5B,IAAI,IAAIhD,IAAIwL,EAAO2K,cAAcqB,cAAc3U,IAAIm5B,GAC9EG,EAAc,CAChB,CACIn+B,IAAKD,EAAM,mBAAqBA,EAAM,4BACtCxB,MAAOsF,KAAQiH,MAAMC,YAAYmzB,EAAYjkB,WAAYzM,EAAOgD,gBAAgB/L,WAEpF,CACIzE,IAAKD,EAAM,kCACXxB,MAAO,IAAIyD,IAAIk8B,GAAar5B,IAAI,IAAI7C,IAAIwL,EAAO2K,cAAcqB,cAAcxU,IAAI,IAAIhD,IAAI,QAAQ2hB,MAAM,GAAG1J,WAAa,MAI7H,OACI,cAACke,GAAD,CAAU90B,KAAI,uBAAMA,GAAS86B,GAAc/F,OAAQr4B,EAAM,0BAA2B,IAAI,KCrBjF,SAASq+B,GAAT,GAGU,IAFrB5wB,EAEoB,EAFpBA,OACA+S,EACoB,EADpBA,SACoB,EACgB5X,mBAAsC,CACtE01B,kBAAmB,GACnBC,2BAA4B,KAHZ,mBACbzd,EADa,KACDC,EADC,KAyBpB,IAAMhV,ECnCH,SAA6C+U,EAAyCrQ,GACzF,IAAM1E,EAAkC,CACpCyyB,iBAAiB,EACjBF,kBAAmB,IAGvB,GAAIxd,EAAWwd,kBAAmB,CAC9B,IAAMG,EAAc3d,EAAWwd,kBAE3B,IAAIr8B,IAAIw8B,GAAaxd,IAAI,KACzBlV,EAAOyyB,iBAAkB,GAGzB,IAAIv8B,IAAIw8B,GAAavd,GAAGzQ,EAAgBnL,WACxCyG,EAAOuyB,kBAAoBt+B,EAAM,6CACjC+L,EAAOyyB,iBAAkB,QAG7BzyB,EAAOyyB,iBAAkB,EAG7B,OAAOzyB,EDcQ2yB,CAAoC5d,EAAYrT,EAAOgD,iBAEtE,OACI,gCACI,4BACKzQ,EAAM,gCAAiC,CACpCuqB,WAAY,QAIpB,cAACtK,GAAD,CACIlhB,MAAOiB,EAAM,uBACbkgB,eApBZ,WACIa,EAAc,2BACPD,GADM,IAETwd,kBAAmB7wB,EAAOgD,gBAAgBnL,QAC1Ci5B,2BAA4B9wB,EAAOgD,gBAAgBnD,qBAiB/C9O,MAAOsiB,EAAWyd,2BAClBnf,cAAe,SAACgC,GAAD,OA9BH5iB,EA8ByB4iB,OA7B7CL,EAAc,2BACPD,GADM,IAETwd,kBAAmB9/B,EAAQwG,GAAkBxG,EAAOiP,EAAOgD,gBAAgB/L,UAAY,GACvF65B,2BAA4B//B,KAJpC,IAAwBA,GA+BZ0gB,cAAe,aACfD,cAAexR,EAAOgD,gBACtB2L,OAAQ,CAAC3O,EAAOgD,iBAChB9S,UAAWC,KAAE+gC,YACbrf,YAAY,SAGhB,cAAC0e,GAAD,CAAmBvwB,OAAQA,EAAQhJ,OAAQqc,EAAWwd,oBAEtD,cAAC,GAAD,CAAO36B,MAAOoI,EAAOuyB,oBAErB,cAAC,EAAD,CAAQ9yB,UAAWO,EAAOyyB,gBAAiB1/B,QA9CnD,WACI0hB,EAASM,IA6C6DnjB,UAAWC,KAAEghC,QAA/E,SACK5+B,EAAM,uCEpER,SAAS6+B,KACpB,IAAMpxB,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBAEvDkY,EAAa31B,uBAAY,SAAC2X,GACvBrT,G3F4BN,SAAP,gC2F1BQsxB,CAAStxB,EAAOzO,GAAI8hB,EAAWwd,kBAAmB7wB,EAAOhI,qBAC1D,CAACgI,IAEJ,OAAKA,EAKD,cAAC4wB,GAAD,CACI5wB,OAAQA,EACR+S,SAAUse,IANP,wB,8CCPA,SAASE,GAAT,GAEJ,IADPvxB,EACM,EADNA,OAEM8B,EAAkB9B,EAAO8B,iBAAmB,GAElD,OACI,8BACI,wBAAO5R,UAAWC,KAAEqhC,MAApB,UACI,gCACI,+BACI,6BAAKj/B,EAAM,wCACX,6BAAKA,EAAM,uCACX,6BAAKA,EAAM,6CAGnB,gCACKuP,EAAgB3Q,KAAI,SAACsgC,EAAWvnB,GAC7B,IAAMyG,EAAU3Q,EAAO8L,cAAcnK,MAAK,SAAAkN,GAAK,OAAIA,EAAMzO,YAAc8J,KAEvE,OACI,+BACI,oBAAIgH,MAAO,CAAE6I,MAAM,OAAD,cAASpJ,QAAT,IAASA,OAAT,EAASA,EAAS9J,SAAlB,MAAlB,gBAAoD8J,QAApD,IAAoDA,OAApD,EAAoDA,EAASpK,YAC7D,+BAAKxP,GAAsB06B,EAAWzxB,EAAOgD,gBAAgB/L,UAA7D,IAAyE+I,EAAOgD,gBAAgBxF,eAChG,sCAAKmT,QAAL,IAAKA,OAAL,EAAKA,EAAS9Q,iBAAd,WAAiC8Q,QAAjC,IAAiCA,OAAjC,EAAiCA,EAASnT,iBAH9C,OAASmT,QAAT,IAASA,OAAT,EAASA,EAASvQ,qBCZ/B,SAASsxB,GAAT,GAKU,IAJrBC,EAIoB,EAJpBA,UACA3xB,EAGoB,EAHpBA,OACAxB,EAEoB,EAFpBA,aACAozB,EACoB,EADpBA,QAEMxnB,ECpBH,SACHuE,EACA7M,EACAtD,EACAqzB,EACAF,GAEA,IAAIG,EAAY,IAAIt9B,IAAI,GAQxB,GALIm9B,IACAG,EAAYA,EAAUxkB,IAAIqkB,EAAU7xB,OAIpCgC,EAAiB,CACjB,IAAMiwB,EAAoBvzB,EAAamD,MAAK,SAAA3L,GAAM,MAAoB,iBAAhBA,EAAO1B,QAC1CwN,EAAgB3Q,KAAI,SAAA6gC,GAAC,OAAI,IAAIx9B,IAAIw9B,MAEzCjS,SAAQ,SAACpD,EAAKhM,GACrB,IAAM9B,EAAQF,EAAOhN,MAAK,SAAAkN,GAAK,OAAIA,EAAMzO,YAAcuQ,KACvD,GAAK9B,IAAS8N,EAAIhN,GAAG,KAArB,CAEA,IAAMvF,EAAS,IAAI5V,IAAIqa,EAAMhX,SAASL,IAAImlB,EAAItlB,IAAJ,YAAawX,EAAM5X,YAE7D,GAAI06B,EAAW,CACX,IAAMM,EAAM,IAAIz9B,IAAIm9B,EAAU95B,SAC9B,GAAIo6B,EAAItiB,GAAG,KAAM,OACjB,IAAMuiB,EAAK,IAAI19B,IAAIq9B,GAGbM,EAFSF,EAAI56B,IAAI66B,GACS16B,IAAImX,EAAOgC,GAAStK,aACN7O,IAAImlB,EAAItlB,IAAJ,YAAawX,EAAM5X,YACrE66B,EAAYA,EAAUxkB,IAAI6kB,GAG9BL,EAAYA,EAAUxkB,IAAIlD,OAG1B2nB,IACAD,EAAYA,EAAUxkB,IAAIykB,EAAkBjvB,cAMpD,OAAOgvB,EDzBQM,CAAgBpyB,EAAO8L,cAAe9L,EAAO8B,gBAAiBtD,EAAcwB,EAAO2K,cAAcqB,YAAa2lB,GAE7H,OACI,gCACK3xB,EAAO2L,SACJ,4BAAIpZ,EAAM,yCAGZyN,EAAO2L,SACL,qCACI,4BACKpZ,EAAM,sCAEX,cAACg/B,GAAD,CAAyBvxB,OAAQA,OAIxCA,EAAO4L,OACJ,4BACKrZ,EAAM,sCAAuC,CAC1C6X,OAAQpK,EAAO4L,MAAMvB,gBACrB9D,UAAWvG,EAAOgD,gBAAgBxF,iBAK5CwC,EAAO4L,QAAU5L,EAAO2L,SACtB,8BACKpZ,EAAM,uCAAwC,CAC3CgU,UAAWvG,EAAOgD,gBAAgBxF,cAEtC,uBAAMtN,UAAWC,KAAE2hC,UAAnB,UACK/6B,GAAsBqT,EAAOqC,WAAYzM,EAAOgD,gBAAgB/L,SAAU,GAD/E,IACoF+I,EAAOgD,gBAAgBxF,kBAKnH,cAAC,EAAD,CAAQO,SAAU3D,QAAQ4F,EAAO4L,OAAQva,QAASugC,EAAS1hC,UAAWC,KAAEghC,QAAxE,SACK5+B,EAAM,oCExDR,SAAS8/B,KACpB,IAAMryB,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvDwY,EAAYvpB,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOsZ,oBAC1D9a,EAAe4J,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOxB,gBAE7D8zB,EAAc52B,uBAAY,WACvBsE,GjHmPN,SAAP,4BiHjPQuyB,CAAuBvyB,EAAOzO,MAC/B,CAACyO,IAEJ,OAAKA,EAOD,cAAC,GAAD,CACI2xB,UAAWA,EACX3xB,OAAQA,EACR4xB,QAASU,EACT9zB,aAAcA,IATd,wB,uCCQG,SAASg0B,GAAT,GAKJ,IAJPxyB,EAIM,EAJNA,OAEAyyB,GAEM,EAHNx2B,QAGM,EAFNw2B,WACAC,EACM,EADNA,WACM,EAC8Bv3B,mBC/B7B,CACHoc,mBAAoB,GACpBG,eAAgB,GAChBib,wBAAyB,KD2BvB,mBACCtf,EADD,KACaC,EADb,KA6BNpa,qBAAU,WACNoa,EAAc,2BACPD,GADM,IAETkE,mBAAoBvX,EAAO8L,cAAc3a,KAAI,iBAAM,YAExD,CAAC6O,EAAO8L,gBAEX,IAAMxN,EEzDH,SAA0B+U,EAAgCrT,GAC7D,IAAM1B,EAA6B,CAC/BiZ,mBAAoB,GACpBqb,SAAS,EACT9D,QAAS,GACTpX,eAAgB,IAGpBpZ,EAAOiZ,mBAAqBlE,EAAWkE,mBAAmBpmB,KAAI,SAAA0hC,GAC1D,IAAM/V,EAAazR,OAAOwnB,GAC1B,OAAI/V,GAAc,EAAUvqB,EAAM,sBAC9BuqB,GAAc,IAAYvqB,EAAM,qBAE7B,MAGX,IAAMugC,EAAmBx0B,EAAOiZ,mBAAmB3I,MAAK,SAAA5Z,GAAI,MAAa,KAATA,KAC1D+9B,EAAqB1f,EAAWkE,mBAAmBpmB,KAAI,SAAAqmB,GAAC,OAAInM,OAAOmM,MAAIvB,QAAO,SAAC+c,EAAMC,GAAP,OAAeD,EAAOC,IAAK,GAY/G,IAVIH,GAA2C,MAAvBC,KACpBz0B,EAAOs0B,SAAU,GAGM,MAAvBG,IACAz0B,EAAOwwB,QAAUv8B,EAAM,yBAA0B,CAC7CuqB,WAAYiW,EAAmBtmB,cAInC4G,EAAWqE,eAAgB,CAC3B,IAAMsZ,EAAc3d,EAAWqE,eAE3B,IAAIljB,IAAIw8B,GAAaxd,IAAI,KACzBlV,EAAOs0B,SAAU,GAGjB,IAAIp+B,IAAIw8B,GAAavd,GAAGzT,EAAOgD,gBAAgBnL,WAC/CyG,EAAOoZ,eAAiBnlB,EAAM,oCAC9B+L,EAAOs0B,SAAU,QAGrBt0B,EAAOs0B,SAAU,EAGrB,OAAOt0B,EFaQ40B,CAAiB7f,EAAYrT,GAE5C,OACI,8BACI,iCACI,4BAAIzN,EAAM,uBAAwB,CAAEgU,UAAWksB,EAAUlsB,cAEzD,sBAAKrW,UAAWC,KAAEgjC,aAAlB,UACI,cAAC3gB,GAAD,CACIlhB,MAAM,GACNmhB,eAzBpB,WACIa,EAAc,2BACPD,GADM,IAETsf,wBAAyBF,EAAU5yB,iBACnC6X,eAAgB+a,EAAU56B,YAsBd4Z,cAAe,aACf1gB,MAAOsiB,EAAWsf,wBAClBhkB,OAAQ,CAAC8jB,GACTjhB,cAAeihB,EACf9gB,cAtCpB,SAA+B5gB,GAC3BuiB,EAAc,2BACPD,GADM,IAETsf,wBAAyB5hC,EACzB2mB,eAAgB3mB,EAAQwG,GAAkBxG,EAAO0hC,EAAUx7B,UAAY,OAmC3D4a,YAAY,SAEhB,cAAC,GAAD,CAAO3b,MAAOoI,EAAOoZ,oBAGzB,6BAAKnlB,EAAM,2BACV8gB,EAAWkE,mBAAmBpmB,KAAI,SAAC2rB,EAAY5S,GAAb,aAC/B,sBAAKha,UAAWC,KAAEgjC,aAAlB,UACI,cAACpS,GAAD,CAAOluB,MAAM,UAAAmN,EAAO8L,cAAcnK,MAAK,SAAAgP,GAAO,OAAIA,EAAQvQ,YAAc8J,YAA3D,eAAmE3D,YAAa,KAC7F,cAACya,GAAD,CACIjwB,MAAO+rB,EACPxoB,KAAK,SACLge,SAAU,SAACvhB,GAAD,OA7DlC,SAAgCmZ,EAAenZ,GAC3C,IAAMqiC,EAAc/f,EAAWkE,mBAC/B6b,EAAYlpB,GAASnZ,EAErBuiB,EAAc,2BACPD,GADM,IAETkE,mBAAoB6b,KAuDiBC,CAAuBnpB,EAAOnZ,IACnDmF,QAASoI,EAAOiZ,mBAAmBrN,GACnC0W,WAAYtiB,EAAOiZ,mBAAmBrN,GACtCopB,WAAY,CACRC,aACI,cAACC,GAAA,EAAD,CAAgBC,SAAS,MAAzB,SACI,sBAAMvjC,UAAWC,KAAEujC,WAAnB,sBAXiBxpB,OAmBvC5L,EAAOs0B,SAAW,4BAAIt0B,EAAOwwB,UAE/B,cAAC,EAAD,CACI5+B,UAAWC,KAAEqZ,cACbzL,UAAWO,EAAOs0B,QAClBvhC,QAAS,kBAAMqhC,EAAWrf,IAH9B,SAKK9gB,EAAM,iCG/GZ,SAASohC,KACpB,IAAMlsB,EAAWO,cACX/L,EAAUmM,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQA,WACzD+D,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBAEvDya,EAAiBl4B,uBAAY,SAAC2X,G1DsIjC,IAAwBnT,EAAkBiP,EAAiBpC,E0DrIrD/M,GAELyH,G1DmIuBvH,E0DnICF,EAAOzO,G1DmIU4d,E0DnINnP,EAAOhI,kB1DmIgB+U,E0DnIGsG,E1DoIjE,uCAAO,WAAO5L,GAAP,SAAA1S,EAAA,sEACGsiB,GAASnX,EAAUiP,EAASpC,GAD/B,2CAAP,0D0DnIG,CAACtF,EAAUzH,IAEd,OAAKA,EAKD,cAACwyB,GAAD,CACIv2B,QAASA,EACT+D,OAAQA,EACRyyB,UAAWzyB,EAAOgD,gBAClB0vB,WAAYkB,IART,wBCfA,SAASC,KACpB,OACI,8BACI,4BAAIthC,EAAM,gCCMP,SAASuhC,GAAT,GAGU,IAFrB9zB,EAEoB,EAFpBA,OACAhJ,EACoB,EADpBA,OAEM66B,EAAuB,IAAIr9B,IAAIwL,EAAO2K,cAAcqB,aACpD+nB,EAAc/8B,EAAS,IAAIxC,IAAIwC,GAAQK,IAAIw6B,GAAwB,IAAIr9B,IAAI,KAE3EqB,EAAOmK,EAAO8L,cAAc3a,KAAI,SAAA6iC,GAAS,MAAK,CAChDxhC,IAAKwhC,EAAUztB,UAAYhU,EAAM,4BACjCxB,MAAOsF,KAAQiH,MAAMC,YAAYw2B,EAAYv8B,IAAI,IAAIhD,IAAIw/B,EAAU3tB,cAAcoG,WAAYzM,EAAOgD,gBAAgB/L,cAGxH,OACI,cAAC0zB,GAAD,CAAUC,OAAQr4B,EAAM,0BAA2B,IAAI,GAAOsD,KAAMA,I,yBCJ7D,SAASo+B,GAAT,GAIJ,I5IuBwCC,E4I1B/Cl0B,EAGM,EAHNA,OACA2xB,EAEM,EAFNA,UACAwC,EACM,EADNA,WACM,EAC8Bh5B,mBCrB7B,CACHmK,SAAU,GACV8N,kBAAmB,KDkBjB,mBACCC,EADD,KACaC,EADb,KAEAzE,E5IsBC,CACHhX,SAF2Cq8B,E4IrBEvC,G5IuB1B95B,QACnBgI,iBAAkBq0B,EAAUr0B,iBAC5B5I,SAAUi9B,EAAU7zB,wBACpB8F,KAAM,IAAI3R,IAAI,GACd4L,UAAWgG,IACXC,YAAa,IACbC,WAAY,IAAI9R,IAAI,GACpBqN,MAAO,EACPR,MAAO,IACPmF,YAAa,IACbC,oBAAqB,OACrBF,UAAWhU,EAAM,oBACjBiL,YAAa,GACbkJ,OAAQ,EACRR,mBAAmB,EACnBU,MAAO,IAAIpS,IAAI,GACfqS,SAAU,Y4IjBd,IAAMvI,EExCK,SAA0B+U,EAAgCse,GACrE,IAAMrzB,EAA6B,CAC/ByK,WAAW,EACXzD,SAAU,IAiBd,MAd4B,KAAxB+N,EAAW/N,UACP,IAAI9Q,IAAIm9B,EAAU95B,SAASg2B,GAAGxa,EAAW/N,YACzChH,EAAOgH,SAAW/S,EAAM,wCACxB+L,EAAOyK,WAAY,GAGnB,IAAIvU,IAAI6e,EAAW/N,UAAUkO,IAAI,KACjClV,EAAOgH,SAAW/S,EAAM,yCACxB+L,EAAOyK,WAAY,IAGvBzK,EAAOyK,WAAY,EAGhBzK,EFoBQ81B,CAAiB/gB,EAAYse,GAE5C,OACI,oCACI,4BACKp/B,EAAM,0BAEX,cAACigB,GAAD,CACIlhB,MAAOiB,EAAM,mCACbkgB,eAjBZ,WACIa,EAAc,2BACPD,GADM,IAET/N,SAAUqsB,EAAU95B,QACpBub,kBAAmBue,EAAU9xB,qBAczB9O,MAAOsiB,EAAWD,kBAClBzB,cA/BZ,SAA8B5gB,GAC1BuiB,EAAc,2BACPD,GADM,IAET/N,SAAUvU,EAAQwG,GAAkBxG,EAAO4gC,EAAUtxB,yBAA2B,GAChF+S,kBAAmBriB,MA4Bf0gB,cAAe,aACfD,cAAe3C,EACfF,OAAQ,CAACE,GACT3e,UAAWC,KAAE+gC,YACbtf,WAAW,IAEf,cAAC,GAAD,CAAO1b,MAAOoI,EAAOgH,WACrB,4BACK/S,EAAM,4BAA6B,CAChCyE,OAAQD,GAAsB46B,EAAU7xB,KAAME,EAAOgD,gBAAgB/L,SAAU,GAC/EuG,YAAawC,EAAOgD,gBAAgBxF,gBAI5C,cAACs2B,GAAD,CAAc9zB,OAAQA,EAAQhJ,OAAQqc,EAAW/N,WACjD,cAAC,EAAD,CAAQjU,QAvChB,WACI8iC,EAAW9gB,IAsCwBnjB,UAAWC,KAAEghC,QAASpzB,UAAWO,EAAOyK,UAAvE,SACKxW,EAAM,iCGtER,SAAS8hC,KACpB,IAAM1C,EAAYvpB,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOsZ,oBAC1DtZ,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvD1R,EAAWO,cAEXssB,EAAiB54B,uBAAY,SAAC2X,GhEiJjC,IAAwBnT,EAAkBoF,EgEhJpCqsB,GAELlqB,GhE8IuBvH,EgE9ICyxB,EAAUzxB,ShE8IOoF,EgE9IG+N,EAAW/N,ShE+I3D,uCAAO,WAAOmC,GAAP,SAAA1S,EAAA,sEACGgjB,GAAS7X,EAAUoF,GADtB,2CAAP,0DgE9IG,CAACqsB,EAAWlqB,IAEf,OAAKkqB,GAAc3xB,EAKf,cAACi0B,GAAD,CACItC,UAAWA,EACX3xB,OAAQA,EACRm0B,WAAYG,IAPT,wB,yBCTA,SAASC,GAAT,GAEU,IADrBn4B,EACoB,EADpBA,aAEA,OACI,gCACI,gCACI,6BAAK7J,EAAM,uBACX,4BAAIA,EAAM,gCAEd,cAAC,EAAD,CACIrC,UAAWC,KAAEqZ,cACbnY,QAAS+K,EAFb,SAIK7J,EAAM,iCCjBR,SAASiiC,KACpB,IAAM/sB,EAAWO,cAEXM,EAAmB5M,uBAAY,WACjC+L,EAASvE,QACV,CAACuE,IAEJ,OACI,cAAC8sB,GAAD,CAAan4B,aAAckM,I,kDCEpB,SAASmsB,GAAT,GAIJ,IAHPz0B,EAGM,EAHNA,OACA/D,EAEM,EAFNA,QACAy4B,EACM,EADNA,kBAEA,OAAKz4B,EAID+D,EAAOhI,oBAAsBnE,GAIM,MAAnCmM,EAAOgD,gBAAgBnL,QAHhB,KAQP,eAAC+3B,GAAD,CAAa1/B,UAAWC,KAAEwkC,YAA1B,UACI,qBAAK3iC,IAAKiG,GAAiBhG,IAAI,GAAG/B,UAAWC,KAAE4L,OAC/C,sBAAK7L,UAAWC,KAAEkZ,QAAlB,UACI,4BAAI9W,EAAM,4BAA6B,CAAEoF,UAAWsE,EAAQtE,cAC5D,cAAC,EAAD,CAAQtG,QAASqjC,EAAjB,SAAqCniC,EAAM,2CAhB5C,KChBA,SAASqiC,KACpB,IAAMntB,EAAWO,cACXhI,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvDld,EAAUmM,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQA,WAEzD44B,EAAwBn5B,uBAAY,WACtC+L,EAASK,IAA0B,MACpC,CAACL,IAEJ,OAAKzH,EAGD,cAACy0B,GAAD,CACIz0B,OAAQA,EACR/D,QAASA,EACTy4B,kBAAmBG,IANP,KCJT,SAASxJ,GAAT,GAGW,IAFtBrrB,EAEqB,EAFrBA,OACA80B,EACqB,EADrBA,iBAEMC,EAAgB/0B,EAAO8L,cAAcmK,QAAO,SAAC+e,EAAKnmB,GACpD,IAAMxN,EAAQ,IAAI7M,IAAIqa,EAAMxN,OACtBxJ,EAAU,IAAIrD,IAAIqa,EAAMhX,SAC9B,IAAKA,GAAWA,EAAQ8X,GAAG,KACvB,OAAOqlB,EAGX,IAAMC,EAAW5zB,EAAMhK,IAAIQ,GAC3B,OAAOm9B,EAAI1nB,IAAI2nB,KAChB,IAAIzgC,IAAI,MAELqB,EAAO,GACb,GAAIk/B,EAActhB,GAAG,KAAM,CAGvB,IAAMyhB,EAAaH,EAAc9I,MAAM,KAEjCkJ,EAAoBp+B,GADT,IAAIvC,IAAIsgC,GAAkBt9B,IAAI09B,GACUzoB,WAAYzM,EAAOgD,gBAAgB/L,UAC5FpB,EAAKgN,KAAL,MAAAhN,EAAa,CACT,CACIrD,IAAKD,EAAM,iCACXxB,MAAM,GAAD,OAAKokC,EAAL,YAA0Bn1B,EAAOgD,gBAAgBxF,cAE1D,CACIhL,IAAKD,EAAM,2BACXxB,MAAM,GAAD,OAAKgG,GAAsB,IAAIvC,IAAIsgC,GAAkBroB,WAAYzM,EAAOgD,gBAAgB/L,mBAGlG,GAAI89B,EAAclH,GAAG,KAAM,CAE9B,IAAMqH,EAAa,IAAI1gC,IAAI,KAAKy3B,MAAM8I,GAChCK,EAAW,IAAI5gC,IAAIsgC,GAAkBt9B,IAAI09B,GACzCC,EAAoBp+B,GAAsBq+B,EAAS3oB,WAAYzM,EAAOgD,gBAAgB/L,UAE5FpB,EAAKgN,KAAL,MAAAhN,EAAa,CACT,CACIrD,IAAKD,EAAM,+BACXxB,MAAM,IAAD,OAAMokC,EAAN,YAA2Bn1B,EAAOgD,gBAAgBxF,cAE3D,CACIhL,IAAKD,EAAM,2BACXxB,MAAM,GAAD,OAAKgG,GAAsB,IAAIvC,IAAIsgC,GAAkB7I,MAAMmJ,GAAU3oB,WAAYzM,EAAOgD,gBAAgB/L,cAKzH,OAAO,cAAC0zB,GAAD,CAAU90B,KAAMA,EAAM+0B,OAAQr4B,EAAM,wBAAyB,IAAI,K,yBChD7D,SAAS8iC,GAAT,GAIJ,IAHPr1B,EAGM,EAHNA,OACA80B,EAEM,EAFNA,iBACAQ,EACM,EADNA,cAEA,OACI,gCACI,4BACK/iC,EAAM,qBAAsB,CACzByE,OAAQX,KAAQiH,MAAMC,YAAYu3B,EAAkB90B,EAAOgD,gBAAgB/L,UAC3EuG,YAAawC,EAAOgD,gBAAgBxF,gBAI5C,cAAC,GAAD,CAAgBs3B,iBAAkBA,EAAkB90B,OAAQA,IAC5D,cAAC,EAAD,CAAQ9P,UAAWC,KAAEqZ,cAAenY,QAASikC,EAA7C,SACK/iC,EAAM,uBAAwB,CAC3ByE,OAAQX,KAAQiH,MAAMC,YAAYu3B,EAAkB90B,EAAOgD,gBAAgB/L,UAC3EuG,YAAawC,EAAOgD,gBAAgBxF,mBCzBzC,SAAS+3B,KACpB,IAAMv1B,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvDqc,ElI2QH,SAAuC7mB,GAC1C,IAAKD,GAAuBC,GACxB,OAAO,IAAIna,IAAI,GAGnB,IAAIihC,EAAgB,IAAIjhC,IAAIma,EAAO,GAAG9W,SAUtC,OARA8W,EAAOoR,SAAQ,SAAClR,GACZ,IAAMhX,EAAU,IAAIrD,IAAIqa,EAAMhX,SAE1BA,EAAQg2B,GAAG4H,KACXA,EAAgB59B,MAIjB49B,EkI1RUC,EAAoC,OAAN11B,QAAM,IAANA,OAAA,EAAAA,EAAQ8L,gBAAiB,IAElE6pB,EAAoBj6B,uBAAY,WAC7BsE,GlI0RN,SAAP,8BkIxRQ+O,CAAkC/O,EAAOzO,GAAIikC,EAAS/oB,cACvD,CAACzM,EAAQw1B,IAEZ,OAAKx1B,EAKD,cAACq1B,GAAD,CACIP,iBAAkBU,EAAS/oB,WAC3BzM,OAAQA,EACRs1B,cAAeK,IAPZ,wBCdA,SAASC,KACpB,OACI,gCACI,6BAAKrjC,EAAM,0BACX,4BACKA,EAAM,mCCDR,SAASsjC,GAAT,GAGU,IAFrBvkC,EAEoB,EAFpBA,MACGc,EACiB,yBACpB,OACI,gCACI,cAAC2uB,GAAD,CAAOluB,KAAMvB,IACb,cAAC0vB,GAAD,eAAe5uB,O,yBCQZ,SAAS0jC,GAAT,GAGJ,IAFP91B,EAEM,EAFNA,OACA+S,EACM,EADNA,SACM,EAC8B5X,mBCvBjC,SAA2C6E,GAC9C,MAAO,CACH8X,aAAczhB,KAAQiH,MAAMy4B,WAAW/1B,EAAO8L,cAAc3a,KAAI,SAAA0d,GAAK,OAAIA,EAAMjI,UAC/E8Q,eAAgB,IAChBib,wBAAyB,KDmBgBqD,CAAkCh2B,IADzE,mBACCqT,EADD,KACaC,EADb,KAEAmf,EAAYzyB,EAAOgD,gBACnBqM,EAASD,GAAgBpP,EAAO8L,cAAc3a,KAAI,SAAA0d,GAAK,OAAIA,EAAMjI,UA6BvE,IAAMtI,EE9CH,SAAkC+U,EAAwCrT,GAC7E,IAAM1B,EAAqC,CACvCyK,WAAW,EACX+lB,QAAS,GACTpX,eAAgB,GAChBI,aAAc,IAEZzI,EAASD,GAAgBpP,EAAO8L,cAAc3a,KAAI,SAAA0d,GAAK,OAAIA,EAAMjI,UAYvE,OAVIyM,EAAWyE,aAAa+V,GAAGxe,EAAO3B,cAClCpP,EAAOyK,WAAY,EACnBzK,EAAOwZ,aAAevlB,EAAM,sDAG5B8gB,EAAWyE,aAAarE,GAAGpE,EAAO1B,cAClCrP,EAAOyK,WAAY,EACnBzK,EAAOwZ,aAAevlB,EAAM,sDAGzB+L,EF2BQ23B,CAAyB5iB,EAAYrT,GAEpD,OACI,kCACI,iCACI,4BACKzN,EAAM,+BAAgC,CACnCgU,UAAWvG,EAAOgD,gBAAgBxF,gBAI1C,sBAAKtN,UAAWC,KAAEgjC,aAAlB,UACI,cAAC3gB,GAAD,CACIlhB,MAAM,GACNmhB,eAzCpB,WACIa,EAAc,2BACPD,GADM,IAETsf,wBAAyBF,EAAU5yB,iBACnC6X,eAAgB+a,EAAU56B,YAsCd4Z,cAAe,aACf1gB,MAAOsiB,EAAWsf,wBAClBhkB,OAAQ,CAAC8jB,GACTjhB,cAAeihB,EACf9gB,cAtCpB,SAA+B5gB,GAC3B,IAAMmlC,EAAcnlC,GAAS,IAE7BuiB,EAAc,2BACPD,GADM,IAETqE,eAAgBrhB,KAAQiH,MAAMsW,QAAQsiB,EAAazD,EAAUx7B,UAC7D07B,wBAAyBuD,MAiCbrkB,YAAY,SAEhB,cAAC,GAAD,CAAO3b,MAAOoI,EAAOoZ,oBAGzB,sBAAKxnB,UAAWC,KAAEgjC,aAAlB,UACI,sBAAKjjC,UAAWC,KAAEkf,OAAlB,UACI,+BAAO9c,EAAM,oCAAqC,CAAEyE,OAAQqY,EAAO3B,WAAWjB,eAC9E,+BAAOla,EAAM,oCAAqC,CAAEyE,OAAQqY,EAAO1B,WAAWlB,kBAElF,cAACopB,GAAD,CACIvhC,KAAK,SACLhD,MAAOiB,EAAM,uCACbxB,MAAOsiB,EAAWyE,aAAarL,WAC/B6F,SA3CpB,SAAkCvhB,GACzBA,GAELuiB,EAAc,2BACPD,GADM,IAETyE,aAAc,IAAItjB,IAAIzD,OAuCV6vB,WAAYtiB,EAAOwZ,aACnB5hB,QAASoI,EAAOwZ,kBAIxB,cAAC,EAAD,CACI5nB,UAAWC,KAAEqZ,cACbzL,UAAWO,EAAOyK,UAClB1X,QAAS,kBAAM0hB,EAASM,IAH5B,SAKK9gB,EAAM,yCG/FZ,SAAS4jC,KACpB,IAAMn2B,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvD1R,EAAWO,cAEX2M,EAAejZ,uBAAY,SAACqR,GACzB/M,GACLyH,E7E0ID,SAAgCzH,EAAyB+M,GAC5D,8CAAO,WAAOtF,GAAP,SAAA1S,EAAA,sEACG4iB,GAAiB3X,EAAQ+M,GAD5B,2CAAP,sD6E3IaqpB,CAAuBp2B,EAAQ+M,MACzC,CAACtF,EAAUzH,IAEd,OAAKA,EAGD,cAAC81B,GAAD,CACI91B,OAAQA,EACR+S,SAAU4B,IALE,K,wBCAT,SAAS0hB,GAAT,GAGJ,IAFP73B,EAEM,EAFNA,aAEM,IADNtO,iBACM,MADM,GACN,EACN,OACI,0BAASA,UAAWW,IAAWV,KAAEW,KAAMZ,GAAvC,UACI,wBAAQA,UAAWC,KAAEy6B,OAArB,SACKr4B,EAAM,wBAEX,qBAAKrC,UAAWC,KAAEmmC,aAAlB,SACI,wBAAOpmC,UAAWC,KAAEqhC,MAApB,UACI,uBAAOthC,UAAWC,KAAEomC,UAApB,SACI,qBAAIrmC,UAAWC,KAAEqmC,aAAjB,UACI,6BAAKjkC,EAAM,+BACX,6BAAKA,EAAM,+BACX,6BAAKA,EAAM,yCAGnB,gCAIKiM,EAAarN,KAAI,SAACyZ,GACf,IAAMhZ,EAAO,CACT6rB,SAAUhV,GAAW0Q,aAAavO,EAAK1K,UACvCrF,MAAO,CACH6iB,WAAW,IAInB,OACI,qBAAIxtB,UAAWC,KAAEsmC,SAAjB,UACI,oBAAIvmC,UAAWC,KAAE4P,kBAAjB,SACI,cAAC,IAAD,CAAM/C,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACK4I,EAAK7K,sBAGd,6BACI,eAAC,IAAD,CAAM/C,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,UACKjL,GAAsB6T,EAAK9H,YAAa8H,EAAK5H,gBAAgB/L,UADlE,IAC8E2T,EAAK5H,gBAAgB1K,YAGvG,6BACI,cAAC,IAAD,CAAM0E,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,UACK4I,EAAKtW,KAA4B/B,EAAM,qCAbpD,UAAmCqY,EAAK1K,SAAxC,YAAoD0K,EAAKtW,oBCrC1E,SAASoiC,GAAT,GAEJ,IADPxmC,EACM,EADNA,UAEMuX,EAAWO,cACXxJ,EAAe4J,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQuC,gBAMpE,OAJAtF,qBAAU,WACNuO,EtJAJ,uCAAO,WAAOA,GAAP,eAAA1S,EAAA,sEAEC0S,EAASrI,IAAkB,IAF5B,SAG4BuE,KAH5B,OAGOnF,EAHP,OAICiJ,EAASlI,GAAgBf,IACzBiJ,EAASrI,IAAkB,IAL5B,gDAQCqI,EAASrI,IAAkB,IAC3BnJ,QAAQC,MAAM,sBAAd,MATD,yDAAP,yDsJCG,IAGC,cAACmgC,GAAD,CAAsB73B,aAAcA,EAActO,UAAWA,I,wBCNtD,SAASymC,GAAT,GAGU,IAFrBt4B,EAEoB,EAFpBA,WACAnO,EACoB,EADpBA,UAEA,OACI,0BAASA,UAAWW,IAAWV,KAAEW,KAAMZ,GAAvC,UACI,wBAAQA,UAAWC,KAAEy6B,OAArB,SACKr4B,EAAM,sBAEX,qBAAKrC,UAAWC,KAAEmmC,aAAlB,SAEI,wBAAOpmC,UAAWC,KAAEqhC,MAApB,UACI,uBAAOthC,UAAWC,KAAEomC,UAApB,SACI,qBAAIrmC,UAAWC,KAAEqmC,aAAjB,UACI,6BAAKjkC,EAAM,6BACX,6BAAKA,EAAM,8BACX,6BAAKA,EAAM,sCAGnB,gCACK8L,EAAWlN,KAAI,SAACwgC,GACb,IAAM//B,EAAO,CACT6rB,SAAUhV,GAAW0Q,aAAawY,EAAUzxB,UAC5CrF,MAAO,CACH6iB,WAAW,IAInB,OACI,qBAAIxtB,UAAWC,KAAEsmC,SAAjB,UACI,oBAAIvmC,UAAWC,KAAE8P,YAAjB,SACI,cAAC,IAAD,CAAMjD,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACK2vB,EAAU5xB,sBAGnB,6BACI,cAAC,IAAD,CAAM/C,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACKjL,GAAsB46B,EAAU95B,QAAS85B,EAAUtxB,6BAG5D,6BACI,cAAC,IAAD,CAAMrD,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACKjL,GAAsB46B,EAAU7xB,KAAM6xB,EAAUtxB,+BAb7D,UAAmCsxB,EAAUzxB,SAA7C,YAAyDyxB,EAAUvxB,yBCpCpF,SAASw2B,GAAT,GAEJ,IADP1mC,EACM,EADNA,UAEMmO,EAAa+J,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQoC,cAElE,OAAO,cAACs4B,GAAD,CAAoBt4B,WAAYA,EAAYnO,UAAWA,I,wBCInD,SAAS2mC,GAAT,GAGJ,IAFPt4B,EAEM,EAFNA,SAEM,IADNrO,iBACM,MADM,GACN,EACN,OACI,0BAASA,UAAWW,IAAWV,KAAEW,KAAMZ,GAAvC,UACI,wBAAQA,UAAWC,KAAEy6B,OAArB,SACKr4B,EAAM,wBAEX,qBAAKrC,UAAWC,KAAEmmC,aAAlB,SACI,wBAAOpmC,UAAWC,KAAEqhC,MAApB,UACI,uBAAOthC,UAAWC,KAAEomC,UAApB,SACI,qBAAIrmC,UAAWC,KAAEqmC,aAAjB,UACI,6BAAKjkC,EAAM,+BACX,6BAAKA,EAAM,gCACX,6BAAKA,EAAM,gCACX,6BAAKA,EAAM,8BACX,6BAAKA,EAAM,8BACX,6BAAKA,EAAM,+BACX,6BAAKA,EAAM,oCAGnB,gCAEKgM,EAASvN,QAAO,SAAA6G,GAAO,OAAIA,EAAQqJ,YAAc,IAAI1M,IAAIqD,EAAQA,SAAS4b,G9K/BxE,S8K+ByFtiB,KAAI,SAACyZ,GAAU,IAAD,EAChGhZ,EAAO,CACT6rB,SAAUhV,GAAW0Q,aAAavO,EAAK1K,UACvCrF,MAAO,CACH6iB,WAAW,IAIb0O,EAAe,IAAI53B,IAAIoW,EAAKvJ,OAAOhK,IAAIuT,EAAK/S,SAC5Ci/B,EAAelsB,EAAK9I,gBAAkB/K,GAAsB6T,EAAK9I,gBAAgB8I,EAAKxK,WAAYwK,EAAKhL,wBAAwB3I,UAAY2T,EAAKpJ,aAChJwqB,EAAmBI,EAAa3Y,GAAG,KAAO,IAAIjf,IAAIsiC,GAAc7K,MAAMG,GAAc/0B,IAAI+0B,GAAc50B,IAAI,KAAK2e,MAAM,GAAK,IAAI3hB,IAAI,KAElIuiC,EAAsBlmC,IAAWV,KAAE6R,MAAH,mBACjC7R,KAAE6mC,YAAchL,EAAiBvY,GAAG,MADH,cAEjCtjB,KAAE8mC,UAAYjL,EAAiB6B,GAAG,MAFD,IAKtC,OACI,qBAAI39B,UAAWC,KAAEsmC,SAAjB,UACI,oBAAIvmC,UAAWC,KAAE4P,kBAAjB,SACI,cAAC,IAAD,CAAM/C,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACK4I,EAAK7K,sBAGd,6BACI,cAAC,IAAD,CAAM/C,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACK4I,EAAK1J,eAGd,6BACI,cAAC,IAAD,CAAMlE,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACKjL,GAAsB6T,EAAK/S,QAAS+S,EAAKhL,wBAAwB3I,cAG1E,6BACI,cAAC,IAAD,CAAM+F,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,mBACQoqB,EAAajW,MAAM,GAAG1J,WAD9B,YAC4C7B,EAAKhL,wBAAwBtH,YAG7E,6BACI,eAAC,IAAD,CAAM0E,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,UACKjL,GAAsB6T,EAAKvJ,MAAOuJ,EAAKhL,wBAAwB3I,UADpE,IACgF2T,EAAKhL,wBAAwBtH,YAGjH,6BACI,cAAC,IAAD,CAAM0E,GAAIpL,EAAM1B,UAAW6mC,EAA3B,mBACQ/K,EAAiBvf,WADzB,SAIJ,6BACI,cAAC,IAAD,CAAMzP,GAAIpL,EAAM1B,UAAWC,KAAE6R,KAA7B,SACK4I,EAAKrJ,mBAjClB,UAAmCqJ,EAAK1K,SAAxC,YAAoD0K,EAAKxK,yBCnD1E,SAAS82B,GAAT,GAEJ,IADPhnC,EACM,EADNA,UAEMqO,EAAW6J,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQsC,YAEhE,OACI,cAACs4B,GAAD,CAAsBt4B,SAAUA,EAAUrO,UAAWA,I,yBCHtD,IAAMuY,GAAa,CACtB3X,KAAM,iBAAM,KACZ4X,QAAS,iBAAM,YACf0X,UAAW,iBAAM,cACjBwD,QAAS,iBAAM,YACfzK,aAAc,eAACjZ,EAAD,uDAAY,YAAZ,yBAAwCA,KAG7Ci3B,GAAuB,CAChC,CACIC,UCcO,WACX,IAAM3vB,EAAWO,cACX/L,EAAUmM,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQA,WACzD+D,EAASoI,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOmZ,gBACvDwY,EAAYvpB,aAAY,SAACC,GAAD,OAAqBA,EAAMrI,OAAOsZ,oBACxDpZ,EAAam3B,cAAbn3B,UCpCG,SAAmBo3B,EAAoB1uB,GAClD,IAAMmmB,EAASsI,cACT77B,EAAmBN,KAEzBhC,qBAAU,WACN,GAAK0P,EAAL,CAGAvO,OAAOk9B,cAAgB,WAEnBryB,KAAK0Q,KAAK4hB,IAAMn9B,OAAOilB,SAAS1tB,KAGhCsT,KAAK0Q,KAAK0hB,WAAaG,qCAA2C1I,EAAOuI,GAAc,KAGvFpyB,KAAK0Q,KAAKhN,MAAQA,GAGtB,IAEI8uB,OAAOC,MAAM,CACTC,QAAQ,EAERC,OAAQx9B,OAAOk9B,gBAErB,MAAOrhC,QAEV,CAAC64B,EAAQuI,EAAY1uB,EAAOpN,IDS/Bs8B,CAAU,WAAD,OAAa93B,QAAb,IAAaA,OAAb,EAAaA,EAAQC,aAE9B,IAAM83B,EAA2D,OAAhC,OAAN/3B,QAAM,IAANA,OAAA,EAAAA,EAAQ2K,cAAcqB,aAC3CgsB,KAAkB,OAANh4B,QAAM,IAANA,OAAA,EAAAA,EAAQyL,iBAAiBzL,EAAOyL,gBAAkB,IAAIjL,KAClEy3B,EAAYvpB,IAA6B,OAAN1O,QAAM,IAANA,OAAA,EAAAA,EAAQ8L,gBAAiB,IAUlE,OARA5S,qBAAU,WrFxBP,IAAoB3H,EqF2BnB,OAFAkW,GrFzBmBlW,EqFyBC2O,ErFxBxB,uCAAO,WAAOuH,EAAoBkoB,GAA3B,yBAAA56B,EAAA,sEAEOsT,EAAQsnB,IACdloB,EAASiR,IAAiB,IAC1BjR,EAASyR,QAAgBhmB,IACzBuU,EAAS4R,QAA0BnmB,IACnCuU,EAAS8R,GAAsB,KANhC,SAQsBzL,GAAcvc,GARpC,UAQOyO,EARP,+BAWKyH,EAAS8Q,GAAgB,CAAC,2BAX/B,gCAeOtc,EAAUoM,EAAMpM,QAAQA,SAf/B,wBAkBWi8B,EAAsBt0B,GAAgBrS,EAAI0K,EAAQtE,WAlB7D,UAmByBmN,GAAiC7I,EAAQtE,UAAWpG,GAnB7E,eAmBWsd,EAnBX,iBAoBgCqpB,EApBhC,QAoBW15B,EApBX,OAsBKiJ,EAAS8R,GAAsB/a,IAE3BqQ,GACApH,EAAS4R,GAA0BxK,IAzB5C,QA6BCpH,EAASyR,GAAgBlZ,IACzByH,EAASiR,IAAiB,IA9B3B,kDAgCCjR,EAASiR,IAAiB,IAC1BziB,QAAQC,MAAM,eAAd,MAjCD,0DAAP,0DqF0BW,WACHuR,EAASyR,QAAgBhmB,OAE9B,CAACuU,EAAUvH,IAGV,eAACkV,GAAD,CAAMC,eAAa,EAACE,KAAK,eAAerlB,UAAWC,KAAEW,KAArD,UACI,cAACwvB,GAAA,EAAD,UACI,gCACK/tB,EAAM,oBAAqB,CACxBguB,QAAShuB,EAAM,kBACf0N,aAAmB,OAAND,QAAM,IAANA,OAAA,EAAAA,EAAQC,cAAe,SAIhD,cAACokB,GAAD,IACA,sBAAKn0B,UAAWC,KAAEgoC,QAAlB,UACI,sBAAKjoC,UAAWC,KAAEioC,YAAlB,UACI,cAAC/N,GAAD,CAA2Bn6B,UAAWC,KAAEkoC,QACxC,cAAC,GAAD,OAEJ,sBAAKnoC,UAAWC,KAAEmoC,eAAlB,WACY,OAAPr8B,QAAO,IAAPA,OAAA,EAAAA,EAASoH,YAAc,cAACuxB,GAAD,IACxB,cAAChF,GAAD,UACI,cAACC,GAAD,CACIx/B,MAAO,CAAC,CACJigC,QAAS,cAACZ,GAAD,GAA2B,gBACpCp+B,MAAOiB,EAAM,qBACbrB,KAAkB,OAAZ+K,IAA0C,KAAhB,OAAN+D,QAAM,IAANA,OAAA,EAAAA,EAAQY,aAAwBo3B,GAAaD,GAAsB97B,EAAQoH,UACrG9R,GAAI,KACL,CACC++B,QAAS,cAACc,GAAD,GAAgC,aACzC9/B,MAAOiB,EAAM,0BACbrB,KAAkB,OAAZ+K,IAA0C,KAAhB,OAAN+D,QAAM,IAANA,OAAA,EAAAA,EAAQY,aAAwBo3B,GAAaD,GAAsB97B,EAAQoH,UACrG9R,GAAI,KACL,CACC++B,QAAS,cAAC+B,GAAD,GAA4B,iBACrC/gC,MAAOiB,EAAM,8BACbrB,KAAkB,OAAZ+K,IAA0C,KAAhB,OAAN+D,QAAM,IAANA,OAAA,EAAAA,EAAQY,YAAsB3E,EAAQoH,UAChE9R,GAAI,KACL,CACC++B,QAAS,cAACqD,GAAD,GAAuB,YAChCriC,MAAOiB,EAAM,yBACbrB,KAAkB,OAAZ+K,IAA0B,OAAN+D,QAAM,IAANA,OAAA,EAAAA,EAAQ1L,QAASqV,GAAWoB,SAAgC,KAAhB,OAAN/K,QAAM,IAANA,OAAA,EAAAA,EAAQY,aAAwBo3B,IAAcD,GAAsB97B,EAAQoH,UAC5I9R,GAAI,KACL,CACC++B,QAAS,cAACuD,GAAD,GAAkB,gBAC3BviC,MAAOiB,EAAM,6BACbrB,MAA4B,KAAhB,OAAN8O,QAAM,IAANA,OAAA,EAAAA,EAAQY,YAAuBo3B,EACrCzmC,GAAI,KACL,CACC++B,QAAS,cAAC+D,GAAD,GAAuB,YAChC/iC,MAAOiB,EAAM,yBACbrB,KAAkB,OAAZ+K,GAAoB87B,KAAwBpG,IAAcqG,GAAa/7B,EAAQoH,UACrF9R,GAAI,KACL,CACC++B,QAAS,cAACkE,GAAD,GAA0B,eACnCljC,MAAOiB,EAAM,4BACbrB,KAAkB,OAAZ+K,EACN1K,GAAI,KACL,CACC++B,QAAS,cAACiF,GAAD,GAAqB,UAC9BjkC,MAAOiB,EAAM,uBACbrB,KAAkB,OAAZ+K,GAAoB87B,IAA4C,KAAhB,OAAN/3B,QAAM,IAANA,OAAA,EAAAA,EAAQY,YAAuBq3B,GAAah8B,EAAQoH,UACpG9R,GAAI,KACL,CACC++B,QAAS,cAAC6F,GAAD,GAA+B,cACxC7kC,MAAOiB,EAAM,yBACbrB,KAAkB,OAAZ+K,IAA0B,OAAN+D,QAAM,IAANA,OAAA,EAAAA,EAAQ1L,QAASqV,GAAWoB,SAAgC,KAAhB,OAAN/K,QAAM,IAANA,OAAA,EAAAA,EAAQY,aAAwBo3B,IAAcD,EAC9GxmC,GAAI,KACL,CACC++B,QAAS,cAACsF,GAAD,GAAwB,kBACjCtkC,MAAOiB,EAAM,+BACbrB,KAAkB,OAAZ+K,IAAqBA,EAAQoH,UACnC9R,GAAI,gBAMxB,sBAAKrB,UAAWC,KAAEooC,SAAlB,UACI,6BAAKhmC,EAAM,qBACX,qBAAKhB,GAAG,yBD9GhBinC,OAAO,EACPC,cAAc,EACdjmC,IAAK,SACLlB,MAAO,SACPonC,KAAMjwB,GAAW0Q,gBAErB,CACIie,UGjBO,WACX,IAAM3vB,EAAWO,cACX/L,EAAUmM,aAAY,SAACC,GAAD,OAAqBA,EAAMpM,QAAQA,WAO/D,OALA/C,qBAAU,W9JoDP,IAAgCvB,E8JnD1BsE,GACLwL,G9JkD+B9P,E8JlDCsE,EAAQtE,U9JmD5C,uCAAO,WAAO8P,GAAP,eAAA1S,EAAA,sEAEC0S,EAASpI,IAA2B,IAFrC,SAGmC0E,GAAuBpM,GAH1D,OAGOghC,EAHP,OAIClxB,EAAStI,GAAqBw5B,EAAoBt6B,aAClDoJ,EAASnI,GAAmBq5B,EAAoBj0B,iBAChD+C,EAASpI,IAA2B,IANrC,kDAQCoI,EAASpI,IAA2B,IACpCpJ,QAAQC,MAAM,4BAAd,MATD,0DAAP,0D8JlDG,CAACuR,EAAUxL,IAGV,eAACmZ,GAAD,CAAMllB,UAAWC,KAAEW,KAAM0kB,cAAerlB,KAAEyoC,SAAUrjB,KAAK,QAAzD,UACI,cAAC2hB,GAAD,CAA+BhnC,UAAWC,KAAEqa,eAC5C,cAACosB,GAAD,CAA6B1mC,UAAWC,KAAE0oC,aAC1C,cAAC,GAAD,CAAyB3oC,UAAWC,KAAE0oC,iBHK1CL,OAAO,EACPC,cAAc,EACdjmC,IAAK,OACLlB,MAAO,OACPonC,KAAMjwB,GAAWC,WAErB,CACI0uB,UIlBO,WACX,IAAM0B,EAAgBC,YAAc,uBAC9B9wB,EAAUC,cACVoX,EAAWC,cAEXjvB,EAAaoL,uBAAY,SAAC1G,GAC5BiT,EAAQpF,KAAK7N,EAAKzD,MACnB,CAAC0W,IAEJ,OACI,eAACmN,GAAD,CAAMllB,UAAWC,KAAE6oC,SAAUxjB,cAAerlB,KAAE8oC,aAAc1jB,KAAK,QAAQF,eAAa,EAAtF,UACI,cAACplB,EAAD,IACA,cAACuzB,GAAD,IACA,cAACpzB,EAAD,CACIF,UAAWC,KAAE+oC,OACb3oC,SAAU+uB,EAAS7B,SACnBntB,WAAYA,EACZE,QAASsoC,EAAgB,WAAa,YACtCzoC,MAAO,CAAC,CACJkB,GAAIkX,GAAW3X,OACfQ,MAAOiB,EAAM,wBACbrB,MAAM,GACP,CACCK,GAAIkX,GAAWmb,UACftyB,MAAOiB,EAAM,yBACbrB,MAAM,GACP,CACCK,GAAIkX,GAAW2X,YACf9uB,MAAOiB,EAAM,0BACbrB,MAAM,MAGd,cAAC6xB,GAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOyV,OAAK,EAACE,KAAMjwB,GAAW3X,OAAQsmC,UAAW1W,KACjD,cAAC,IAAD,CAAO8X,OAAK,EAACE,KAAMjwB,GAAW2X,YAAagX,UAAW/W,KACtD,cAAC,IAAD,CAAOmY,OAAK,EAACE,KAAMjwB,GAAWmb,UAAWwT,UAAWvT,YJjB5D2U,OAAO,EACPC,cAAc,EACdjmC,IAAK,OACLlB,MAAO,OACPonC,KAAMjwB,GAAW3X,SKjBVqoC,OApBf,WAaI,OAZgBjxB,cAERkxB,QAAO,SAACC,GAERh/B,QAAUA,OAAOi/B,MAEjBj/B,OAAOi/B,KAAK,SAAU7lC,eAA6B,CAC/C,UAAa4lC,EAAgB5b,SAAW4b,EAAgB1Z,YAMhE,cAAC,IAAD,UACKwX,GAAOhmC,KAAI,SAACooC,GAAD,OAAyB,wBAAC,IAAD,2BAAWA,GAAX,IAAkB/mC,IAAK+mC,EAAM/mC,a,6BCNxEgnC,GAAav7B,aAAY,CAC3BC,aAN4B,CAC5Bu7B,aAAa,EACbC,MAAO,IAKPthC,KAAM,QACNqG,SAAU,CACNk7B,cADM,SACQ9+B,EAAkB8D,GAC5B,OAAO,YAAC,eACD9D,GADP,IAEI++B,UAAWj7B,EAAOC,WAG1Bi7B,eAPM,SAOSh/B,EAAkB8D,GAC7B,OAAO,YAAC,eACD9D,GADP,IAEI4+B,YAAa96B,EAAOC,WAG5Bk7B,SAbM,SAaGj/B,EAAkB8D,GACvB,OAAO,YAAC,eACD9D,GADP,IAEI6+B,MAAO/6B,EAAOC,c,GAU1B46B,GAAW/5B,QAEA+5B,I,GALXG,c,GACAE,e,GACAC,SAGWN,GAAf,SC9BeO,8BAA0B,CACrC99B,WACAy9B,SACA15B,UACAsqB,gBACAhW,aCTE0lB,GAAiB,iBAAwD,eAAlCvmC,iqBAAYwmC,kBACnDC,+BAAoBC,2BAAgBC,OACpCD,2BAAgBC,O,WCDhB/xB,GDIS,WAAmG,IAA3EgyB,EAA0E,uDAApC,GACnEC,EAAWN,KACjB,OAAOO,uBAAY97B,GAAU47B,EAAgBC,GCNnCE,CAAe,IAC7BC,IAASC,OACL,cAAC,IAAD,CAAUryB,MAAOA,GAAjB,SACI,cAAC,IAAD,CAAYsyB,SAA8D,QAASC,SAAS,WAA5F,SACI,cAAC,IAAD,CAAyBt9B,MAAOu9B,IAAhC,SACI,cAACC,EAAA,EAAD,CAAgBC,aAAW,EAA3B,SACI,cAAC,GAAD,YAKhBhhC,SAASihC,eAAe,U,mBCvB5BjrC,EAAOC,QAAU,CAAC,KAAO,2BAA2B,QAAU,8BAA8B,MAAQ,4BAA4B,eAAiB,qCAAqC,WAAa,iCAAiC,YAAc,kCAAkC,OAAS,6BAA6B,mBAAqB,yCAAyC,6BAA6B,iDAAiD,uCAAuC,2DAA2D,uCAAuC,6D,mBCA/kBD,EAAOC,QAAU,CAAC,eAAe,kCAAkC,qBAAqB,wCAAwC,2BAA2B,8CAA8C,uBAAuB,0CAA0C,4BAA4B,+CAA+C,2BAA2B,8CAA8C,sBAAsB,yCAAyC,MAAQ,2BAA2B,sBAAsB,yCAAyC,YAAc,iCAAiC,iBAAmB,sCAAsC,mBAAqB,0C,mBCA5rBD,EAAOC,QAAU,CAAC,KAAO,mCAAmC,OAAS,qCAAqC,aAAe,2CAA2C,MAAQ,oCAAoC,aAAe,2CAA2C,SAAW,uCAAuC,KAAO,mCAAmC,YAAc,0CAA0C,UAAY,wCAAwC,kBAAoB,kD,mBCAteD,EAAOC,QAAU,CAAC,KAAO,iCAAiC,OAAS,mCAAmC,aAAe,yCAAyC,MAAQ,kCAAkC,aAAe,yCAAyC,SAAW,qCAAqC,KAAO,iCAAiC,YAAc,0C,mBCAtWD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,YAAc,0BAA0B,WAAa,yBAAyB,kBAAoB,gCAAgC,WAAa,yBAAyB,kBAAkB,8BAA8B,aAAe,2BAA2B,YAAc,0BAA0B,QAAU,wB,mBCAhWD,EAAOC,QAAU,CAAC,iBAAiB,sCAAsC,2BAA2B,gDAAgD,0BAA0B,+CAA+C,yBAAyB,8CAA8C,wBAAwB,6CAA6C,6BAA6B,kDAAkD,6BAA6B,kDAAkD,gCAAgC,uD,mBCAviBD,EAAOC,QAAU,CAAC,MAAQ,sCAAsC,mBAAmB,iDAAiD,iBAAiB,+CAA+C,mBAAmB,iDAAiD,QAAU,wCAAwC,wBAAwB,sDAAsD,WAAa,2CAA2C,UAAY,4C,mBCA5cD,EAAOC,QAAU,CAAC,KAAO,6BAA6B,QAAU,gCAAgC,OAAS,+BAA+B,OAAS,+BAA+B,QAAU,gCAAgC,SAAW,oC","file":"static/js/main.b372c7c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Footer_root__2znoy\",\"wrapper\":\"Footer_wrapper__1UYZo\",\"logo\":\"Footer_logo__1GRAA\",\"social\":\"Footer_social__2FqgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Tag_root__1xt2a\",\"root--active\":\"Tag_root--active__2Slzj\",\"icon\":\"Tag_icon__WN_Jd\",\"title\":\"Tag_title__3v0LT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overview\":\"Overview_overview__1wKTJ\",\"overview__container\":\"Overview_overview__container__WlsJY\",\"overview__info-row\":\"Overview_overview__info-row__rgR2G\",\"overview__info-key\":\"Overview_overview__info-key__2rp5i\",\"header\":\"Overview_header__1pgz6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-swapper\":\"TokenSwapper_token-swapper__2wj13\",\"token-swapper__confirm\":\"TokenSwapper_token-swapper__confirm__2yAvV\",\"token-swapper__switch-tokens\":\"TokenSwapper_token-swapper__switch-tokens__3Ltrn\",\"tokenHeader\":\"TokenSwapper_tokenHeader__3G1KB\",\"balanceButton\":\"TokenSwapper_balanceButton__WXZ3p\",\"noMargin\":\"TokenSwapper_noMargin__RYFwE\",\"receiveInputs\":\"TokenSwapper_receiveInputs__2Klgk\",\"newEstimateWrapper\":\"TokenSwapper_newEstimateWrapper__gRNwf\",\"newEstimateText\":\"TokenSwapper_newEstimateText__3KqTG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketPage_root__3LPOC\",\"details\":\"MarketPage_details__3pbkK\",\"infoWrapper\":\"MarketPage_infoWrapper__1ZdyC\",\"actionsWrapper\":\"MarketPage_actionsWrapper__JWwEw\",\"stats\":\"MarketPage_stats__arHt3\",\"comments\":\"MarketPage_comments__2mb0X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paper\":\"Dialog_paper__XrzDE\",\"title\":\"Dialog_title__2o5jO\",\"content\":\"Dialog_content__2Ebv9\",\"cancelButton\":\"Dialog_cancelButton__3SRaV\",\"confirmButton\":\"Dialog_confirmButton__OGdmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchTokens\":\"WrapNearDialog_switchTokens__13uxY\",\"token\":\"WrapNearDialog_token__1hQbG\",\"balanceButton\":\"WrapNearDialog_balanceButton__3xppy\",\"tokenHeader\":\"WrapNearDialog_tokenHeader__1_FD4\",\"noMargin\":\"WrapNearDialog_noMargin__ZuD-o\",\"depositButtons\":\"WrapNearDialog_depositButtons__3PdKY\",\"depositCancelButton\":\"WrapNearDialog_depositCancelButton__15brw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketInfoCard_root__2FEW4\",\"title\":\"MarketInfoCard_title__2n1-R\",\"bubble\":\"MarketInfoCard_bubble__1odeX\",\"resolutionInfo\":\"MarketInfoCard_resolutionInfo__3OcCd\",\"categoryTitle\":\"MarketInfoCard_categoryTitle__3uYSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addMoreButton\":\"AddableInputs_addMoreButton__2k3JV\",\"input\":\"AddableInputs_input__2fSt_\",\"inputs\":\"AddableInputs_inputs__3gwjp\",\"actions\":\"AddableInputs_actions__14mC0\",\"removeIcon\":\"AddableInputs_removeIcon__3xKav\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ProfilePage_root__2aAdj\",\"pageBody\":\"ProfilePage_pageBody__3-nCN\",\"userBalances\":\"ProfilePage_userBalances__2nnA0\",\"feesEarned\":\"ProfilePage_feesEarned__1UCF4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__1vav1\",\"page__body\":\"Page_page__body__3V8v2\",\"page__body--large\":\"Page_page__body--large__27pTP\",\"page__body--unrestricted\":\"Page_page__body--unrestricted__3wRih\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ScalarOpinionCard_title__1s6iD\",\"rangeWrapper\":\"ScalarOpinionCard_rangeWrapper__1_joP\",\"estimateWrapper\":\"ScalarOpinionCard_estimateWrapper__3Vqje\",\"volumeWrapper\":\"ScalarOpinionCard_volumeWrapper__1fSmc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HomeHeader_root__2i5k9\",\"titleWrapper\":\"HomeHeader_titleWrapper__3rfhA\",\"title\":\"HomeHeader_title__3isjk\",\"subTitle\":\"HomeHeader_subTitle__3F-zR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skeleton\":\"TokenSwapperLoader_skeleton__19zxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"SeedPool_inputWrapper__1iNWT\",\"confirmButton\":\"SeedPool_confirmButton__2E-cv\",\"adornement\":\"SeedPool_adornement__2s7XG\",\"tokenTitles\":\"SeedPool_tokenTitles__12Whr\",\"balanceButton\":\"SeedPool_balanceButton__3R1WM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"SeedScalarMarket_inputWrapper__1tGFj\",\"tokenTitles\":\"SeedScalarMarket_tokenTitles__1aCdd\",\"balanceButton\":\"SeedScalarMarket_balanceButton__skdSy\",\"bounds\":\"SeedScalarMarket_bounds__1ZJ5Z\",\"confirmButton\":\"SeedScalarMarket_confirmButton__1ZOMm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TabBar_root__djI5v\",\"tab\":\"TabBar_tab__1berB\",\"indicator\":\"TabBar_indicator__2t7kc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Lf63\",\"button--text\":\"Button_button--text__1fOOx\",\"button--outlined\":\"Button_button--outlined__1yYVj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DarkmodeButton_root__2Vz6z\",\"icon\":\"DarkmodeButton_icon__2I4vN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tokenHeader\":\"LabeledTokenSelect_tokenHeader__1xCbR\",\"balanceButton\":\"LabeledTokenSelect_balanceButton__1RE2w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DisclaimerDialog_dialog__3rljq\",\"description\":\"DisclaimerDialog_description__3rCL0\",\"button\":\"DisclaimerDialog_button__Hmpr6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"HomePage_homePage__1J6Li\",\"homePageBody\":\"HomePage_homePageBody__1soNb\",\"tabBar\":\"HomePage_tabBar__1DeXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketHeaderLoader_root__2LBTq\",\"wrapper\":\"MarketHeaderLoader_wrapper__1Gjam\",\"skeleton\":\"MarketHeaderLoader_skeleton__o_qZI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"TabbedViews_tabs__OJlbM\",\"tab\":\"TabbedViews_tab__38YT2\",\"view\":\"TabbedViews_view__1X6gU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionsCard\":\"NoWrappedNearCard_actionsCard__3xs2D\",\"content\":\"NoWrappedNearCard_content__Zs4xS\",\"icon\":\"NoWrappedNearCard_icon__AH4oL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token\":\"Token_token__3WyPN\",\"tokenImage\":\"Token_tokenImage__2PzVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketCard_root__h9Hyf\",\"infoCard\":\"MarketCard_infoCard__1rzGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-weights-bar\":\"TokenWeightsBar_token-weights-bar__m-jIF\",\"token-weights-bar__weight\":\"TokenWeightsBar_token-weights-bar__weight__dLbBM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__JK0vz\",\"icon\":\"Select_icon__2tpm0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ToggleButtons_button__3I0Ud\",\"selected\":\"ToggleButtons_selected__DQend\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketResolutionInfo_root__2t0wL\",\"title\":\"MarketResolutionInfo_title__Sb4IU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timePeriodButtons\":\"MarketStatistics_timePeriodButtons__315vn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"LiquidityProvider_confirm__uAEJF\",\"tokenSelect\":\"LiquidityProvider_tokenSelect__145e7\",\"header\":\"LiquidityProvider_header__3s-_C\",\"balanceButton\":\"LiquidityProvider_balanceButton__2If4o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"ClaimEarnings_confirm__3mCYg\",\"claimable\":\"ClaimEarnings_claimable__2-bQN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"ExitPool_confirm__1B_mc\",\"tokenSelect\":\"ExitPool_tokenSelect__1Slsh\",\"header\":\"ExitPool_header__MxyTH\",\"balanceButton\":\"ExitPool_balanceButton__M8N-z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background-wave\":\"BackgroundWave_background-wave__2kjEj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"accountMenuButton\":\"AccountButton_accountMenuButton__KooJW\",\"iconButton\":\"AccountButton_iconButton__coipq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__T_9Pn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon-button\":\"IconButton_icon-button__2Mu5G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TextButton_root__1-4XU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"non-link-button\":\"NonLinkButton_non-link-button__1th1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketOpinionCard_root__388St\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DateTimePicker_root__2vHn-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Label_root__ppqno\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TextInput_root__1xHrc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skeleton\":\"MarketResolutionInfoLoader_skeleton__2_ygu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ActionCard_root__2bQ7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"FinalizedMarketOutcomes_table__1Sj0h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirmButton\":\"NotLoggedIn_confirmButton__11_az\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirmButton\":\"Redeem_confirmButton__7E_AB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"MarketCreationDialog_filters__1wQ7F\",\"filter\":\"MarketCreationDialog_filter__rL3p7\",\"inputsWrapper\":\"MarketCreationDialog_inputsWrapper__kSF9k\",\"categories\":\"MarketCreationDialog_categories__3I7_N\",\"label\":\"MarketCreationDialog_label__QojXy\",\"marketType\":\"MarketCreationDialog_marketType__3aOaA\",\"marketType--selected\":\"MarketCreationDialog_marketType--selected___aiij\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"UserBalancesOverview_root__3reWC\",\"header\":\"UserBalancesOverview_header__2kUYq\",\"tableWrapper\":\"UserBalancesOverview_tableWrapper__6m6ae\",\"table\":\"UserBalancesOverview_table__3DImk\",\"tableHeadRow\":\"UserBalancesOverview_tableHeadRow__3X1FY\",\"tableRow\":\"UserBalancesOverview_tableRow__2crSB\",\"link\":\"UserBalancesOverview_link__GWe9h\",\"link__green\":\"UserBalancesOverview_link__green__11rAR\",\"link__red\":\"UserBalancesOverview_link__red__d3m7m\",\"marketDescription\":\"UserBalancesOverview_marketDescription__2QGff\"};","import React from 'react';\n\nimport s from './BackgroundWave.module.scss';\n\nexport default function BackgroundWave() {\n    return (\n        <div className={s['background-wave']} />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport s from './TabBar.module.scss';\nexport interface TabBarItem {\n    id: string;\n    label: string;\n    show: boolean;\n}\n\ninterface Props {\n    items: TabBarItem[];\n    activeId: string;\n    onTabClick: (item: TabBarItem) => void;\n    className?: string;\n    tabClassName?: string;\n    variant?: 'standard' | 'scrollable' | 'fullWidth';\n}\n\nexport default function TabBar({\n    items,\n    onTabClick,\n    activeId,\n    variant = 'standard',\n    tabClassName = '',\n    className = '',\n}: Props): ReactElement {\n    return (\n        <Tabs\n            classes={{ indicator: s.indicator }}\n            className={classnames(s.root, className)}\n            variant={variant}\n            value={activeId}\n        >\n            {items.filter(tab => tab.show).map(tab => (\n                <Tab\n                    key={tab.id}\n                    onClick={() => onTabClick(tab)}\n                    className={classnames(s.tab, tabClassName)}\n                    label={tab.label}\n                    value={tab.id}\n                />\n            ))}\n        </Tabs>\n    );\n}\n","import React from 'react';\n\nimport twitterLogo from '../../assets/images/icons/twitter_logo.png';\nimport telegramLogo from '../../assets/images/icons/telegram_logo.png';\n\nimport s from './Footer.module.scss';\n\n\nexport default function Footer() {\n    return (\n        <footer className={s.root}>\n            <div className={s.wrapper}>\n                <div className={s.logo} />\n                <div className={s.socials}>\n                    <a href=\"https://twitter.com/fluxprotocol\" className={s.social} rel=\"noopener noreferrer\" target=\"_blank\" >\n                        <img src={twitterLogo} alt=\"Twitter page\" />\n                    </a>\n                    <a href=\"https://t.me/fluxprotocol\" className={s.social} rel=\"noopener noreferrer\" target=\"_blank\" >\n                        <img src={telegramLogo} alt=\"Telegram group\" />\n                    </a>\n                </div>\n            </div>\n        </footer>\n    );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIaADAAQAAAABAAAAIQAAAAA1iKI6AAADZklEQVRYCb2Xy04UQRSGGWQcGYloIhi84AUxJmp0Y6Iu1aUP4MKXcGGir+HKhRt3xsSFMTFx4QZd4i2aYBRDkHgXBC/IoDB+32S6MzNUTzfo8Cc/XVSdqvPXqdOna3Jty0C5XN6AeQ/0Waiyg+c8LME5OAW/5HI525mQS7PC8Rps+uF2qOOs+IbhGGI+p01IFIFzx7bBPXBt2kJNxmcYe4kYn0EERVR3f4AZvcFZy+8sM0UhE6GpS0QgYB2GR2BXaMI/9r1j/ghiFBWjPW7RQIBJ1ioButoKB23UIhZRzYGDDLYiArU++/FlrsWIRdCzA26OR1rb2I+QYuSiIqJ6DLujzlV4mot7Iz9RJHbRkY86V/h0LYuYeZUFvWy+W8MOGqqqO6PAClvo+xjot8tidgyehdp9grfga7izVCrdLxQKf2iHoN8ZVW+EaVE4j80IvAZr4e4PwUswqqabaF+A0/Du3NzcY0TYDqHHILiI34JmMFKG7Ry8CPtgBMWfhpGAqN851pvOfD7vNyUJzu82EmmvpIXlIRyAp+BROASH4SQMVVXnvIdXi8Vi2oesSxEqbgbP/BX0Q6RDk+9MlbM8HW+EIn7AZlGI5hQUkfZxWsTmJDR3GhG/6w0DzvkA68pzg030b8GckM3gQma7d4Ysi7rWAnxmIwPaFZAlZI+wuwK/ZFhUoeaKOZMFpawiXOw37IJp0XBTd2AWwZi1VUSYXFkwhNENaNZ75iEo9Am8HRpM6Js1EmnXL995E9i34CY0P0KvnRF4Ci/DrBszd6Zc3IupO1NQCB7BcbgPetsagMJjkZbkn/AevA5nYFZMcsFZ7ODPAqXT70JfwkwdjFbHv/Mch9YWd+65W84fQL8Vy4VH22aovVG56AmYFA3NIlgbLLdGwLCnJSomQUwTgGFHKk75xzOeCJou7dSxITdCKxXgqlbhCmp3PkaPpXY18IaNx7kTi6DT8JrdvmathHkUR0FHsQj/QcgvHr7nrRLi7p/jp+4YK4nJQB1I1E46DkNfz/8Ff3O8QMCSQhcUoVeEWEMGob8VEu0YS4NRHcX52yTD1MURs57JFqjepEUS+q2G49AkNN8SkSoimokYr3D+LumBXmwa7yGes6+6FdhPwVecKyQVmUU0roQok1ohHts8Dr1vrAh/AUkd3oiiffEOAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ0SURBVHgBvZg9bxNBEIbnLBegxIWLAIpEihilQSJFyvRQww+ghxblV0BNUvMDSE8PFSmIBBIFKYKUTymO5EROYcl537s5Z33au5217/JKc5vs7d08O/txs04kQuPxuItiCdaBPYQ9cG5fwYawC9hlkiQDMSoJNYDjNooVtbbYRaADwByHGiYBgKcoepHOfTD7VZFJSpwzzM9hXalPjMqBWCAUYEOyMa9bRwD5I1UQDQOUgrQKDdYbBqCW0dkV8UHgxqpkS+8+tAZ/nSkIHYZVuV+tiQvRAMAL2DvYTkWbrm5+k/X/SObXIuy1ZPNqXev+BZ7h3Oi3QbMks29GdMwovi1xfBJ4ntFo0/ksGxLDvQl7BVvQumvYZ63vad2vwHvov5NexCZfuHN9hX2DbTkAVGg4xAJBx+z1G49j6hT2UctPsMeF+/sS1iIhqubDjufFudj7L5J1wgdgiUKq0IT8IHdRcMd5W508U4AFz7Oh+TAFMZJymFN1SLGnXPs/FOAl7H0JgEhEJLhZDY1tCbSrzhmZrQqAGIgbQpjTMH3xE8kma5WuxA4xIMSl2MWXc6w3HahdTzvzUEB9QpxJnLgf9LTkxOUGlS/TWIg+cotRi5dIEDrYVsfXDhiB8hVh2R+oI17SzEq/ZhtSj3pii8QQAfjOP9JPOf7poziUemQdiknS2ypUWpfrvPrvnkcmEDo39iTbvJrUAL7+uhVTiS5u3qD42SAI96S9YmXV4afu1P8c9lsjHoZwQJg1Lct8olOevkonvuVAPOuRkM7p+NDX+yiIAgzzUSbFzCF8X17OqfSnAdhZyHk0hAcqT4jydGBkdVrULTvWsvR8Wy+OAAAAAElFTkSuQmCC\"","import React, { FormEvent, ReactElement, ReactNode } from 'react';\nimport classnames from 'classnames';\nimport { default as MuiButton } from '@material-ui/core/Button';\n\nimport s from './Button.module.scss';\n\ninterface ButtonProps {\n    children: ReactNode | string;\n    className?: string;\n    onClick?: (event: FormEvent<HTMLButtonElement>) => void;\n    variant?: \"text\" | \"outlined\" | \"contained\";\n    disabled?: boolean;\n    startIcon?: ReactElement;\n    endIcon?: ReactElement;\n};\n\nexport default function Button({\n    className = '',\n    children,\n    ...props\n}: ButtonProps) {\n    const classname = classnames(s.button, className, {\n        [s['button--text']]: props.variant === 'text',\n        [s['button--outlined']]: props.variant === 'outlined',\n    });\n\n    return (\n        <MuiButton {...props} className={classname}>{children}</MuiButton>\n    );\n}\n","import translations from './lang/translations.eng.json';\n\ninterface Attributes {\n    [key: string]: string;\n}\n\nfunction replaceAttributes(label: string, options: Attributes = {}): string {\n    // Replaces any \":key\" with a value in the options\n    return label.replace(/:(\\w+)/gi, (word) => {\n        const key = word.replace(/^:/, '');\n\n        if (options[key] === undefined || options[key] === null) {\n            return '';\n        }\n\n        return options[key];\n    });\n}\n\nexport function ucFirstLetter(text: string): string {\n    return text.charAt(0).toUpperCase() + text.substring(1);\n}\n\n\nexport default function trans(key: string, attributes?: Attributes, uppercaseFirstLetter?: boolean): string {\n    // @ts-ignore\n    const result: string = translations[key];\n\n    if (!result) {\n        return key;\n    }\n\n    const resultWithAttributes = replaceAttributes(result, attributes);\n    return uppercaseFirstLetter ? ucFirstLetter(resultWithAttributes) : resultWithAttributes;\n}\n\nexport function booleanToYesNo(bool = false): string {\n    return bool ? trans('global.yes') : trans('global.no');\n}\n","export enum FetchResultType {\n    Error = 'error',\n    Success = 'success',\n}\n\nexport interface SuccessfulFetchResult<T> {\n    status: number;\n    data: T;\n    type: FetchResultType.Success;\n}\n\nexport interface UnsuccessfulFetchResult<E> {\n    status: number;\n    error: E;\n    type: FetchResultType.Error;\n}\n\nexport type FetchResult<T, E> = SuccessfulFetchResult<T> | UnsuccessfulFetchResult<E>;\n\nexport function isFetchResultSuccesful<T, E>(result: FetchResult<T, E>): result is SuccessfulFetchResult<T> {\n    return result.type === FetchResultType.Success;\n}\n","import BN from 'bn.js';\nimport Big from 'big.js';\nexport const API_URL = process.env.REACT_APP_API_URL || '';\nexport const NULL_CONTRACT = process.env.REACT_APP_NULL_CONTRACT ?? 'null_contract.flux-dev';\nexport const COINGECKO_API_URL = process.env.REACT_APP_COINGECKO_API_URL || '';\nexport const PROTOCOL_ACCOUNT_ID = process.env.REACT_APP_PROTOCOL_ACCOUNT_ID || 'amm.flux-dev';\nexport const FUNGIBLE_TOKEN_ACCOUNT_ID = process.env.REACT_APP_FUNGIBLE_TOKEN_ACCOUNT_ID || 'ft.flux-dev';\nexport const WRAPPED_NEAR_ACCOUNT_ID = process.env.REACT_APP_WRAPPED_NEAR_ACCOUNT_ID || 'wrap.near';\nexport const BANANAS_NEAR_ACCOUNT_ID = process.env.REACT_APP_BANANAS_ACCOUNT_ID || 'berryclub.ek.near';\nexport const AUTH_ACCOUNT_ID = process.env.REACT_APP_AUTH_ACCOUNT_ID || '';\nexport const ENABLE_WHITELIST = process.env.REACT_APP_ENABLE_WHITELIST === 'true';\nexport const DUST_AMOUNT = 10000000000;\nexport const MAX_GAS = new BN(\"200000000000000\");\nexport const STORAGE_DEFAULT = new BN(\"300800000000000000000000\");\nexport const STORAGE_BASE = new BN('30000000000000000000000');\nexport const ZERO = new BN(\"0\");\nexport const BUY = \"BUY\";\nexport const SELL = \"SELL\";\nexport const DEFAULT_FEE = 2; // 2%\nexport const DEFAULT_SLIPPAGE = 2; // 2%\nexport const NODE_ENV = process.env.NODE_ENV;\nexport const NETWORK: 'testnet' | 'mainnet' | 'custom' = process.env.REACT_APP_NETWORK as any || 'testnet';\nexport const SCALAR_VALUE_DECIMALS = 2;\n\n\nexport const DEFAULT_LIMIT = 100;\n\nBig.PE = 1000000;\n","const cacheStorage = new Map<string, any>();\nconst creationPromises = new Map<string, Promise<any>>();\n\n/**\n * Caches an item by it's id and returns it if it's requested again.\n * If it does not exist it asks you to create the item\n *\n * @export\n * @template T\n * @param {string} id\n * @param {() => Promise<T>} createCallback\n * @return {Promise<T>}\n */\nexport default async function cache<T>(id: string, createCallback: () => Promise<T>): Promise<T> {\n    const item = cacheStorage.get(id);\n    if (item) return item;\n\n    // No need to create another item when the request is already going\n    // Instead we just redirect the promise back to this call\n    // Caching will be handled by the iniator\n    const onGoingRequest = creationPromises.get(id);\n    if (onGoingRequest) return onGoingRequest;\n\n    // Keep track of all ongoing promises\n    const createRequest = createCallback();\n    creationPromises.set(id, createRequest);\n\n    try {\n        const createdItem = await createRequest;\n        cacheStorage.set(id, createdItem);\n        return createdItem;\n    } catch (error) {\n        throw error;\n    } finally {\n        creationPromises.delete(id);\n    }\n}\n","import { COINGECKO_API_URL } from \"../config\";\nimport { FetchResult, FetchResultType } from \"../models/FetchResult\";\n\nexport async function getTokenPriceByTicker(ticker: string, currency = 'usd'): Promise<FetchResult<number, string>> {\n    try {\n        const response = await fetch(`${COINGECKO_API_URL}/coins/${ticker}?localization=false`);\n        const data = await response.json();\n\n        return {\n            type: FetchResultType.Success,\n            data: data.market_data.current_price[currency],\n            status: response.status,\n        }\n    } catch (error) {\n        console.error('[getCurrentMainTokenPrice]', error);\n\n        return {\n            type: FetchResultType.Error,\n            error,\n            status: 500,\n        }\n    }\n}\n\n\n","import {\n    Near,\n    WalletConnection,\n} from \"near-api-js\";\n\nimport FluxSdk from '@fluxprotocol/amm-sdk';\n\nimport { API_URL, NETWORK, NULL_CONTRACT, PROTOCOL_ACCOUNT_ID } from '../config';\n\nlet sdkInstance = new FluxSdk({\n    network: NETWORK,\n    protocolContractId: PROTOCOL_ACCOUNT_ID,\n    nullContractId: NULL_CONTRACT,\n    graphApiUrl: API_URL,\n});\n\nexport async function connectSdk(): Promise<FluxSdk> {\n    await sdkInstance.connect();\n    return sdkInstance;\n}\n\nexport async function connectNear(): Promise<Near> {\n    const sdk = await connectSdk();\n    return sdk.near!;\n}\n\nexport async function connectWallet(): Promise<WalletConnection> {\n    const sdk = await connectSdk();\n    return sdk.walletConnection!;\n}\n\n\n\n\n","export default __webpack_public_path__ + \"static/media/wrapped-near.8b3a5e4b.svg\";","export default __webpack_public_path__ + \"static/media/banana-token.1f4ead34.svg\";","// import { utils } from 'near-api-js';\nimport Big from 'big.js';\n\nimport { BANANAS_NEAR_ACCOUNT_ID, WRAPPED_NEAR_ACCOUNT_ID } from \"../config\";\nimport { isFetchResultSuccesful } from \"../models/FetchResult\";\nimport { TokenMetadata } from '../models/TokenMetadata';\nimport cache from '../utils/cache';\nimport { getTokenPriceByTicker } from \"./TokenPriceService\";\nimport { connectSdk } from \"./WalletService\";\nimport wrappedNearIcon from '../assets/images/icons/wrapped-near.svg';\nimport bananaTokenIcon from '../assets/images/icons/banana-token.svg';\n\nexport function formatCollateralToken(amount: string, decimals: number, dp = 2): string {\n    const denominator = new Big(10).pow(decimals);\n    return new Big(amount).div(denominator).toFixed(dp);\n}\n\nexport function toCollateralToken(amount: string, decimals: number): string {\n    const denominator = new Big(10).pow(decimals);\n    return new Big(amount).mul(denominator).toFixed(0);\n}\n\nexport interface AccountTokenBalance {\n    balance: string;\n    balanceFormatted: string;\n}\n\nexport async function getCollateralTokenBalance(tokenAccountId: string, accountId: string): Promise<string> {\n    try {\n        const sdk = await connectSdk();\n        const balance = await sdk.getTokenBalance(tokenAccountId, accountId);\n\n        return balance;\n    } catch (error) {\n        console.error('[getCollateralTokenBalance]', error);\n        return '0';\n    }\n}\n\nexport async function getCollateralTokenPrice(tokenAccountId: string): Promise<number> {\n    if (tokenAccountId === WRAPPED_NEAR_ACCOUNT_ID) {\n        const response = await getTokenPriceByTicker('near');\n\n        if (isFetchResultSuccesful(response)) {\n            return response.data;\n        }\n    }\n\n    return 0;\n}\n\nexport function getTokenImageByCollateralAccountId(collateralTokenId: string): string | undefined {\n    if (collateralTokenId === WRAPPED_NEAR_ACCOUNT_ID) {\n        return wrappedNearIcon;\n    } else if (collateralTokenId === BANANAS_NEAR_ACCOUNT_ID) {\n        return bananaTokenIcon;\n    }\n\n    return undefined;\n}\n\nexport function createDefaultTokenMetadata(collateralTokenId: string): TokenMetadata {\n    return {\n        decimals: 18,\n        name: collateralTokenId,\n        reference: '',\n        symbol: collateralTokenId,\n        version: '0',\n        collateralTokenId,\n        tokenImage: getTokenImageByCollateralAccountId(collateralTokenId),\n    };\n}\n\nexport async function getCollateralTokenMetadata(collateralTokenId: string): Promise<TokenMetadata> {\n    const defaultMetadata = createDefaultTokenMetadata(collateralTokenId);\n\n    try {\n        if (!collateralTokenId) return defaultMetadata;\n\n        const metadata = await cache(`metadata_${collateralTokenId}`, async () => {\n            const sdk = await connectSdk();\n            return sdk.getTokenMetadata(collateralTokenId);\n        });\n\n        return {\n            ...defaultMetadata,\n            ...metadata,\n            collateralTokenId,\n        };\n    } catch (error) {\n        console.error('[getCollateralTokenMetadata]', error);\n\n        return defaultMetadata;\n    }\n}\n","import { useEffect, useRef } from 'react';\n\ntype Delay = number | null;\ntype TimerHandler = (...args: any[]) => void;\n\nconst useInterval = (callback: TimerHandler, delay: Delay) => {\n    const savedCallbackRef = useRef<TimerHandler>();\n\n    useEffect(() => {\n        savedCallbackRef.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        const handler = (...args: any[]) => savedCallbackRef.current!(...args);\n\n        if (delay !== null) {\n            const intervalId = setInterval(handler, delay);\n            return () => clearInterval(intervalId);\n        }\n    }, [delay]);\n};\n\nexport default useInterval;\n","import { useState } from \"react\";\nimport useInterval from \"./hooks/useInterval\";\n\ninterface ThemePreference {\n    userPrefersDark: boolean;\n    userPrefersLight: boolean;\n    userHasPreference: boolean;\n}\n\nconst darkmodeStorageLabel = 'darkmode-active';\nconst themeAttribute = 'data-theme';\nconst nightStartHour = 20;\nconst nightEndHour = 6;\nlet modeChangeListener = () => {};\n\nconst userThemePreference = (): ThemePreference => {\n    const canDetectPreference = Boolean(window.matchMedia);\n    const userPrefersDark = canDetectPreference && window.matchMedia('(prefers-color-scheme: dark)').matches;\n    const userPrefersLight = canDetectPreference && window.matchMedia('(prefers-color-scheme: light)').matches;\n\n    return {\n        userHasPreference: userPrefersDark ?? userPrefersLight ?? false,\n        userPrefersDark: userPrefersDark ?? false,\n        userPrefersLight: userPrefersLight ?? false,\n    };\n};\n\nconst getStoredDarkmode = (): boolean => {\n    return localStorage.getItem(darkmodeStorageLabel) === 'true';\n};\n\nconst checkIfDarkmodeIsActive = (): boolean => {\n    const darkmodeInDocumentTheme = document.documentElement.getAttribute(themeAttribute) === 'dark';\n    const darkmodeInStorage = getStoredDarkmode();\n    const { userPrefersDark } = userThemePreference();\n\n    return darkmodeInDocumentTheme || darkmodeInStorage || false;\n};\n\nconst setDarkmode = (state: boolean): void => {\n    const darkmodeIsStored =  localStorage.getItem(darkmodeStorageLabel) !== null;\n    const storedDarkmodeSetting = getStoredDarkmode();\n\n    const shouldBeDarkmode = darkmodeIsStored ? storedDarkmodeSetting : state;\n    const siteTheme = shouldBeDarkmode ? 'dark' : 'default';\n\n    document.documentElement.setAttribute(themeAttribute, siteTheme);\n    modeChangeListener();\n};\n\nconst storeDarkmode = (state: boolean): void => {\n    localStorage.setItem(darkmodeStorageLabel, String(state));\n    setDarkmode(state);\n};\n\nconst checkForNight = (): void => {\n    const start = nightStartHour;\n    const end = nightEndHour;\n    const currentHour = new Date().getHours();\n\n    const isNight = end < start\n        ? currentHour >= start || currentHour < end\n        : currentHour >= start && currentHour < end;\n\n    setDarkmode(isNight);\n};\n\nconst applyDarkmodeAtNight = (): void => {\n    checkForNight();\n    setInterval(checkForNight, 1000 * 60);\n};\n\nconst initDarkmode = (): void => {\n    applyDarkmodeAtNight();\n};\n\nconst useDarkmode = (): boolean => {\n    const [active, setActive] = useState(false);\n\n    useInterval(() => {\n        const newActive = checkIfDarkmodeIsActive();\n        if (newActive !== active) {\n            setActive(newActive);\n        }\n    }, 10);\n\n    modeChangeListener = () => {\n        const newActive = checkIfDarkmodeIsActive();\n        if (newActive !== active) {\n            setActive(newActive);\n        }\n    }\n\n    return active;\n};\n\nexport {\n    checkIfDarkmodeIsActive,\n    initDarkmode,\n    setDarkmode,\n    storeDarkmode,\n    userThemePreference,\n    useDarkmode,\n};\n","import React, { useCallback } from 'react';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport { storeDarkmode, useDarkmode } from '../../utils/darkmode';\n\nimport s from './DarkmodeButton.module.scss';\n\nexport default function DarkmodeButton() {\n    const isDarkmodeActive = useDarkmode();\n\n    const handleButtonClick = useCallback(() => {\n        storeDarkmode(!isDarkmodeActive);\n    }, [isDarkmodeActive]);\n\n    return (\n        <IconButton aria-label=\"darkmode\" className={s.root} onClick={handleButtonClick}>\n            {!isDarkmodeActive && <div className={s.icon}>🌚</div>}\n            {isDarkmodeActive && <div className={s.icon}>🌞</div>}\n        </IconButton>\n    );\n}\n","import React, { FormEvent } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Account } from '../../../../models/Account';\n\nimport s from './AccountButton.module.scss';\n\ninterface Props {\n    account: Account;\n    onClick: (event: FormEvent) => void,\n    className?: string;\n}\n\nexport default function AccountButton({\n    account,\n    onClick,\n    className = '',\n}: Props) {\n    return (\n        <div>\n            <IconButton aria-label=\"darkmode\" onClick={onClick} className={s.iconButton}>\n                <MoreHorizIcon />\n            </IconButton>\n        </div>\n    );\n}\n","import React, { FormEvent, ReactElement, useState } from \"react\";\nimport classnames from 'classnames';\nimport { Link } from \"react-router-dom\";\nimport MuiMenu from '@material-ui/core/Menu';\nimport MuiMenuItem from '@material-ui/core/MenuItem';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport Button from \"../../components/Button\";\nimport trans from \"../../translation/trans\";\nimport { Account } from \"../../models/Account\";\nimport { formatCollateralToken } from \"../../services/CollateralTokenService\";\n\nimport s from './Menu.module.scss';\nimport DarkmodeButton from \"../../components/DarkmodeButton\";\nimport AccountButton from \"./components/AccountButton/AccountButton\";\nimport FluxSdk from \"@fluxprotocol/amm-sdk\";\nimport { TokenViewModel } from \"../../models/TokenViewModel\";\n\ninterface Props {\n    className?: string;\n    onLoginClick: () => void;\n    onLogoutClick: () => void;\n    onProfileClick: () => void;\n    onWrapNearClick: () => void;\n    account: Account | null;\n    wrappedNear?: TokenViewModel;\n}\n\nexport default function Menu({\n    onLoginClick,\n    onLogoutClick,\n    onProfileClick,\n    onWrapNearClick,\n    account,\n    wrappedNear,\n    className = ''\n}: Props): ReactElement {\n    const [menuAnchorEl, setMenuAnchorEl] = useState<Element | null>(null);\n\n    function handleMenuClick(event: FormEvent) {\n        setMenuAnchorEl(event.currentTarget);\n    }\n\n    function handleMenuClose() {\n        setMenuAnchorEl(null);\n    }\n\n    function handleLogoutClick() {\n        handleMenuClose();\n        onLogoutClick();\n    }\n\n    function handleProfileClick() {\n        handleMenuClose();\n        onProfileClick();\n    }\n\n    function handleWrapNearClick() {\n        handleMenuClose();\n        onWrapNearClick();\n    }\n\n    return (\n        <header className={classnames(s.menu, className)}>\n            <div className={s.menu__items}>\n                <div className={s.menu__item}>\n                    <Link to=\"/\" className={s.menu__logoWrapper}>\n                        <div className={s.menu__logo} />\n                    </Link>\n                </div>\n                <div className={classnames(s.menu__item, s['menu__last-item'])}>\n                    {account === null && (\n                        <DarkmodeButton />\n                    )}\n\n                    {account === null && (\n                        <Button onClick={onLoginClick}>{trans('auth.login')}</Button>\n                    )}\n\n                    {account && (\n                        <>\n                            <span className={s.accountName}>{account.accountId}</span>\n                            <span className={s.divider}></span>\n                            <span>\n                                <Button className={s.wNearBalance} variant=\"text\" onClick={handleWrapNearClick}>\n                                    {trans('menu.balance', {\n                                        amount: FluxSdk.utils.formatToken(wrappedNear?.balance ?? '0', 24, 2),\n                                        tokenSymbol: wrappedNear?.tokenSymbol ?? 'wNEAR',\n                                    })}\n                                </Button>\n                            </span>\n                            <DarkmodeButton />\n                            <AccountButton account={account} onClick={handleMenuClick} />\n                            <MuiMenu anchorEl={menuAnchorEl} keepMounted open={Boolean(menuAnchorEl)} onClose={handleMenuClose}>\n                                <MuiMenuItem disabled>{account.accountId}</MuiMenuItem>\n                                <MuiMenuItem disabled>NEAR: {formatCollateralToken(account.balance, 24)} Ⓝ</MuiMenuItem>\n                                <MuiMenuItem onClick={handleWrapNearClick}>{trans('menu.wrapNear')}</MuiMenuItem>\n                                <MuiMenuItem onClick={handleProfileClick}>{trans('menu.profile')}</MuiMenuItem>\n                                <MuiMenuItem onClick={handleLogoutClick}>{trans('menu.logout')}</MuiMenuItem>\n                            </MuiMenu>\n                        </>\n                    )}\n\n                </div>\n            </div>\n        </header>\n    );\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Account } from '../../models/Account';\nimport { EscrowStatus } from '../../models/EscrowStatus';\nimport { PoolToken } from '../../models/PoolToken';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { UserBalance } from '../../models/UserBalance';\n\nexport type AccountState = Readonly<{\n    account: Account | null;\n    loading: boolean;\n    poolTokens: PoolToken[];\n    balances: UserBalance[];\n    poolTokenLoading: boolean;\n    nearToken?: TokenViewModel;\n    wrappedNearToken?: TokenViewModel;\n    requiredWrappedNearDeposit?: string;\n    errors: string[];\n    escrowStatus: EscrowStatus[];\n}>;\n\nconst initialState: AccountState = {\n    account: null,\n    loading: false,\n    poolTokenLoading: false,\n    poolTokens: [],\n    errors: [],\n    balances: [],\n    escrowStatus: [],\n};\n\nconst accountSlice = createSlice({\n    initialState,\n    name: 'account',\n    reducers: {\n        setAccount(state: AccountState, action: PayloadAction<Account | null>): AccountState {\n            return ({\n                ...state,\n                account: action.payload,\n            });\n        },\n        setNearToken(state: AccountState, action: PayloadAction<TokenViewModel | undefined>): AccountState {\n            return ({\n                ...state,\n                nearToken: action.payload,\n            });\n        },\n        setWrappedNearToken(state: AccountState, action: PayloadAction<TokenViewModel | undefined>): AccountState {\n            return ({\n                ...state,\n                wrappedNearToken: action.payload,\n            });\n        },\n        setRequiredWrappedNearDeposit(state: AccountState, action: PayloadAction<string | undefined>): AccountState {\n            return ({\n                ...state,\n                requiredWrappedNearDeposit: action.payload,\n            });\n        },\n        setAccountPoolTokens(state: AccountState, action: PayloadAction<PoolToken[]>): AccountState {\n            return ({\n                ...state,\n                poolTokens: action.payload,\n            });\n        },\n        setAccountLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                loading: action.payload,\n            });\n        },\n        setAccountPoolTokenLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                poolTokenLoading: action.payload,\n            });\n        },\n        setAccountBalances(state: AccountState, action: PayloadAction<UserBalance[]>): AccountState {\n            return ({\n                ...state,\n                balances: action.payload,\n            });\n        },\n        setEscrowStatus(state: AccountState, action: PayloadAction<EscrowStatus[]>): AccountState {\n            return ({\n                ...state,\n                escrowStatus: action.payload,\n            });\n        },\n        setAccountErrors(state: AccountState, action: PayloadAction<string[]>): AccountState {\n            return ({\n                ...state,\n                errors: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setAccount,\n    setAccountErrors,\n    setAccountLoading,\n    setAccountPoolTokenLoading,\n    setAccountPoolTokens,\n    setAccountBalances,\n    setNearToken,\n    setWrappedNearToken,\n    setRequiredWrappedNearDeposit,\n    setEscrowStatus\n} = accountSlice.actions;\n\nexport default accountSlice.reducer;\n","import Big from 'big.js';\nimport { formatCollateralToken } from '../services/CollateralTokenService';\nimport trans from '../translation/trans';\nimport { TokenMetadata } from './TokenMetadata';\nimport { TokenViewModel } from './TokenViewModel';\nimport { GraphUserBalancesItem } from './UserBalance';\n\nexport interface EarnedFeesGraphData {\n    fees: string;\n    outcomeId: number;\n    poolId: string;\n    balance: string;\n    market?: {\n        description: string;\n        pool: {\n            collateral_token_id: string;\n        }\n    }\n}\n\nexport interface GraphAcountBalancesResponse {\n    earned_fees: EarnedFeesGraphData[];\n    balances: GraphUserBalancesItem[];\n}\n\nexport interface PoolToken {\n    outcomeId: number;\n    poolId: string;\n    fees: string;\n    collateralTokenDecimals: number;\n    balance: string;\n    balanceFormatted: string;\n    marketDescription: string;\n    marketId: string;\n}\n\nexport function transformToPoolToken(graphData: EarnedFeesGraphData, collateralTokenMetadata: TokenMetadata): PoolToken {\n    return {\n        balanceFormatted: formatCollateralToken(graphData.balance, collateralTokenMetadata.decimals),\n        balance: graphData.balance,\n        fees: graphData.fees,\n        marketDescription: graphData.market?.description ?? '',\n        marketId: graphData.poolId,\n        outcomeId: graphData.outcomeId,\n        poolId: graphData.poolId,\n        collateralTokenDecimals: collateralTokenMetadata.decimals ?? 18,\n    }\n}\n\nexport function transformPoolTokenToTokenViewModel(pooltoken: PoolToken): TokenViewModel {\n    return {\n        balance: pooltoken.balance,\n        balanceFormatted: pooltoken.balanceFormatted,\n        decimals: pooltoken.collateralTokenDecimals,\n        odds: new Big(0),\n        outcomeId: NaN,\n        poolBalance: '0',\n        poolWeight: new Big(0),\n        price: 0,\n        spent: \"0\",\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        tokenName: trans('global.poolToken'),\n        tokenSymbol: '',\n        weight: 0,\n        isCollateralToken: false,\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    };\n}\n","import trans from \"../translation/trans\";\nimport { MarketViewModel } from \"./Market\";\nimport { TokenMetadata } from \"./TokenMetadata\";\nimport { TokenViewModel } from \"./TokenViewModel\";\n\nexport interface UserBalance {\n    outcomeId: number;\n    balance: string;\n    marketId: string;\n    marketDescription: string;\n    marketStatus: string;\n    outcomeTag: string;\n    collateralTokenMetadata: TokenMetadata;\n    spent: string;\n    outcomePrice: number;\n    payoutNumerator: string[] | null;\n}\n\nexport interface GraphUserBalancesItem {\n    balance: string;\n    outcome_id: number;\n    pool_id: string;\n    spent?: string;\n    market?: {\n        description: string;\n        outcome_tags: string[];\n        finalized: boolean;\n        end_time: string;\n        payout_numerator: string[] | null;\n        is_scalar: boolean;\n        pool: {\n            collateral_token_id: string;\n            pool_balances: {\n                outcome_id: number,\n                price: number\n            }[];\n        }\n    }\n}\n\nexport interface GraphUserBalanceResponse {\n    balances: GraphUserBalancesItem[];\n}\n\nfunction getMarketStatus(data: GraphUserBalancesItem['market']) {\n    if (!data) {\n        return trans('marketStatus.uknown');\n    }\n\n    const endTime = new Date(parseInt(data.end_time));\n    const now = new Date();\n\n    if (data.finalized && data.payout_numerator !== null) {\n        return trans('marketStatus.finalized');\n    } else if (data.finalized && data.payout_numerator === null) {\n        return trans('marketStatus.invalid');\n    } else if (!data.finalized && now.getTime() >= endTime.getTime()) {\n        return trans('marketStatus.resoluting');\n    } else {\n        return trans('marketStatus.ongoing');\n    }\n}\n\nexport function transformToUserBalance(graphData: GraphUserBalancesItem, collateralTokenMetadata: TokenMetadata): UserBalance {\n    const isScalar = graphData.market?.is_scalar;\n    let outcomeTag = graphData.market?.outcome_tags[graphData.outcome_id] ?? '';\n\n    if (isScalar) {\n        if (graphData.outcome_id === 0) {\n            outcomeTag = trans('market.outcomes.short');\n        } else {\n            outcomeTag = trans('market.outcomes.long');\n        }\n    }\n\n    return {\n        balance: graphData.balance,\n        outcomeId: graphData.outcome_id,\n        spent: graphData.spent ?? '0',\n        marketId: graphData.pool_id,\n        marketDescription: graphData.market?.description || '',\n        marketStatus: getMarketStatus(graphData.market),\n        outcomeTag,\n        collateralTokenMetadata,\n        outcomePrice: graphData.market?.pool.pool_balances?.find(pb => pb.outcome_id === graphData.outcome_id)?.price ?? 0,\n        payoutNumerator: graphData.market?.payout_numerator || null\n    }\n}\n","import { ApolloClient, InMemoryCache, createHttpLink } from '@apollo/client';\nimport { API_URL } from '../config';\n\nconst cache = new InMemoryCache();\nconst link = createHttpLink({\n    uri: API_URL,\n});\n\nexport const graphqlClient = new ApolloClient({\n    cache,\n    link,\n\n    defaultOptions: {\n        watchQuery: {\n            fetchPolicy: 'cache-and-network',\n        }\n    }\n});\n","import { getCollateralTokenMetadata } from \"../services/CollateralTokenService\";\nimport { TokenMetadata } from \"./TokenMetadata\";\n\nexport interface EscrowStatusResponse {\n    total_amount: string;\n    type: 'valid_escrow' | 'invalid_escrow';\n    market: {\n        id: string,\n        description: string,\n        pool: {\n            collateral_token_id: string\n        }\n    }\n}\n\nexport interface EscrowStatus {\n    totalAmount: string;\n    type: 'valid_escrow' | 'invalid_escrow';\n    marketId: string,\n    marketDescription: string,\n    collateralToken: TokenMetadata\n}\n\nexport async function transformEscrowStatusViewModel(escrowStatusResponse: EscrowStatusResponse[]) : Promise<EscrowStatus[]> {\n    const escrowStatus = [];\n    for await (const d of escrowStatusResponse) {\n        let collateralTokenMetaData = await getCollateralTokenMetadata(d.market.pool.collateral_token_id);\n        escrowStatus.push({\n            totalAmount: d.total_amount,\n            type: d.type,\n            marketId: d.market.id,\n            marketDescription: d.market.description,\n            collateralToken: collateralTokenMetaData\n        })\n    }\n    return escrowStatus;\n}","import { gql } from \"@apollo/client\";\nimport { Account } from \"../models/Account\";\nimport { EarnedFeesGraphData, GraphAcountBalancesResponse, PoolToken, transformToPoolToken } from \"../models/PoolToken\";\nimport { GraphUserBalanceResponse, transformToUserBalance, UserBalance } from \"../models/UserBalance\";\nimport { getCollateralTokenMetadata } from \"./CollateralTokenService\";\nimport createAuthContract from \"./contracts/AuthContract\";\nimport { graphqlClient } from \"./GraphQLService\";\nimport { connectSdk } from \"./WalletService\";\nimport { ENABLE_WHITELIST } from \"../config\";\nimport { EscrowStatus, transformEscrowStatusViewModel } from \"../models/EscrowStatus\";\n\nexport async function signUserIn() {\n    const sdk = await connectSdk();\n    sdk.signIn();\n}\n\nexport async function getAccountInfo(): Promise<Account | null> {\n    const sdk = await connectSdk();\n\n    if (!sdk.isSignedIn()) {\n        return null;\n    }\n\n    let canUseApp = true;\n    const accountId = sdk.getAccountId() ?? '';\n\n    if (ENABLE_WHITELIST) {\n        const auth = await createAuthContract();\n        canUseApp = await auth.isAuthenticated(accountId);\n    }\n\n    return {\n        accountId,\n        balance: (await sdk.getNearBalance()).available,\n        canUseApp,\n    };\n}\n\n\nexport async function fetchEscrowStatus(): Promise<EscrowStatus[]> {\n    const sdk = await connectSdk();\n    const escrowStatus = await sdk.getEscrowStatus(\"fluxbux.near\");\n    return transformEscrowStatusViewModel(escrowStatus);\n};\n\nexport async function signUserOut() {\n    const sdk = await connectSdk();\n    sdk.signOut();\n}\n\ninterface AccountBalancesInfo {\n    poolTokens: PoolToken[];\n    marketBalances: UserBalance[];\n}\n\nexport async function getAccountBalancesInfo(accountId: string): Promise<AccountBalancesInfo> {\n    try {\n        const result = await graphqlClient.query({\n            query: gql`\n                query Account($accountId: String!) {\n                    account: getAccount(accountId: $accountId) {\n                        earned_fees(removeZeroBalances: true, removeClaimedBalances: false) {\n                            fees\n                            outcomeId\n                            poolId\n                            balance\n                            market {\n                                description\n                                is_scalar\n\n                                pool {\n                                    collateral_token_id\n                                }\n                            }\n                        }\n                        balances(removeZeroBalances: true, removeClaimedBalances: false) {\n                            balance\n                            outcome_id\n                            pool_id\n                            spent\n                            market {\n                                description\n                                is_scalar\n                                outcome_tags\n                                end_time\n                                finalized\n                                payout_numerator\n\n                                pool {\n                                    collateral_token_id\n                                    pool_balances{\n                                        price\n                                        outcome_id\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            `,\n            variables: {\n                accountId,\n            }\n        });\n\n        const accountBalances: GraphAcountBalancesResponse = result.data.account;\n\n        // Find all collateral tokens\n        let allCollateralTokenIds: string[] = accountBalances.earned_fees.map(item => item.market?.pool.collateral_token_id || '');\n        allCollateralTokenIds.push(...accountBalances.balances.map(item => item.market?.pool.collateral_token_id || ''));\n        allCollateralTokenIds = allCollateralTokenIds.filter(item => item);\n\n        // Fetch all token metadata\n        const tokensMetadata = await Promise.all(allCollateralTokenIds.map(item => getCollateralTokenMetadata(item)));\n\n        // Transform the fees\n        const poolTokens = accountBalances.earned_fees.map((data) => {\n            const tokenMetadata = tokensMetadata.find(metadata => metadata.collateralTokenId === data.market?.pool.collateral_token_id);\n            return transformToPoolToken(data, tokenMetadata!);\n        });\n\n        // Transform the balances\n        const marketBalances = accountBalances.balances.map((data) => {\n            const tokenMetadata = tokensMetadata.find(metadata => metadata.collateralTokenId === data.market?.pool.collateral_token_id);\n            return transformToUserBalance(data, tokenMetadata!);\n        });\n\n        return {\n            poolTokens,\n            marketBalances,\n        };\n    } catch (error) {\n        console.error('[getPoolTokensByAccountId]', error);\n        return {\n             poolTokens: [],\n             marketBalances: [],\n        };\n    }\n}\n\nexport async function getBalancesForMarketByAccount(accountId: string, marketId: string): Promise<UserBalance[]> {\n    try {\n        const result = await graphqlClient.query({\n            query: gql`\n                query AccountMarketBalances($accountId: String!, $marketId: String) {\n                    account: getAccount(accountId: $accountId) {\n                        balances(poolId: $marketId) {\n                            balance\n                            outcome_id\n                            pool_id,\n                            spent,\n                            market {\n                                outcome_tags\n                                is_scalar\n\n                                pool {\n                                    collateral_token_id\n                                }\n                            }\n                        }\n                    }\n                }\n            `,\n            variables: {\n                accountId,\n                marketId,\n            }\n        });\n\n        const data: GraphUserBalanceResponse = result.data.account;\n        const colletaralTokenIds = data.balances.map(item => item.market?.pool.collateral_token_id || '').filter(x => x);\n        const tokenMetadata = await Promise.all(colletaralTokenIds.map(id => getCollateralTokenMetadata(id)));\n\n        return data.balances.map((balance) => {\n            const metadata = tokenMetadata.find(metadata => metadata.collateralTokenId === balance.market?.pool.collateral_token_id);\n            return transformToUserBalance(balance, metadata!)\n        });\n} catch (error) {\n    console.error('[getBalancesForMarketByAccount]', error);\n        return [];\n    }\n}\n\nexport async function getPoolBalanceForMarketByAccount(accountId: string, marketId: string): Promise<PoolToken | null> {\n    try {\n        const result = await graphqlClient.query({\n            query: gql`\n                query AccountMarketPoolBalances($accountId: String!, $marketId: String) {\n                    account: getAccount(accountId: $accountId) {\n                        earned_fees(poolId: $marketId) {\n                            balance\n                            fees\n                            outcomeId\n                            poolId\n\n                            market {\n                                is_scalar\n\n                                pool {\n                                    collateral_token_id\n                                }\n                            }\n                        }\n                    }\n                }\n            `,\n            variables: {\n                accountId,\n                marketId,\n            }\n        });\n\n        const data: EarnedFeesGraphData[] = result.data.account.earned_fees;\n\n        if (!data.length) {\n            return null;\n        }\n\n        const collateralTokenMetadata = await getCollateralTokenMetadata(data[0].market?.pool.collateral_token_id || '');\n\n        return transformToPoolToken(data[0], collateralTokenMetadata);\n    } catch (error) {\n        console.error('[getBalancesForMarketByAccount]', error);\n        return null;\n    }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAHlBMVEXi4uLJysvx8fGqq6z///9ydHaQkpNPUVQxNDckJyrxLYRSAAADBUlEQVR42u3a2RbiIAwG4CwEyPu/8Fy4gWVrp4aZc9JrsZ/Y36Q2EP7JA5zlLGc5y1nOcpaznOUsZznLWc5ylrOc5SxnOctZf8UCZGbGC58EmOOpdeuvBcmqqqpZTsIwPdfh/SzWz5H5jCp+FvLdrFJ15v1DkHJdvJcFtUozXtgrVVW8lSX67YJLu6xCN7K+N0tV09L7Y/5eBzey+MhSWXn3g2rxqoQrF8jq5Qvpyqq/ZE0/OCXdwZrFUXQLaxLH9iID1jCOnLexBnHElPM2VvcsmFJuumxYnTiSpI7LiNWMI8WUOi4jVjOOUUQ+rmzByjKNI0cpXLnK5M9YIJOuAGOUwsVgwzoUlfpUEGPpisGIdSzBXN9OcOGKZMY6tFFFHAkfrKdLKNixDpXlHUdC5NJFwZJ1+Ml4xRGwckGwZR26lkd1JMDCFSFYs5pxJILShcGc1Y4jEcD7e8SwgdWOY7FfGLawDvdDGcr9wrCJ1Y7ja7/CNlY7jo/9ChtZ7epIBEA7WcfbZn64KGxldaojhc2sfnXcy+pWx82sMGtWN7Emzeou1rhZ3ccaNau7WDSP4wYWAdEsjvYsAgCiEGgUR/uaiPhyDeJozSLEt2sQR2MWMReufhxtWcRcubj3V44pizjG2tW9d7RkcYylq3/vaMpikdJFg+poyEKR0vVsktvNqh0LU6pcNKqOZixIqXLRsFm1+9stVy4YN6tmf1LmnAoXTJpVI1ZSzfmzXzhrVm1Yoqr62S8e3lGoqkYL1kv33K9I02bV9CnGk0Xrz+xsHq7knFPngWLcyNKcU+exMMlG1mDWpvn03Io1OAWkbazhgEYvjj9nTcZleA8rwaUt/vXP6Xzlz8cz+PTESDeOd47+4PpPw7A6Ls+VLU6HpUtfRSOOKdzJwvOzW+3qeO8QXn35Lk7SNcJy88hiVeVOqL5cyyvXJ1v5eX2lU0On72FYVU0/GIcNgTCKRKRw8iDkR3N9YqVPgDvLWc5ylrOc5SxnOctZznKWs5zlLGc5y1nOctZ/w/oDdfKVy4bajDUAAAAASUVORK5CYII=\"","import { Account, Contract } from \"near-api-js\";\nimport { MAX_GAS, WRAPPED_NEAR_ACCOUNT_ID } from \"../../config\";\nimport cache from \"../../utils/cache\";\nimport { connectWallet } from \"../WalletService\";\n\nexport class WrappedNearContract {\n    contract: Contract;\n\n    constructor(account: Account) {\n        this.contract = new Contract(account, WRAPPED_NEAR_ACCOUNT_ID, {\n            changeMethods: ['near_deposit', 'near_withdraw', 'storage_deposit'],\n            viewMethods: ['storage_balance_of', 'storage_minimum_balance', 'ft_balance_of'],\n        });\n    }\n\n    wrapNear(amountIn: string) {\n        // @ts-ignore\n        this.contract.near_deposit({}, MAX_GAS, amountIn);\n    }\n\n    unwrapNear(amountIn: string) {\n        // @ts-ignore\n        this.contract.near_withdraw({\n            amount: amountIn,\n        }, MAX_GAS, '1');\n    }\n\n    depositStorage(amountIn: string, account_id?: string) {\n        // @ts-ignore\n        return this.contract.storage_deposit({ account_id }, MAX_GAS, amountIn);\n    }\n\n    getStorageBalance(accountId: string): Promise<{ total: string, available: string }> {\n        // @ts-ignore\n        return this.contract.storage_balance_of({\n            account_id: accountId,\n        });\n    }\n\n    getBalance(accountId: string): Promise<string> {\n        // @ts-ignore\n        return this.contract.ft_balance_of({\n            account_id: accountId,\n        });\n    }\n\n    getMinimumRequiredStorageBalance(): Promise<string> {\n        // @ts-ignore\n        return this.contract.storage_minimum_balance({});\n    }\n}\n\nexport default async function createWrappedNearContract(): Promise<WrappedNearContract> {\n    return cache('wrapped_near_contract', async () => {\n        const wallet = await connectWallet();\n\n        return new WrappedNearContract(wallet.account());\n    });\n}\n","import Big from \"big.js\";\nimport { WRAPPED_NEAR_ACCOUNT_ID } from \"../config\";\nimport { TokenViewModel } from \"../models/TokenViewModel\";\nimport { formatCollateralToken } from \"./CollateralTokenService\";\nimport { connectSdk } from \"./WalletService\";\nimport wrappedNearIcon from '../assets/images/icons/wrapped-near.svg';\nimport nearIcon from '../assets/images/icons/near-icon.png';\nimport createWrappedNearContract from \"./contracts/WrappedNearContract\";\n\nexport async function getNearToken(): Promise<TokenViewModel> {\n    const defaults: TokenViewModel = {\n        decimals: 24,\n        isCollateralToken: false,\n        odds: new Big(0),\n        outcomeId: NaN,\n        poolBalance: '0',\n        poolWeight: new Big(0),\n        tokenName: 'NEAR',\n        price: 0,\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        tokenSymbol: 'NEAR',\n        spent: \"0\",\n        weight: 0,\n        balance: '0',\n        balanceFormatted: '0',\n        tokenImage: nearIcon,\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    }\n\n    try {\n        const sdk = await connectSdk();\n        const balance = await sdk.getNearBalance();\n\n        return {\n            ...defaults,\n            balance: balance.available,\n            balanceFormatted: formatCollateralToken(balance.available, 24),\n        }\n    } catch (error) {\n        console.error('[getNearToken]', error);\n        return defaults;\n    }\n}\n\nexport async function getWrappedNearToken(): Promise<TokenViewModel> {\n    const defaults: TokenViewModel = {\n        decimals: 24,\n        isCollateralToken: false,\n        odds: new Big(0),\n        outcomeId: NaN,\n        poolBalance: '0',\n        poolWeight: new Big(0),\n        tokenName: 'wNEAR',\n        price: 0,\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        spent: \"0\",\n        tokenSymbol: 'wNEAR',\n        tokenImage: wrappedNearIcon,\n        weight: 0,\n        balance: '0',\n        balanceFormatted: '0',\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    }\n\n    try {\n        const wNearContract = await createWrappedNearContract();\n        const sdk = await connectSdk();\n        const accountId = sdk.getAccountId();\n\n        if (accountId) {\n            const balance = await wNearContract.getBalance(accountId);\n\n            return {\n                ...defaults,\n                balance,\n                balanceFormatted: formatCollateralToken(balance, 24),\n            }\n        }\n\n        return defaults;\n    } catch (error) {\n        console.error('[getWrappedNearToken]', error);\n        return defaults;\n    }\n}\n\nexport interface WrapNearFormValues {\n    amountIn: string;\n    amountInFormatted: string;\n    type: 'wrap' | 'unwrap';\n}\n\nexport async function wrapNear(amountIn: string) {\n    const wNearContract = await createWrappedNearContract();\n    wNearContract.wrapNear(amountIn);\n}\n\nexport async function unwrapNear(amountIn: string) {\n    const wNearContract = await createWrappedNearContract();\n    wNearContract.unwrapNear(amountIn);\n}\n\nexport async function getWrappedNearStorageBalance(): Promise<{ total: string, available: string }> {\n    const wNearContract = await createWrappedNearContract();\n    const sdk = await connectSdk();\n    const accountId = sdk.getAccountId();\n\n    if (!accountId) {\n        return {\n            total: '0',\n            available: '0',\n        }\n    }\n\n    return wNearContract.getStorageBalance(accountId);\n}\n\nexport async function getRequiredWrappedNearStorageDeposit() {\n    const wNearContract = await createWrappedNearContract();\n    return wNearContract.getMinimumRequiredStorageBalance();\n}\n\nexport async function depositWrappedNearStorage(amount: string, accountId?: string) {\n    const wNearContract = await createWrappedNearContract();\n    return wNearContract.depositStorage(amount, accountId);\n}\n","import { setAccount, setAccountBalances, setAccountLoading, setAccountPoolTokenLoading, setAccountPoolTokens, setNearToken, setRequiredWrappedNearDeposit, setWrappedNearToken, setEscrowStatus } from \"./account\";\nimport { signUserIn, getAccountInfo, signUserOut, getAccountBalancesInfo, fetchEscrowStatus } from '../../services/AccountService';\nimport { getNearToken, getRequiredWrappedNearStorageDeposit, getWrappedNearStorageBalance, getWrappedNearToken } from \"../../services/NearService\";\n\nexport function signIn() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            await signUserIn();\n            dispatch(setAccountLoading(false));\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[signIn]', error);\n        }\n    }\n}\n\nexport function getEscrowStatus() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            const escrowStatus = await fetchEscrowStatus();\n            dispatch(setEscrowStatus(escrowStatus));\n            dispatch(setAccountLoading(false));\n\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[fetchEscrowStatus]', error);\n        }\n    }\n}\n\nexport function getAccount() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            const account = await getAccountInfo();\n            dispatch(setAccount(account));\n            dispatch(setAccountLoading(false));\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[getAccount]', error);\n        }\n    }\n}\n\nexport function loadNearBalances() {\n    return async (dispatch: Function) => {\n        const nearTokenRequest = getNearToken();\n        const wrappedNeartokenRequest = getWrappedNearToken();\n\n        let accountInfo = await getAccountInfo();\n        if (accountInfo !== null) {\n            const storageUsage = await getWrappedNearStorageBalance();\n\n            if (storageUsage.total === '0') {\n                const requiredDeposit = await getRequiredWrappedNearStorageDeposit();\n                dispatch(setRequiredWrappedNearDeposit(requiredDeposit));\n            }\n        }\n\n        const nearToken = await nearTokenRequest;\n        const wrappedNearToken = await wrappedNeartokenRequest;\n\n        dispatch(setNearToken(nearToken));\n        dispatch(setWrappedNearToken(wrappedNearToken));\n    }\n}\n\nexport function loadAccountBalanceInfo(accountId: string) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountPoolTokenLoading(true));\n            const accountBalancesInfo = await getAccountBalancesInfo(accountId);\n            dispatch(setAccountPoolTokens(accountBalancesInfo.poolTokens));\n            dispatch(setAccountBalances(accountBalancesInfo.marketBalances));\n            dispatch(setAccountPoolTokenLoading(false));\n        } catch (error) {\n            dispatch(setAccountPoolTokenLoading(false));\n            console.error('[getPoolTokensForAccount]', error);\n        }\n    }\n}\n\nexport function signOut() {\n    return async (dispatch: Function) => {\n        await signUserOut();\n        dispatch(setAccount(null));\n    }\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport type DialogsState = Readonly<{\n    isMarketCreationOpen: boolean;\n    isWrappingNearOpen: boolean;\n}>;\n\nconst initialState: DialogsState = {\n    isMarketCreationOpen: false,\n    isWrappingNearOpen: false,\n};\n\nconst dialogsSlice = createSlice({\n    initialState,\n    name: 'dialogs',\n    reducers: {\n        setMarketCreationDialogOpen(state: DialogsState, action: PayloadAction<boolean>): DialogsState {\n            return ({\n                ...state,\n                isMarketCreationOpen: action.payload,\n            });\n        },\n        setWrappingNearDialogOpen(state: DialogsState, action: PayloadAction<boolean>): DialogsState {\n            return({\n                ...state,\n                isWrappingNearOpen: action.payload,\n            });\n        }\n    },\n});\n\nexport const {\n    setMarketCreationDialogOpen,\n    setWrappingNearDialogOpen,\n} = dialogsSlice.actions;\n\nexport default dialogsSlice.reducer;\n","import React, { ReactElement, useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport Menu from '../../containers/Menu';\nimport { getAccount, signIn, signOut } from '../../redux/account/accountActions';\nimport { setWrappingNearDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\n\n\nexport default function MenuConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const accountInfo = useSelector((store: Reducers) => store.account.account);\n    const wrappedNear = useSelector((store: Reducers) => store.account.wrappedNearToken);\n\n    useEffect(() => {\n        if (!accountInfo) {\n            dispatch(getAccount());\n        }\n    }, [dispatch, accountInfo]);\n\n    const handleLoginClick = useCallback(() => {\n        dispatch(signIn());\n    }, [dispatch]);\n\n    const handleLogoutClick = useCallback(() => {\n        dispatch(signOut());\n    }, [dispatch]);\n\n    const handleProfileClick = useCallback(() => {\n        history.push(routePaths.profile());\n    }, [history]);\n\n    const handleWrapNearClick = useCallback(() => {\n        dispatch(setWrappingNearDialogOpen(true));\n    }, [dispatch]);\n\n    return (\n        <Menu\n            onLoginClick={handleLoginClick}\n            onLogoutClick={handleLogoutClick}\n            onProfileClick={handleProfileClick}\n            onWrapNearClick={handleWrapNearClick}\n            account={accountInfo}\n            wrappedNear={wrappedNear}\n        />\n    );\n}\n","import React from 'react';\n\nimport s from './Error.module.scss';\n\ninterface Props {\n    error?: string;\n}\n\nexport default function Error({\n    error,\n}: Props) {\n    return (\n        error ? <p className={s.error}>{error}</p> : null\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { default as MuiIconButton } from '@material-ui/core/IconButton';\nimport classnames from 'classnames';\n\nimport s from './IconButton.module.scss';\n\ninterface Props {\n    icon: string;\n    alt: string;\n    onClick: () => void;\n    className?: string;\n}\n\n\nexport default function IconButton({\n    icon,\n    alt,\n    onClick,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <MuiIconButton onClick={onClick} className={classnames(s['icon-button'], className)}>\n            <img src={icon} alt={alt} />\n        </MuiIconButton>\n    );\n}\n","import React, { PropsWithChildren } from 'react';\nimport classnames from 'classnames';\nimport { default as MuiDialog } from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport Button from '../../components/Button';\n\nimport s from './Dialog.module.scss';\nimport trans from '../../translation/trans';\n\ninterface Props {\n    title: string;\n    open: boolean;\n    onRequestClose: () => void;\n    onSubmitClick: () => void;\n    canSubmit?: boolean;\n    hideButtons?: boolean;\n    paperClassName?: string;\n}\n\nexport default function Dialog({\n    title,\n    children,\n    open,\n    onRequestClose,\n    onSubmitClick,\n    canSubmit = true,\n    hideButtons = false,\n    paperClassName = '',\n}: PropsWithChildren<Props>) {\n    return (\n        <MuiDialog open={open} classes={{ paper: classnames(s.paper, paperClassName) }}>\n            <DialogTitle className={s.title}>\n                {title}\n            </DialogTitle>\n            <DialogContent className={s.content}>\n                {children}\n            </DialogContent>\n            {!hideButtons && (\n                <DialogActions>\n                    <Button className={s.cancelButton} onClick={onRequestClose}>\n                        {trans('global.action.cancel')}\n                    </Button>\n                    <Button disabled={!canSubmit} className={s.confirmButton} onClick={onSubmitClick}>\n                        {trans('global.action.submit')}\n                    </Button>\n                </DialogActions>\n            )}\n        </MuiDialog>\n    );\n}\n","export default __webpack_public_path__ + \"static/media/swap.23e85a91.svg\";","import React, { ReactNode } from 'react';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\n\nimport s from './TextButton.module.scss';\n\ninterface Props {\n    children: ReactNode;\n    className?: string;\n    disabled?: boolean;\n    onClick?: () => void;\n}\n\nexport default function TextButton({\n    children,\n    className = '',\n    ...props\n}: Props) {\n    return (\n        <Button {...props} className={classnames(s.root, className)}>{children}</Button>\n    );\n}\n","import { ClaimViewModel, GraphClaimResponse, transformToClaimViewModel } from \"./Claim\";\nimport { TokenViewModel, transformToTokenViewModels } from \"./TokenViewModel\";\nimport { UserBalance } from \"./UserBalance\";\n\nexport enum MarketCategory {\n    Stocks = 'stocks',\n    Esports = 'esports',\n    Meme = 'meme',\n    Politics = 'politics',\n    Viral = 'viral',\n    Crypto = 'crypto',\n    Sports = 'sports',\n    Startups = 'startups',\n    Unknown = 'unknown',\n    Beer = \"beer\"\n}\n\nexport enum MarketType {\n    Binary = 'binary',\n    Categorical = 'categorical',\n    Scalar = 'scalar',\n}\n\nexport interface GraphMarketResponse {\n    creation_date: string | null;\n    description: string;\n    outcome_tags: string[];\n    end_time: string;\n    extra_info: string;\n    finalized: boolean;\n    id: string;\n    volume: string;\n    categories: string[];\n    payout_numerator?: string[] | null;\n    claimed_earnings?: GraphClaimResponse;\n    is_scalar?: boolean;\n    pool: {\n        owner: string;\n        collateral_token_id: string;\n        pool_balances: {\n            weight: string;\n            outcome_id: number;\n            balance: string;\n            price: number;\n        }[];\n        tokens_info: {\n            is_pool_token: boolean;\n            total_supply: string;\n        }[];\n    }\n}\n\nexport interface MarketViewModel {\n    id: string;\n    finalized: boolean;\n    creationDate?: Date;\n    owner: string;\n    description: string;\n    resolutionDate: Date;\n    volume: string;\n    category: (MarketCategory | string)[];\n    extraInfo: string;\n    collateralTokenId: string;\n    outcomeTokens: TokenViewModel[];\n    collateralToken: TokenViewModel;\n    invalid: boolean;\n    payoutNumerator: string[] | null;\n    claim?: ClaimViewModel;\n    type: MarketType;\n    poolTokenInfo: {\n        totalSupply: string;\n    };\n}\n\nexport async function transformToMarketViewModel(\n    graphResponse: GraphMarketResponse,\n    collateralToken: TokenViewModel,\n    userBalances: UserBalance[] = [],\n): Promise<MarketViewModel> {\n    const tokensInfo = graphResponse.pool.tokens_info || [];\n    const poolTokenInfo = tokensInfo.find(info => info.is_pool_token);\n    const payoutNumerator = graphResponse.payout_numerator ? graphResponse.payout_numerator : null;\n    const marketType = graphResponse.is_scalar ? MarketType.Scalar : MarketType.Categorical;\n\n    return {\n        id: graphResponse.id,\n        type: marketType,\n        category: graphResponse.categories || [],\n        creationDate: graphResponse.creation_date ? new Date(Number(graphResponse.creation_date)) : undefined,\n        description: graphResponse.description,\n        extraInfo: graphResponse.extra_info,\n        finalized: graphResponse.finalized,\n        owner: graphResponse.pool.owner,\n        resolutionDate: new Date(parseInt(graphResponse.end_time)),\n        volume: graphResponse.volume,\n        collateralTokenId: graphResponse.pool.collateral_token_id,\n        collateralToken,\n        invalid: graphResponse.finalized && payoutNumerator === null,\n        payoutNumerator,\n        claim: graphResponse.claimed_earnings ? transformToClaimViewModel(graphResponse.claimed_earnings, collateralToken) : undefined,\n        outcomeTokens: transformToTokenViewModels(\n            graphResponse.outcome_tags,\n            graphResponse.pool.pool_balances as any,\n            userBalances,\n            marketType,\n            false,\n            collateralToken,\n        ),\n        poolTokenInfo: {\n            totalSupply: poolTokenInfo?.total_supply || '0',\n        }\n    }\n}\n","import Big from \"big.js\";\nexport interface PoolBalanceViewModel {\n    outcomeId: number;\n    price: number;\n    weight: number;\n    poolWeight: Big;\n    outcomeLabel: string;\n    poolBalance: string;\n    odds: Big;\n}\n\nexport interface PoolBalanceGraphData {\n    id: string;\n    pool_id: string;\n    outcome_id: number;\n    account_id: string;\n    balance: string;\n    price: number;\n    weight: string;\n    odds: string;\n}\n\nexport function transformToPoolBalanceViewModel(response: PoolBalanceGraphData[], outcomeTags: string[]): PoolBalanceViewModel[] {\n    if (!response.length) {\n        return outcomeTags.map((tag, index) => ({\n            outcomeId: index,\n            outcomeLabel: tag,\n            poolWeight: new Big('0'),\n            price: 0,\n            weight: 0,\n            poolBalance: \"0\",\n            odds: new Big(0),\n        }));\n    }\n\n    return response.map((poolBalance) => {\n        const poolWeight = new Big(poolBalance.weight);\n\n        return {\n            outcomeId: poolBalance.outcome_id,\n            outcomeLabel: outcomeTags[poolBalance.outcome_id],\n            price: poolBalance.price,\n            poolWeight,\n            poolBalance: poolBalance.balance,\n            weight: 0,\n            odds: new Big(poolBalance.odds),\n        };\n    }).sort((a, b) => a.outcomeId - b.outcomeId);\n}\n","import { formatCollateralToken } from \"../services/CollateralTokenService\";\nimport { TokenViewModel } from \"./TokenViewModel\";\n\nexport interface GraphClaimResponse {\n    payout: string;\n}\n\nexport interface ClaimViewModel {\n    payout: string;\n    payoutFormatted: string;\n}\n\nexport function transformToClaimViewModel(graphData: GraphClaimResponse, collateralToken: TokenViewModel): ClaimViewModel {\n    return {\n        payout: graphData.payout,\n        payoutFormatted: formatCollateralToken(graphData.payout, collateralToken.decimals),\n    }\n}\n","import BN from \"bn.js\";\n\nimport { Account, Contract } from \"near-api-js\";\nimport { DEFAULT_SLIPPAGE, MAX_GAS, PROTOCOL_ACCOUNT_ID, STORAGE_BASE, STORAGE_DEFAULT } from \"../../config\";\nimport { SwapFormValues } from \"../SwapService\";\nimport { connectWallet } from \"../WalletService\";\n\nclass ProtocolContract {\n    contract: Contract;\n\n    constructor(account: Account) {\n        this.contract = new Contract(account, PROTOCOL_ACCOUNT_ID, {\n            viewMethods: [],\n            changeMethods: ['create_market', 'sell', 'exit_pool', 'claim_earnings'],\n        });\n    }\n\n    async createMarket(\n        description: string,\n        outcomes: string[],\n        categories: string[],\n        endDate: Date,\n        swapFee: string,\n        collateralTokenId: string,\n        extraInfo: string,\n        isScalar: boolean,\n    ): Promise<void> {\n        // Each outcome is stored seperatly in near requiring more storage\n        const storageRequired = STORAGE_BASE.mul(new BN(outcomes.length));\n\n        // @ts-ignore\n        this.contract.create_market({\n            description,\n            extra_info: extraInfo,\n            outcomes: outcomes.length,\n            outcome_tags: outcomes,\n            end_time: endDate.getTime().toString(),\n            collateral_token_id: collateralTokenId,\n            categories,\n            swap_fee: swapFee,\n            is_scalar: isScalar,\n        }, MAX_GAS, storageRequired);\n    }\n\n    async exitPool(\n        marketId: string,\n        totalIn: string,\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.exit_pool({\n            market_id: marketId,\n            total_in: totalIn,\n        }, MAX_GAS, STORAGE_BASE);\n    }\n\n    async sell(\n        marketId: string,\n        values: SwapFormValues\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.sell({\n            market_id: marketId,\n            collateral_out: values.amountOut,\n            outcome_target: values.fromToken.outcomeId,\n            max_shares_in: new BN(values.amountIn).mul(new BN(\"100\").add(new BN(DEFAULT_SLIPPAGE))).div(new BN(\"100\")).toString()\n        // }, MAX_GAS, STORAGE_BASE.mul(new BN(2)));\n        }, MAX_GAS, '1');\n    }\n\n    async claimEarnings(\n        marketId: string,\n    ): Promise<void> {\n        // @ts-ignore\n        this.contract.claim_earnings({\n            market_id: marketId,\n        }, MAX_GAS, STORAGE_BASE)\n    }\n}\n\nlet protocolInstance: ProtocolContract;\n\nexport default async function createProtocolContract(): Promise<ProtocolContract> {\n    if (protocolInstance) {\n        return protocolInstance;\n    }\n\n    const wallet = await connectWallet();\n    protocolInstance = new ProtocolContract(wallet.account());\n\n    return protocolInstance;\n}\n","import { gql } from '@apollo/client';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\nimport { format } from 'date-fns';\nimport { DEFAULT_FEE } from '../config';\nimport { Account } from '../models/Account';\nimport { EscrowStatus, transformEscrowStatusViewModel } from \"../models/EscrowStatus\";\n\nimport { GraphMarketResponse, MarketCategory, MarketType, MarketViewModel, transformToMarketViewModel } from '../models/Market';\nimport { TokenMetadata } from '../models/TokenMetadata';\nimport { TokenViewModel, transformToMainTokenViewModel, transformToTokenViewModels } from '../models/TokenViewModel';\nimport { UserBalance } from '../models/UserBalance';\nimport trans from '../translation/trans';\nimport { getAccountInfo, getBalancesForMarketByAccount } from './AccountService';\nimport { createDefaultTokenMetadata, getCollateralTokenMetadata } from './CollateralTokenService';\nimport createProtocolContract from './contracts/ProtocolContract';\nimport { graphqlClient } from './GraphQLService';\nimport { connectSdk } from './WalletService';\n\nexport interface MarketFormValues {\n    type: MarketType;\n    isCategoricalMarket: boolean;\n    categories: MarketCategory[];\n    resolutionDate: Date;\n    description: string;\n    outcomes: string[];\n    extraInfo: string;\n    collateralTokenId: string;\n    lowerBound: Big;\n    upperBound: Big;\n}\n\nfunction createOutcomes(values: MarketFormValues): string[] {\n    if (values.type === MarketType.Categorical) {\n        return values.outcomes;\n    }\n\n    if (values.type === MarketType.Scalar) {\n        return [\n            values.lowerBound.toString(),\n            values.upperBound.toString(),\n        ];\n    }\n\n    return [\n        trans('market.outcomes.yes'),\n        trans('market.outcomes.no'),\n    ];\n}\n\nexport async function createMarket(values: MarketFormValues): Promise<void> {\n    try {\n        const protocol = await createProtocolContract();\n        const outcomes = createOutcomes(values);\n        const tokenMetadata = await getCollateralTokenMetadata(values.collateralTokenId);\n        const formattedFee = 100 / DEFAULT_FEE;\n\n        protocol.createMarket(\n            values.description,\n            outcomes,\n            values.categories,\n            values.resolutionDate,\n            new Big(`1e${tokenMetadata.decimals}`).div(formattedFee).toString(),\n            values.collateralTokenId,\n            values.extraInfo,\n            values.type === MarketType.Scalar,\n        );\n    } catch (error) {\n        console.error('[createMarket]', error);\n    }\n}\n\nexport async function getMarketById(marketId: string): Promise<MarketViewModel | null> {\n    try {\n        const account = await getAccountInfo();\n        const accountId = account?.accountId;\n        const result = await graphqlClient.query({\n            query: gql`\n                query Market($id: String!, $accountId: String) {\n                    market: getMarket(marketId: $id) {\n                        pool {\n                            owner\n                            collateral_token_id\n                            pool_balances {\n                                weight\n                                outcome_id\n                                balance\n                                price\n                                odds\n                            }\n                            tokens_info {\n                                is_pool_token\n                                total_supply\n                            }\n                        }\n                        description\n                        outcome_tags\n                        end_time\n                        extra_info\n                        finalized\n                        id\n                        volume\n                        categories\n                        creation_date\n                        payout_numerator\n                        is_scalar\n                        claimed_earnings(accountId: $accountId) {\n                            payout\n                        }\n                    }\n                }\n            `,\n            variables: {\n                id: marketId,\n                accountId,\n            }\n        });\n\n        const market: GraphMarketResponse = result.data.market;\n        let balances: UserBalance[] = [];\n\n        if (accountId) {\n            balances = await getBalancesForMarketByAccount(accountId, marketId);\n        }\n\n        const collateralToken = await transformToMainTokenViewModel(market.pool.collateral_token_id, accountId);\n\n        return transformToMarketViewModel(market, collateralToken, balances);\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return null;\n    }\n\n}\n\nexport interface MarketFilters {\n    categories?: MarketCategory[];\n    expired?: boolean;\n    finalized?: boolean;\n    limit?: number;\n    offset?: number;\n}\n\nexport async function getMarkets(filters: MarketFilters): Promise<MarketViewModel[]> {\n    try {\n        const result = await graphqlClient.query<any>({\n            query: gql`\n                query Markets($expired: Boolean, $categories: [String], $limit: Int, $offset: Int, $finalized: Boolean) {\n                    market: getMarkets(filters: { expired: $expired, categories: $categories, limit: $limit, offset: $offset, finalized: $finalized }) {\n                        items {\n                            pool {\n                                owner\n                                collateral_token_id\n                                pool_balances {\n                                    weight\n                                    outcome_id\n                                    balance\n                                    price\n                                    odds\n                                }\n                            }\n                            description\n                            outcome_tags\n                            end_time\n                            extra_info\n                            finalized\n                            id\n                            volume\n                            categories\n                            is_scalar\n                        }\n                        total\n                    }\n                }\n            `,\n            variables: {\n                expired: filters.expired,\n                categories: filters.categories,\n                limit: filters.limit,\n                offset: filters.offset,\n                finalized: filters.finalized,\n            }\n        });\n\n        const marketsPromises = result.data.market.items.map(async (market: GraphMarketResponse) => {\n            const collateralToken = await transformToMainTokenViewModel(market.pool.collateral_token_id);\n            return transformToMarketViewModel(market, collateralToken);\n        });\n\n        return Promise.all(marketsPromises);\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n\nexport async function getMarketOutcomeTokens(marketId: string, collateralToken?: TokenViewModel, account?: Account): Promise<TokenViewModel[]> {\n    try {\n        const result = await graphqlClient.query({\n            fetchPolicy: 'network-only',\n            query: gql`\n                query MarketOutcomeTokens($id: String!) {\n                    market: getMarket(marketId: $id) {\n                        pool {\n                            pool_balances {\n                                weight\n                                outcome_id\n                                balance\n                                price\n                                odds\n                            }\n                        }\n                        outcome_tags\n                        is_scalar\n                    }\n                }\n            `,\n            variables: {\n                id: marketId,\n            }\n        });\n\n        const market: GraphMarketResponse = result.data.market;\n        const accountId = account?.accountId;\n        let balances: UserBalance[] = [];\n\n        if (accountId) {\n            balances = await getBalancesForMarketByAccount(accountId, marketId);\n        }\n\n        return transformToTokenViewModels(\n            market.outcome_tags,\n            market.pool.pool_balances as any,\n            balances,\n            market.is_scalar ? MarketType.Scalar : MarketType.Categorical,\n            false,\n            collateralToken,\n        );\n    } catch (error) {\n        console.error('[getMarketOutcomeTokens]', error);\n        return [];\n    }\n}\n\nexport async function getResolutingMarkets(): Promise<MarketViewModel[]> {\n    try {\n        return getMarkets({\n            expired: true,\n            finalized: true,\n        });\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n\nexport async function claimEarningsForMarket(marketId: string) {\n    const protocol = await createProtocolContract();\n    protocol.claimEarnings(marketId);\n}\n\nexport function formatResolutionDate(resolutionDate: Date): string {\n    return format(resolutionDate, 'MMMM d, yyyy HH:mm');\n}\n\n/**\n * Checks whether or not user is eligible for swapping their shares for a collateral token\n *\n * @export\n * @param {TokenViewModel[]} tokens\n * @return {boolean}\n */\nexport function isEligibleForRedeeming(tokens: TokenViewModel[]): boolean {\n    return !tokens.some(token => token.balance === '0');\n}\n\nexport function getEligibleAmountForRedeeming(tokens: TokenViewModel[]): Big {\n    if (!isEligibleForRedeeming(tokens)) {\n        return new Big(0);\n    }\n\n    let lowestBalance = new Big(tokens[0].balance);\n\n    tokens.forEach((token) => {\n        const balance = new Big(token.balance);\n\n        if (balance.lt(lowestBalance)) {\n            lowestBalance = balance;\n        }\n    });\n\n    return lowestBalance;\n}\n\nexport async function burnOutcomeTokensRedeemCollateral(marketId: string, toBurn: string) {\n    const sdk = await connectSdk();\n    await sdk.burnOutcomeTokensRedeemCollateral(marketId, toBurn);\n}\n\nexport async function getTokenWhiteListWithDefaultMetadata(): Promise<TokenMetadata[]> {\n    const sdk = await connectSdk();\n    const whitelist = await sdk.getTokenWhitelist();\n    return whitelist.map(token => createDefaultTokenMetadata(token.tokenId));\n}\n\nexport async function getEscrowStatus(marketId: string, accountId: string): Promise<EscrowStatus[]> {\n    const sdk = await connectSdk();\n    const escrowStatus = await sdk.getEscrowStatus(accountId, marketId)\n    return transformEscrowStatusViewModel(escrowStatus);\n}\n\nexport function getScalarBounds(bounds: Big[]): { lowerBound: Big, upperBound: Big } {\n    const sortedBounds = FluxSdk.utils.sortBig(bounds);\n\n    return {\n        lowerBound: sortedBounds[0],\n        upperBound: sortedBounds[sortedBounds.length - 1],\n    }\n}\n\ninterface ScalarLongShortTokensResult {\n    longToken: TokenViewModel,\n    shortToken: TokenViewModel,\n    lowerBound: Big,\n    upperBound: Big,\n}\n\nexport function getScalarLongShortTokens(tokens: TokenViewModel[]): ScalarLongShortTokensResult {\n    const bounds = getScalarBounds(tokens.map(t => t.bound));\n\n    return {\n        longToken: tokens.find(t => t.bound.eq(bounds.upperBound)) as TokenViewModel,\n        shortToken: tokens.find(t => t.bound.eq(bounds.lowerBound)) as TokenViewModel,\n        lowerBound: bounds.lowerBound,\n        upperBound: bounds.upperBound,\n    }\n}\n","const COLORS = [\n    '--c-green',\n    '--c-red',\n    '--c-light-purple',\n    '--c-pink',\n    '--c-purple',\n    '--c-blue',\n    '--c-medium-blue',\n    '--c-dark-purple',\n];\n\nexport function getColorForOutcome(outcomeId: number, isScalar = false) {\n    if (isScalar && outcomeId === 0) {\n        return COLORS[1];\n    }\n\n    if (isScalar && outcomeId === 1) {\n        return COLORS[0];\n    }\n\n\n    return COLORS[outcomeId];\n}\n","import Big from \"big.js\";\n\nimport { PoolBalanceGraphData, transformToPoolBalanceViewModel } from \"./PoolBalance\";\nimport { formatCollateralToken, getCollateralTokenBalance, getCollateralTokenMetadata, getCollateralTokenPrice } from '../services/CollateralTokenService';\nimport { UserBalance } from \"./UserBalance\";\nimport emojiSlice from \"../utils/emojiSlice\";\nimport { MarketType } from \"./Market\";\nimport { getScalarBounds } from \"../services/MarketService\";\nimport trans from \"../translation/trans\";\nimport { getColorForOutcome } from \"../utils/getColorForOutcome\";\n\nexport interface TokenViewModel {\n    tokenImage?: string;\n    tokenName: string;\n    balance: string;\n    balanceFormatted: string;\n    price: number;\n    priceSymbol: string;\n    priceSymbolPosition: 'left' | 'right';\n    tokenSymbol: string;\n    outcomeId: number;\n    tokenAccountId?: string;\n    poolWeight: Big;\n    poolBalance: string;\n    weight: number;\n    spent: string,\n    odds: Big;\n    decimals: number;\n    isCollateralToken: boolean;\n    bound: Big;\n    colorVar: string;\n}\n\n/**\n * Generates a short token name (max 3 characters) for a token\n *\n * @export\n * @param {string} tokenName\n * @return {string}\n */\nexport function generateTokenName(tokenName: string): string {\n    if (tokenName.length <= 3) {\n        return tokenName.toUpperCase();\n    }\n\n    const splitted = tokenName.split(' ');\n\n    if (splitted.length === 2) {\n        // Takes the first character of every spaced word\n        // so for Kanye West it would be KW\n        return (splitted[0][0] + splitted[1][0]).toUpperCase();\n    } else if (splitted.length === 3) {\n        // Same but for 3 letters\n        return (splitted[0][0] + splitted[1][0] + splitted[2][0]).toUpperCase();\n    }\n\n    return emojiSlice(tokenName, 0, 3).toUpperCase();\n}\n\n/**\n * Transforms to a tokenview model shape\n *\n * @export\n * @param {string[]} tags\n * @param {PoolBalanceGraphData[]} [poolBalanceData=[]]\n * @param {UserBalance[]} userBalances\n * @return {TokenViewModel[]}\n */\nexport function transformToTokenViewModels(\n    tags: string[],\n    poolBalanceData: PoolBalanceGraphData[] = [],\n    userBalances: UserBalance[],\n    type: MarketType,\n    isCollateralToken = false,\n    collateralToken?: TokenViewModel,\n): TokenViewModel[] {\n    const poolBalances = transformToPoolBalanceViewModel(poolBalanceData, tags);\n    const bounds = type === MarketType.Scalar ? getScalarBounds(tags.map(t => new Big(t))) : undefined;\n\n    return tags.map((outcome, outcomeId) => {\n        const poolBalance = poolBalances.find(poolBalance => poolBalance.outcomeId === outcomeId);\n        const userBalance = userBalances.find(userBalance => userBalance.outcomeId === outcomeId);\n        const bound = type === MarketType.Scalar ? new Big(outcome) : new Big(0);\n        const scalarName = bounds?.lowerBound.eq(bound) ? trans('market.outcomes.short') : trans('market.outcomes.long');\n\n        return {\n            balance: userBalance?.balance || '0',\n            balanceFormatted: formatCollateralToken(userBalance?.balance ?? '0', collateralToken?.decimals ?? 18),\n            outcomeId,\n            price: poolBalance?.price || 0,\n            priceSymbol: collateralToken?.tokenSymbol || '$',\n            priceSymbolPosition: 'right',\n            tokenSymbol: type === MarketType.Scalar ? scalarName : generateTokenName(outcome),\n            tokenName: type === MarketType.Scalar ? scalarName : outcome,\n            poolBalance: poolBalance?.poolBalance || \"0\",\n            poolWeight: poolBalance?.poolWeight || new Big(0),\n            weight: poolBalance?.weight || 0,\n            spent: userBalance?.spent ?? \"0\",\n            decimals: collateralToken?.decimals ?? 18,\n            odds: poolBalance?.odds || new Big(0),\n            isCollateralToken,\n            bound,\n            colorVar: getColorForOutcome(outcomeId, type === MarketType.Scalar),\n        };\n    });\n}\n\n/**\n * Used for the collateralToken fills some information to keep the shape of TokenViewModel\n *\n * @export\n * @param {string} collateralTokenAccountId\n * @param {string} [accountId]\n * @param {boolean} [fetchPrice=true]\n * @return {Promise<TokenViewModel>}\n */\nexport async function transformToMainTokenViewModel(\n    collateralTokenAccountId: string,\n    accountId?: string,\n    fetchPrice = true\n): Promise<TokenViewModel> {\n    let balance = '0';\n\n    const metadataRequest = getCollateralTokenMetadata(collateralTokenAccountId);\n\n    if (accountId) {\n        balance = await getCollateralTokenBalance(collateralTokenAccountId, accountId);\n    }\n\n    const metadata = await metadataRequest;\n\n    return {\n        balance,\n        balanceFormatted: formatCollateralToken(balance, metadata.decimals),\n        decimals: metadata.decimals,\n        outcomeId: NaN,\n        poolWeight: new Big(0),\n        price: fetchPrice ? await getCollateralTokenPrice(collateralTokenAccountId) : 0,\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        tokenName: metadata.name,\n        tokenSymbol: metadata.symbol,\n        spent: \"0\",\n        poolBalance: \"\",\n        weight: 0,\n        tokenAccountId: collateralTokenAccountId,\n        odds: new Big(0),\n        isCollateralToken: true,\n        tokenImage: metadata.tokenImage,\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    };\n}\n","/**\n * slices a string and assumes that an emoji is 1 character instead of a unicode string\n *\n * @export\n * @param {string} str\n * @param {number} start\n * @param {number} end\n * @return {string}\n */\nexport default function emojiSlice(str: string, start: number, end: number): string {\n    var arr = str.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^\\uD800-\\uDFFF]/g) || [];\n    return arr.slice(start, end).join('');\n};\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { generateTokenName } from '../../models/TokenViewModel';\n\nimport s from './Token.module.scss';\n\ninterface Props {\n    className?: string;\n    tokenImage?: string;\n    tokenName: string;\n    colorVar?: string;\n}\n\nexport default function Token({\n    tokenName,\n    tokenImage,\n    colorVar = '--c-primary',\n    className = '',\n}: Props): ReactElement {\n    return (\n        <div style={{ backgroundColor: `var(${colorVar})`, }} className={classnames(s.token, className)}>\n            {tokenImage && <img className={s.tokenImage} src={tokenImage} alt={tokenName} />}\n            {!tokenImage && generateTokenName(tokenName)}\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './NonLinkButton.module.scss';\n\ntype HTMLButtonProps = JSX.IntrinsicElements['button'];\n\ninterface Props extends HTMLButtonProps {\n\n}\n\nexport default function NonLinkButton({\n    children,\n    className = '',\n    ...props\n}: Props): ReactElement {\n    return (\n        <button {...props} className={classnames(s['non-link-button'], className)}>\n            {children}\n        </button>\n    );\n}\n","import React from 'react';\nimport Token from '../../../../components/Token';\nimport { TokenViewModel } from '../../../../models/TokenViewModel';\nimport trans from '../../../../translation/trans';\n\nimport s from './TokenDropdown.module.scss';\n\ninterface Props {\n    tokens: TokenViewModel[];\n    onTokenClick: (token: TokenViewModel) => void;\n}\n\nexport default function TokenDropdown({\n    tokens,\n    onTokenClick,\n}: Props) {\n    return (\n        <div className={s['token-dropdown']}>\n            <div className={s['token-dropdown__fake-top']} />\n            <div className={s['token-dropdown__content']}>\n                <div className={s['token-dropdown__balance']}>\n                    {trans('global.balance')}\n                </div>\n                <div className={s['token-dropdown__tokens']}>\n                    {tokens.map((token) => (\n                        <button key={token.tokenName} onClick={() => onTokenClick(token)} className={s['token-dropdown__token']}>\n                            <div className={s['token-dropdown__token-info']}>\n                                <Token colorVar={token.colorVar} tokenName={token.tokenName} className={s['token-dropdown__token-icon']} />\n                                <span>{token.tokenName}</span>\n                            </div>\n                            <div className={s['token-dropdown__token-balance']}>\n                                {token.balanceFormatted}\n                            </div>\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useState } from 'react';\nimport classnames from 'classnames';\n\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\nimport s from './TokenSelect.module.scss';\nimport trans from '../../translation/trans';\nimport Token from '../../components/Token';\nimport NonLinkButton from '../../components/NonLinkButton';\nimport TokenDropdown from './components/TokenDropdown/TokenDropdown';\n\nexport interface TokenSelectProps {\n    className?: string;\n    selectedToken: TokenViewModel;\n    tokens: TokenViewModel[];\n    value: string;\n    error?: string;\n    showPrice?: boolean;\n    onValueChange?: (newValue: string) => void;\n    onTokenSwitch: (token: TokenViewModel) => void;\n    placeholder?: string;\n    disabledInput?: boolean;\n    newPrice?: number;\n}\n\nexport default function TokenSelect({\n    selectedToken,\n    tokens,\n    value,\n    onTokenSwitch,\n    newPrice,\n    onValueChange = () => {},\n    showPrice = true,\n    className = '',\n    placeholder = '0',\n    disabledInput = false,\n}: TokenSelectProps) {\n    const [isDropdownOpen, setDropdownOpen] = useState(false);\n\n    const handleChangePairClick = useCallback(() => {\n        setDropdownOpen(!isDropdownOpen);\n    }, [isDropdownOpen]);\n\n    const handleTokenClick = useCallback((token: TokenViewModel) => {\n        setDropdownOpen(false);\n        onTokenSwitch(token);\n    }, [onTokenSwitch]);\n\n    const priceClassName = classnames(s.price, {\n        [s['price--symbol-right']]: selectedToken.priceSymbolPosition === 'right',\n    });\n\n    return (\n        <div className={classnames(s['token-select'], className)}>\n            <div className={s['token-select__info']}>\n                <span>{selectedToken.tokenName}</span>\n                {showPrice && (\n                    <span className={priceClassName}>\n                        <span className={s.priceSymbol}>{selectedToken.priceSymbol}</span>\n                        <span className={s.priceChangeWrapper}>\n                            <span>{selectedToken.price.toFixed(3)}</span>\n                            {newPrice && (\n                                <>\n                                    <span>➔</span>\n                                    <span>{newPrice.toFixed(3)}</span>\n                                </>\n                            )}\n                        </span>\n                    </span>\n                )}\n                {!showPrice && <span />}\n            </div>\n            <div className={s['token-select__inputs']}>\n                <div className={s['token-select__inputs-info']}>\n                    <Token\n                        tokenName={selectedToken.tokenName}\n                        tokenImage={selectedToken.tokenImage}\n                        colorVar={selectedToken.colorVar}\n                        className={s['token-select__token-icon']}\n                    />\n\n                    {tokens.length === 1 && (\n                        <span className={s['token-select__token-name']}>{selectedToken.tokenSymbol}</span>\n                    )}\n\n                    {tokens.length > 1 && (\n                        <NonLinkButton type=\"button\" onClick={handleChangePairClick} className={s.changePairButton}>\n                            {isDropdownOpen ? trans('global.action.cancel') : trans('market.action.changeTradingPair')}\n                        </NonLinkButton>\n                    )}\n                </div>\n                <input\n                    type=\"number\"\n                    value={value}\n                    placeholder={placeholder}\n                    disabled={disabledInput}\n                    className={s['token-select__input']}\n                    onChange={(e) => onValueChange(e.target.value)}\n                />\n            </div>\n            {tokens.length > 1 && isDropdownOpen && (\n                <TokenDropdown onTokenClick={handleTokenClick} tokens={tokens} />\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport TextButton from '../../components/TextButton';\nimport trans from '../../translation/trans';\n\nimport TokenSelect, { TokenSelectProps } from '../TokenSelect/TokenSelect';\n\nimport s from './LabeledTokenSelect.module.scss';\n\ninterface Props extends TokenSelectProps {\n    label: string;\n    onBalanceClick?: () => void;\n}\n\nexport default function LabeledTokenSelect({\n    label,\n    selectedToken,\n    onBalanceClick,\n    ...props\n}: Props) {\n    return (\n        <div>\n            <div className={classnames(s.tokenHeader, s.noMargin)}>\n                <span>{label}</span>\n                <TextButton disabled={!Boolean(onBalanceClick)} onClick={onBalanceClick} className={s.balanceButton}>\n                    {trans('global.balance', {}, true)}: {selectedToken.balanceFormatted}\n                </TextButton>\n            </div>\n            <TokenSelect\n                {...props}\n                selectedToken={selectedToken}\n            />\n        </div>\n    );\n}\n","import React, { ReactElement, useState } from 'react';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\n\nimport Error from '../../components/Error';\nimport IconButton from '../../components/IconButton';\nimport Dialog from '../../compositions/Dialog';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { WrapNearFormValues } from '../../services/NearService';\nimport trans from '../../translation/trans';\nimport swap from \"./../../assets/images/icons/swap.svg\";\nimport createDefaultWrapNearFormValues from './utils/createDefaultWrapNearFormValues';\nimport validateWrapNearFormValues from './utils/validateWrapNearFormValues';\nimport Button from '../../components/Button';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\nimport s from './WrapNearDialog.module.scss';\n\ninterface Props {\n    open: boolean;\n    onRequestClose: () => void;\n    onRequestSwitchPairs: () => void;\n    onSubmit: (formValues: WrapNearFormValues) => void;\n    input: TokenViewModel;\n    output: TokenViewModel;\n    requiredDeposit: string;\n    onDepositClick: () => void;\n}\n\nexport default function WrapNearDialog({\n    open,\n    onRequestClose,\n    onRequestSwitchPairs,\n    onSubmit,\n    input,\n    output,\n    requiredDeposit,\n    onDepositClick,\n}: Props): ReactElement {\n    const [formValues, setFormValues] = useState(createDefaultWrapNearFormValues());\n\n    function handleSwitchTokenPlaces() {\n        const wrapType = formValues.type === 'unwrap' ? 'wrap' : 'unwrap';\n\n        setFormValues({\n            ...formValues,\n            amountInFormatted: '0',\n            amountIn: '0',\n            type: wrapType,\n        });\n\n        onRequestSwitchPairs();\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            amountIn: input.balance,\n            amountInFormatted: FluxSdk.utils.formatToken(input.balance, input.decimals, 2),\n        });\n    }\n\n    function handleInputChange(value: string) {\n        setFormValues({\n            ...formValues,\n            amountIn: value !== '' ? FluxSdk.utils.toToken(value, input.decimals) : '0',\n            amountInFormatted: value,\n        });\n    }\n\n    function handleSubmit() {\n        onSubmit(formValues);\n    }\n\n    const errors = validateWrapNearFormValues(formValues, input);\n\n    return (\n        <Dialog\n            title={trans('wrapNearDialog.title')}\n            open={open}\n            onRequestClose={onRequestClose}\n            onSubmitClick={handleSubmit}\n            canSubmit={errors.canSubmit}\n            hideButtons={requiredDeposit !== '0'}\n        >\n\n            {requiredDeposit === '0' && (\n                <>\n                    <p>{trans('wrapNearDialog.description')}</p>\n                    <div className={s.token}>\n                        <LabeledTokenSelect\n                            label={trans('market.label.youPay')}\n                            onTokenSwitch={() => { }}\n                            value={formValues.amountInFormatted}\n                            tokens={[input]}\n                            selectedToken={input}\n                            onValueChange={(v) => handleInputChange(v)}\n                            showPrice={false}\n                            onBalanceClick={handleBalanceClick}\n                        />\n                    </div>\n\n                    <div className={s.switchTokens}>\n                        <IconButton onClick={handleSwitchTokenPlaces} icon={swap} alt={trans('market.action.switchTokens')} />\n                    </div>\n\n                    <div className={s.token}>\n                        <LabeledTokenSelect\n                            label={trans('market.label.youReceive')}\n                            onTokenSwitch={() => { }}\n                            value={formValues.amountInFormatted}\n                            tokens={[output]}\n                            selectedToken={output}\n                            disabledInput\n                            showPrice={false}\n                        />\n                    </div>\n                </>\n            )}\n\n            {requiredDeposit !== '0' && (\n                <>\n                    <p>{trans('wrapNearDialog.requiredDeposit.description', { amount: FluxSdk.utils.formatToken(requiredDeposit, 24, 5) })}</p>\n                    <div className={s.depositButtons}>\n                        <Button className={s.depositCancelButton} onClick={onDepositClick}>{trans('global.action.cancel')}</Button>\n                        <Button onClick={onDepositClick}>{trans('wrapNearDialog.requiredDeposit.submit', { amount: FluxSdk.utils.formatToken(requiredDeposit, 24, 5) })}</Button>\n                    </div>\n                </>\n            )}\n\n            <Error error={errors.amountIn} />\n        </Dialog>\n    );\n}\n","import { WrapNearFormValues } from \"../../../services/NearService\";\n\nexport default function createDefaultWrapNearFormValues(): WrapNearFormValues {\n    return {\n        amountIn: '0',\n        amountInFormatted: '0',\n        type: 'wrap',\n    };\n}\n","import Big from \"big.js\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { WrapNearFormValues } from \"../../../services/NearService\";\nimport trans from \"../../../translation/trans\";\n\ninterface WrapNearFormErrors {\n    amountIn: string;\n    canSubmit: boolean;\n}\n\n\nexport default function validateWrapNearFormValues(formValues: WrapNearFormValues, inputToken: TokenViewModel): WrapNearFormErrors {\n    const errors: WrapNearFormErrors = {\n        amountIn: '',\n        canSubmit: true,\n    };\n\n    if (formValues.type === 'wrap' && formValues.amountIn === inputToken.balance) {\n        errors.amountIn = trans('wrapNearDialog.errors.amountIn.exactBalance');\n        errors.canSubmit = false;\n    }\n\n    if (formValues.amountIn !== '' && inputToken.balance !== '') {\n        if (new Big(formValues.amountIn).lte(0)) {\n            errors.canSubmit = false;\n        }\n\n        if (new Big(formValues.amountIn).gt(inputToken.balance)) {\n            errors.canSubmit = false;\n            errors.amountIn = trans('wrapNearDialog.errors.amountIn.notEnoughBalance');\n        }\n    }\n\n    return errors;\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport WrapNearDialog from '../../containers/WrapNearDialog';\nimport { loadNearBalances } from '../../redux/account/accountActions';\nimport { setWrappingNearDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\nimport { depositWrappedNearStorage, unwrapNear, wrapNear, WrapNearFormValues } from '../../services/NearService';\n\n\nexport default function WrapNearDialogConnector() {\n    const dispatch = useDispatch();\n    const [switched, setSwitched] = useState(false);\n    const isDialogOpen = useSelector((store: Reducers) => store.dialogs.isWrappingNearOpen);\n    const nearToken = useSelector((store: Reducers) => store.account.nearToken);\n    const wrappedNearToken = useSelector((store: Reducers) => store.account.wrappedNearToken);\n    const requiredDeposit = useSelector((store: Reducers) => store.account.requiredWrappedNearDeposit);\n\n    const handleRequestCloseDialog = useCallback(() => {\n        dispatch(setWrappingNearDialogOpen(false));\n    }, [dispatch]);\n\n    useEffect(() => {\n        dispatch(loadNearBalances());\n    }, [dispatch, isDialogOpen]);\n\n    const handleRequestSwitchPairs = useCallback(() => {\n        setSwitched(!switched);\n    }, [switched]);\n\n    const handleSubmit = useCallback((formValues: WrapNearFormValues) => {\n        if (formValues.type === 'wrap') {\n            wrapNear(formValues.amountIn);\n        } else {\n            unwrapNear(formValues.amountIn);\n        }\n    }, []);\n\n    const handleDepositClick = useCallback(() => {\n        if (!requiredDeposit) return;\n\n        depositWrappedNearStorage(requiredDeposit);\n    }, [requiredDeposit]);\n\n    if (!nearToken || !wrappedNearToken) {\n        return <div />;\n    }\n\n    return (\n        <WrapNearDialog\n            open={isDialogOpen}\n            onRequestClose={handleRequestCloseDialog}\n            onSubmit={handleSubmit}\n            onRequestSwitchPairs={handleRequestSwitchPairs}\n            input={switched ? wrappedNearToken : nearToken}\n            output={switched ? nearToken : wrappedNearToken}\n            requiredDeposit={requiredDeposit ?? '0'}\n            onDepositClick={handleDepositClick}\n        />\n    );\n}\n","import React from 'react';\nimport Button from '../../components/Button';\nimport Dialog from '../../compositions/Dialog';\nimport trans from '../../translation/trans';\n\nimport s from './DisclaimerDialog.module.scss';\n\ninterface Props {\n    open: boolean;\n    onRequestClose: () => void;\n}\n\nexport default function DisclaimerDialog({\n    open,\n    onRequestClose,\n}: Props) {\n    return (\n        <Dialog paperClassName={s.dialog} title={trans('disclaimer.title')} hideButtons open={open} onRequestClose={() => {}} onSubmitClick={() => {}}>\n            <p className={s.description}>{trans('disclaimer.description')}</p>\n            <Button className={s.button} onClick={onRequestClose}>{trans('disclaimer.action.accept')}</Button>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport DisclaimerDialog from '../../containers/DisclaimerDialog';\n\nconst DISCLAIMER_STORAGE_KEY = 'flux_accepted_disclaimer';\n\nexport default function DisclaimerDialogConnector() {\n    const [open, setOpen] = useState(false);\n\n    useEffect(() => {\n        const hasAccepted = !!localStorage.getItem(DISCLAIMER_STORAGE_KEY);\n\n        if (!hasAccepted) {\n            setOpen(true);\n        }\n    }, []);\n\n    const handleClose = useCallback(() => {\n        localStorage.setItem(DISCLAIMER_STORAGE_KEY, 'yes');\n        setOpen(false);\n    }, []);\n\n    return (\n        <DisclaimerDialog\n            open={open}\n            onRequestClose={handleClose}\n        />\n    );\n}\n","import React, { PropsWithChildren, ReactElement, useEffect } from \"react\";\nimport classnames from 'classnames';\n\nimport Footer from \"../Footer\";\nimport MenuConnector from \"../../connectors/MenuConnector\";\n\nimport styles from './Page.module.scss';\nimport WrapNearDialogConnector from \"../../connectors/WrapNearDialogConnector\";\nimport { setDarkmode } from \"../../utils/darkmode\";\nimport DisclaimerDialogConnector from \"../../connectors/DisclaimerDialogConnector\";\ninterface Props {\n    className?: string;\n    bodyClassName?: string;\n    hasNavigation?: boolean;\n    hasFooter?: boolean;\n    size?: 'large' | 'medium' | 'unrestricted';\n}\n\nexport default function Page({\n    children,\n    hasNavigation = true,\n    hasFooter = true,\n    size = 'medium',\n    className = '',\n    bodyClassName = '',\n}: PropsWithChildren<Props>): ReactElement {\n    const pageBodyClassName = classnames(styles.page__body, bodyClassName, {\n        [styles['page__body--large']]: size === 'large',\n        [styles['page__body--unrestricted']]: size === 'unrestricted',\n    });\n\n    useEffect(() => {\n        setDarkmode(false);\n    }, []);\n\n    return (\n        <div className={`${styles.page} ${className}`}>\n            {/* Normally don't put connectors in containers.. */}\n            {hasNavigation && <MenuConnector />}\n            <WrapNearDialogConnector />\n            <DisclaimerDialogConnector />\n            <main className={pageBodyClassName}>\n                {children}\n            </main>\n            {hasFooter && <Footer />}\n        </div>\n    );\n}\n","import Big from \"big.js\";\n\n// Using Omen's utility functions adjusted where necessary \n\nexport const calcDistributionHint = (initialOdds: number[]): Big[] => {\n    if (initialOdds.some(x => x === 0)) {\n        throw new Error(\"Invalid probability - can't assign a probability of zero to an outcome\");\n    }\n\n    const initialOddsBig = initialOdds.map(x => new Big(x));\n    const product = initialOddsBig.reduce((a, b) => a.mul(b));\n\n    const distributionHint = initialOddsBig\n        .map(o => product.div(o))\n        .map(x => x.mul(1000000).round())\n        .map(x => new Big(x.toString()));\n\n    return distributionHint;\n};\n","import BN from \"bn.js\";\n\nimport { Account, Contract } from \"near-api-js\";\nimport { DEFAULT_SLIPPAGE, MAX_GAS, PROTOCOL_ACCOUNT_ID, STORAGE_BASE, STORAGE_DEFAULT } from \"../../config\";\nimport { SwapFormValues } from \"../SwapService\";\nimport { connectWallet } from \"../WalletService\";\n\nexport class TokenContract {\n    contract: Contract;\n\n    constructor(account: Account, tokenAccountId: string) {\n        this.contract = new Contract(account, tokenAccountId, {\n            viewMethods: ['ft_balance_of'],\n            changeMethods: ['ft_transfer_call', 'register_account'],\n        });\n    }\n\n    async registerAccount(accountId = this.contract.account.accountId) {\n        // @ts-ignore\n        return this.contract.register_account({\n            account_id: accountId,\n        },\n            MAX_GAS,\n            STORAGE_DEFAULT,\n        );\n    }\n\n    async getBalance(accountId: string): Promise<void> {\n        // @ts-ignore\n        return this.contract.ft_balance_of({account_id: accountId});\n    }\n\n    async buy(\n        marketId: string,\n        values: SwapFormValues\n    ): Promise<void> {\n        let msg = JSON.stringify({\n            function: \"buy\",\n            args: {\n                market_id: marketId,\n                outcome_target: values.toToken.outcomeId,\n                min_shares_out: new BN(values.amountOut).mul(new BN(\"100\").sub(new BN(DEFAULT_SLIPPAGE))).div(new BN(\"100\")).toString() // TODO: add default slippage check to amountOut and make it expectedAmountOut\n            }\n        });\n\n        // @ts-ignore\n        return this.contract.ft_transfer_call({\n                receiver_id: PROTOCOL_ACCOUNT_ID,\n                amount: values.amountIn,\n                msg,\n            },\n            MAX_GAS,\n            new BN(1),\n            // STORAGE_BASE.mul(new BN(2)),\n        );\n    }\n\n    async addLiquidity(marketId: string, amountIn: string, weightIndication: string[] = []) {\n        let msg = JSON.stringify({\n            function: \"add_liquidity\",\n            args: {\n                market_id: marketId,\n                weight_indication: weightIndication.length ? weightIndication : null,\n            }\n        });\n\n        // Each weight is used seperatly in near requiring more storage\n        const storageRequired = new BN('80000000000000000000000').mul(new BN(weightIndication.length));\n\n        // @ts-ignore\n        return this.contract.ft_transfer_call({\n            receiver_id: PROTOCOL_ACCOUNT_ID,\n            amount: amountIn,\n            msg\n        },\n            MAX_GAS,\n            new BN(1),\n            // storageRequired,\n        );\n    }\n}\n\nlet tokenInstances: Map<string, TokenContract> = new Map();\n\n// @ts-ignore\nwindow.createTokenContract = createTokenContract;\n\nexport default async function createTokenContract(tokenAccountId: string): Promise<TokenContract> {\n    const instance = tokenInstances.get(tokenAccountId)\n    if (instance) {\n        return instance;\n    }\n\n    const wallet = await connectWallet();\n    const newInstance = new TokenContract(wallet.account(), tokenAccountId);\n\n    tokenInstances.set(tokenAccountId, newInstance);\n\n    return newInstance;\n}\n","import FluxSdk from \"@fluxprotocol/amm-sdk\";\nimport Big from \"big.js\";\nimport { MarketViewModel } from \"../models/Market\";\nimport { calcDistributionHint } from \"../utils/calcDistributionHint\";\nimport createProtocolContract from \"./contracts/ProtocolContract\";\nimport createTokenContract from \"./contracts/TokenContract\";\nimport { getScalarBounds } from \"./MarketService\";\nimport { connectSdk } from \"./WalletService\";\n\nexport interface SeedPoolFormValues {\n    outcomePercentages: string[];\n    mainTokenInput: string;\n    mainTokenInputFormatted: string;\n}\n\nexport interface SeedScalarMarketFormValues {\n    initialValue: Big;\n    mainTokenInput: string;\n    mainTokenInputFormatted: string;\n}\n\nexport async function seedPool(marketId: string, tokenId: string, values: SeedPoolFormValues) {\n    const token = await createTokenContract(tokenId);\n    const weights = calcDistributionHint(values.outcomePercentages.map(p => Number(p)));\n\n    token.addLiquidity(\n        marketId,\n        values.mainTokenInput,\n        weights.map(outcome => outcome.toString())\n    );\n}\n\nexport async function seedScalarMarket(market: MarketViewModel, values: SeedScalarMarketFormValues) {\n    const token = await createTokenContract(market.collateralTokenId);\n    const bounds = getScalarBounds(market.outcomeTokens.map(token => token.bound));\n    const weightsInPercentages = FluxSdk.utils.calcScalarDistributionPercentages(values.initialValue, bounds.lowerBound, bounds.upperBound);\n    const weights = FluxSdk.utils.calcDistributionHint(weightsInPercentages).map(v => v.toString());\n    return token.addLiquidity(market.id, values.mainTokenInput, weights);\n}\n\nexport async function joinPool(marketId: string, amountIn: string, tokenId: string) {\n    const token = await createTokenContract(tokenId);\n    token.addLiquidity(marketId, amountIn);\n}\n\nexport async function exitPool(marketId: string, amountIn: string) {\n    const token = await createProtocolContract();\n\n    token.exitPool(marketId, amountIn);\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { EscrowStatus } from '../../models/EscrowStatus';\nimport { MarketViewModel } from '../../models/Market';\nimport { PoolToken } from '../../models/PoolToken';\nimport { TokenMetadata } from '../../models/TokenMetadata';\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\nexport type MarketState = Readonly<{\n    markets: MarketViewModel[];\n    resolutingMarkets: MarketViewModel[];\n    pendingMarkets: MarketViewModel[];\n    marketDetail?: MarketViewModel;\n    escrowStatus: EscrowStatus[];\n    marketError?: string[];\n    marketLoading: boolean;\n    editLoading: boolean,\n    poolTokenBalance?: PoolToken;\n    tokenWhitelist: TokenMetadata[];\n}>;\n\nconst initialState: MarketState = {\n    marketLoading: false,\n    editLoading: false,\n    markets: [],\n    pendingMarkets: [],\n    escrowStatus: [],\n    resolutingMarkets: [],\n    tokenWhitelist: [],\n};\n\nconst marketsSlice = createSlice({\n    initialState,\n    name: 'markets',\n    reducers: {\n        setMarketErrors(state: MarketState, action: PayloadAction<string[]>): MarketState {\n            return ({\n                ...state,\n                marketError: action.payload,\n            });\n        },\n        setTokenWhitelist(state: MarketState, action: PayloadAction<TokenMetadata[]>): MarketState {\n            return ({\n                ...state,\n                tokenWhitelist: action.payload,\n            });\n        },\n        setMarketLoading(state: MarketState, action: PayloadAction<boolean>): MarketState {\n            return ({\n                ...state,\n                marketLoading: action.payload,\n            });\n        },\n        setMarketEditLoading(state: MarketState, action: PayloadAction<boolean>): MarketState {\n            return ({\n                ...state,\n                editLoading: action.payload,\n            });\n        },\n        setPendingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                pendingMarkets: action.payload,\n            });\n        },\n        appendPendingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                pendingMarkets: [...action.payload, ...state.pendingMarkets],\n            });\n        },\n        setMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                markets: action.payload,\n            });\n        },\n        appendMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                markets: [...action.payload, ...state.markets],\n            });\n        },\n        setResolutingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                resolutingMarkets: action.payload,\n            });\n        },\n        appendResolutingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                resolutingMarkets: [...action.payload, ...state.resolutingMarkets],\n            });\n        },\n        setMarketDetail(state: MarketState, action: PayloadAction<MarketViewModel | undefined>): MarketState {\n            return ({\n                ...state,\n                marketDetail: action.payload,\n            });\n        },\n        setMarketDetailTokens(state: MarketState, action: PayloadAction<TokenViewModel[]>): MarketState {\n            if (!state.marketDetail) {\n                return state;\n            }\n\n            return ({\n                ...state,\n                marketDetail: {\n                    ...state.marketDetail,\n                    outcomeTokens: action.payload,\n                },\n            });\n        },\n        setMarketPoolTokenBalance(state: MarketState, action: PayloadAction<PoolToken | undefined>): MarketState {\n            return ({\n                ...state,\n                poolTokenBalance: action.payload,\n            });\n        },\n        setMarketEscrowStatus(state: MarketState, action: PayloadAction<EscrowStatus[]>): MarketState {\n            return ({\n                ...state,\n                escrowStatus: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setMarketErrors,\n    setMarketLoading,\n    setMarkets,\n    setResolutingMarkets,\n    setMarketDetail,\n    setMarketEditLoading,\n    appendMarkets,\n    setMarketPoolTokenBalance,\n    setMarketDetailTokens,\n    setTokenWhitelist,\n    appendPendingMarkets,\n    setPendingMarkets,\n    appendResolutingMarkets,\n    setMarketEscrowStatus,\n} = marketsSlice.actions;\n\nexport default marketsSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/circle-crypto.369b0cdb.png\";","export default __webpack_public_path__ + \"static/media/card-crypto.bf8db90b.png\";","export default __webpack_public_path__ + \"static/media/icon-crypto.c48fc772.png\";","export default __webpack_public_path__ + \"static/media/circle-esports.590ba279.png\";","export default __webpack_public_path__ + \"static/media/card-esports.8d48d09a.png\";","export default __webpack_public_path__ + \"static/media/icon-esports.e99b62e2.png\";","export default __webpack_public_path__ + \"static/media/circle-meme.529c4322.png\";","export default __webpack_public_path__ + \"static/media/card-meme.f06faaf2.png\";","export default __webpack_public_path__ + \"static/media/icon-meme.3779da1b.png\";","export default __webpack_public_path__ + \"static/media/circle-politics.1414be74.png\";","export default __webpack_public_path__ + \"static/media/card-politics.111b8d29.png\";","export default __webpack_public_path__ + \"static/media/icon-politics.b9270914.png\";","export default __webpack_public_path__ + \"static/media/circle-sports.33c5c70f.png\";","export default __webpack_public_path__ + \"static/media/card-sports.33a1b431.png\";","export default __webpack_public_path__ + \"static/media/icon-sports.ef9bf0ac.png\";","export default __webpack_public_path__ + \"static/media/circle-startups.fbb6d89b.png\";","export default __webpack_public_path__ + \"static/media/card-startups.5109215d.png\";","export default __webpack_public_path__ + \"static/media/icon-startups.1be65d04.png\";","export default __webpack_public_path__ + \"static/media/circle-stocks.45134b15.png\";","export default __webpack_public_path__ + \"static/media/card-stockmarket.9a6bbb30.png\";","export default __webpack_public_path__ + \"static/media/icon-stockmarket.3ae8c898.png\";","export default __webpack_public_path__ + \"static/media/circle-viral.f35235ce.png\";","export default __webpack_public_path__ + \"static/media/card-viral.322ccb42.png\";","export default __webpack_public_path__ + \"static/media/icon-viral.4ba61e8a.png\";","export default __webpack_public_path__ + \"static/media/card-beer.6ac3cfd7.png\";","export default __webpack_public_path__ + \"static/media/circle-beer.a5c453f6.png\";","export default __webpack_public_path__ + \"static/media/icon-beer.6e18acab.svg\";","import circleCrypto from '../assets/images/circle-crypto.png';\nimport cardCrypto from '../assets/images/card-crypto.png';\nimport iconCrypto from '../assets/images/icons/icon-crypto.png';\n\nimport circleEsports from '../assets/images/circle-esports.png';\nimport cardEsports from '../assets/images/card-esports.png';\nimport iconEsports from '../assets/images/icons/icon-esports.png';\n\nimport circleMeme from '../assets/images/circle-meme.png';\nimport cardMeme from '../assets/images/card-meme.png';\nimport iconMeme from '../assets/images/icons/icon-meme.png';\n\nimport circlePolitics from '../assets/images/circle-politics.png';\nimport cardPolitics from '../assets/images/card-politics.png';\nimport iconPolitics from '../assets/images/icons/icon-politics.png';\n\nimport circleSports from '../assets/images/circle-sports.png';\nimport cardSports from '../assets/images/card-sports.png';\nimport iconSports from '../assets/images/icons/icon-sports.png';\n\nimport circleStartups from '../assets/images/circle-startups.png';\nimport cardStartups from '../assets/images/card-startups.png';\nimport iconStartups from '../assets/images/icons/icon-startups.png';\n\nimport circleStocks from '../assets/images/circle-stocks.png';\nimport cardStocks from '../assets/images/card-stockmarket.png';\nimport iconStocks from '../assets/images/icons/icon-stockmarket.png';\n\nimport circleViral from '../assets/images/circle-viral.png';\nimport cardViral from '../assets/images/card-viral.png';\nimport iconViral from '../assets/images/icons/icon-viral.png';\n\nimport cardBeer from '../assets/images/card-beer.png';\nimport circleBeer from '../assets/images/circle-beer.png';\nimport iconBeer from '../assets/images/icons/icon-beer.svg';\n\nimport { MarketCategory } from \"../models/Market\";\nimport trans from '../translation/trans';\n\ninterface CategoryInfo {\n    icon: string;\n    cardIcon: string;\n    circleIcon: string;\n    category: MarketCategory;\n    title?: string;\n    color: string;\n}\n\nexport default function getCategoryInfo(category?: MarketCategory | string): CategoryInfo {\n    switch (category) {\n        case MarketCategory.Crypto:\n            return {\n                circleIcon: circleCrypto,\n                category,\n                cardIcon: cardCrypto,\n                icon: iconCrypto,\n                title: trans('market.category.crypto'),\n                color: '#5400FF',\n            };\n        case MarketCategory.Esports:\n            return {\n                circleIcon: circleEsports,\n                category,\n                cardIcon: cardEsports,\n                icon: iconEsports,\n                title: trans('market.category.esports'),\n                color: '#4C6BF5',\n            };\n        case MarketCategory.Meme:\n            return {\n                circleIcon: circleMeme,\n                category,\n                cardIcon: cardMeme,\n                icon: iconMeme,\n                title: trans('market.category.meme'),\n                color: '#FF00FD',\n            };\n        case MarketCategory.Politics:\n            return {\n                circleIcon: circlePolitics,\n                category,\n                cardIcon: cardPolitics,\n                icon: iconPolitics,\n                title: trans('market.category.politics'),\n                color: '#0004FF',\n            };\n        case MarketCategory.Sports:\n            return {\n                circleIcon: circleSports,\n                category,\n                cardIcon: cardSports,\n                icon: iconSports,\n                title: trans('market.category.sports'),\n                color: '#FF1958',\n            };\n        case MarketCategory.Startups:\n            return {\n                circleIcon: circleStartups,\n                category,\n                cardIcon: cardStartups,\n                icon: iconStartups,\n                title: trans('market.category.startups'),\n                color: '#7400DA',\n            };\n        case MarketCategory.Stocks:\n            return {\n                circleIcon: circleStocks,\n                category,\n                cardIcon: cardStocks,\n                icon: iconStocks,\n                title: trans('market.category.stocks'),\n                color: '#C45DFF',\n            };\n        case MarketCategory.Viral:\n            return {\n                circleIcon: circleViral,\n                category,\n                cardIcon: cardViral,\n                icon: iconViral,\n                title: trans('market.category.viral'),\n                color: '#FF009C',\n            };\n        case MarketCategory.Beer:\n            return {\n                circleIcon: circleBeer,\n                category,\n                cardIcon: cardBeer,\n                icon: iconBeer,\n                title: trans('market.category.beer'),\n                color: '#47A8BD',\n            };\n        default:\n            return {\n                circleIcon: circleStocks,\n                category: MarketCategory.Unknown,\n                cardIcon: cardStocks,\n                icon: iconStocks,\n                title: category,\n                color: '#C45DFF',\n            };\n    }\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\n\nimport { MarketCategory } from '../../models/Market';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\n\nimport s from './Tag.module.scss';\n\ninterface Props {\n    category?: MarketCategory | string;\n    className?: string;\n    active?: boolean;\n    type?: 'label' | 'button';\n    onClick?: () => void;\n}\n\nexport default function Tag({\n    category,\n    onClick,\n    active = false,\n    type = 'label',\n    className = '',\n}: Props) {\n    const categoryInfo = getCategoryInfo(category);\n\n    const rootClassName = classnames(s.root, className, {\n        [s['root--active']]: active,\n    });\n\n    if (type === 'button') {\n        return (\n            <Button onClick={onClick} className={rootClassName}>\n                <span className={s.title}>{categoryInfo.title}</span>\n                <img src={categoryInfo.icon} alt={categoryInfo.title} className={s.icon} />\n            </Button>\n        );\n    }\n\n    return (\n        <div className={rootClassName}>\n            <span className={s.title}>{categoryInfo.title}</span>\n            <img src={categoryInfo.icon} alt={categoryInfo.title} className={s.icon} />\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\nimport { formatResolutionDate } from '../../services/MarketService';\n\nimport s from './MarketInfoCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n}\n\nexport default function MarketInfoCard({\n    market,\n    className = '',\n}: Props): ReactElement {\n    const categoryInfo = market.category.length ? market.category.map(category => getCategoryInfo(category)) : [getCategoryInfo()];\n\n    return (\n        <div className={classnames(s.root, className)} style={{ backgroundColor: categoryInfo[0].color }}>\n            <div>\n                <span className={s.categoryTitle}>{categoryInfo.map(info => info.title).join(' | ')}</span>\n                <h2 className={s.title}>{market.description}</h2>\n            </div>\n            <img className={s.bubble} src={categoryInfo[0].cardIcon} alt={market.category[0]} />\n            <div className={s.resolutionInfo}>\n                <span>{trans('market.resolutionDate')} <strong>{formatResolutionDate(market.resolutionDate)}</strong></span>\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\nimport s from './TokenWeightsBar.module.scss';\n\ninterface Props {\n    tokens: TokenViewModel[];\n    className?: string;\n}\n\nexport default function TokenWeightsBar({\n    tokens,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <div className={classnames(s['token-weights-bar'], className)}>\n            {tokens.map((token, index) => {\n                const weight = token.odds.mul(100);\n\n                return (\n                    <span\n                        key={index}\n                        className={s['token-weights-bar__weight']}\n                        style={{\n                            width: `${weight.toString()}%`,\n                            backgroundColor: `var(${token.colorVar})`,\n                        }}\n                    />\n                );\n            })}\n        </div>\n    );\n}\n","export function prettyFormatNumber(num: string): string {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n","import React from 'react';\nimport TokenWeightsBar from '../../../../components/TokenWeightsBar';\nimport trans from '../../../../translation/trans';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { prettyFormatNumber } from '../../../../utils/prettyFormatNumber';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\n\nimport s from './CategoricalOpinionCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function CategoricalOpinionCard({\n    market,\n}: Props) {\n    return (\n        <>\n            <h2 className={s['title']}>\n                {trans('market.label.opinion')}\n            </h2>\n            <TokenWeightsBar tokens={market.outcomeTokens} className={s['token-weight-bar']} />\n            <div className={s['outcomes-wrapper']}>\n                {market.outcomeTokens.map((outcome, index) => (\n                    <div key={outcome.outcomeId} className={s['outcome']}>\n                        <div className={s['outcome-label-wrapper']}>\n                            <div style={{ backgroundColor: `var(${outcome.colorVar})` }} className={s.colorLabel} />\n                            <span className={s.tokenName}>{outcome.tokenName}</span>\n                        </div>\n                        <span className={s.percentage}>{outcome.odds.mul(100).toNumber().toFixed(2)}%</span>\n                    </div>\n                ))}\n            </div>\n            <div className={s['volume-wrapper']}>\n                <span>{trans('market.label.totalVolume')}</span>\n                <span>\n                    {prettyFormatNumber(formatCollateralToken(market.volume, market.collateralToken.decimals))} {market.collateralToken.tokenSymbol}\n                </span>\n            </div>\n        </>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\nimport React from 'react';\nimport { SCALAR_VALUE_DECIMALS } from '../../../../config';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\nimport { getScalarBounds, getScalarLongShortTokens } from '../../../../services/MarketService';\nimport trans from '../../../../translation/trans';\nimport { prettyFormatNumber } from '../../../../utils/prettyFormatNumber';\n\nimport s from './ScalarOpinionCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel\n}\n\nexport default function ScalarOpinionCard({\n    market\n}: Props) {\n    const bounds = getScalarBounds(market.outcomeTokens.map(t => t.bound));\n    const scalarTokens = getScalarLongShortTokens(market.outcomeTokens);\n    const scalarValue = FluxSdk.utils.calcScalarValue(bounds.lowerBound, bounds.upperBound, new Big(scalarTokens.longToken.price));\n\n    return (\n        <>\n            <h2 className={s.title}>\n                {trans('market.label.opinion')}\n            </h2>\n            <div className={s.rangeWrapper}>\n                <span>{trans('market.label.scalarRange')}</span>\n                <span>{bounds.lowerBound.toString()} - {bounds.upperBound.toString()}</span>\n            </div>\n            <div className={s.estimateWrapper}>\n                <span>{trans('market.label.currentEstimate')}</span>\n                <span>\n                    {FluxSdk.utils.formatToken(scalarValue.toString(), 0, SCALAR_VALUE_DECIMALS)}\n                </span>\n            </div>\n            <div className={s.volumeWrapper}>\n                <span>{trans('market.label.totalVolume')}</span>\n                <span>\n                    {prettyFormatNumber(formatCollateralToken(market.volume, market.collateralToken.decimals))} {market.collateralToken.tokenSymbol}\n                </span>\n            </div>\n        </>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { MarketType, MarketViewModel } from '../../models/Market';\nimport CategoricalOpinionCard from './components/CategoricalOpinionCard/CategoricalOpinionCard';\nimport ScalarOpinionCard from './components/ScalarOpinionCard/ScalarOpinionCard';\n\nimport s from './MarketOpinionCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function MarketOpinionCard({\n    market,\n}: Props): ReactElement {\n    return (\n        <div className={s.root}>\n            {market.type !== MarketType.Scalar && (<CategoricalOpinionCard market={market} />)}\n            {market.type === MarketType.Scalar && (<ScalarOpinionCard market={market} />)}\n        </div>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nimport { MarketViewModel } from '../../models/Market';\nimport MarketInfoCard from '../../components/MarketInfoCard';\n\nimport s from './MarketCard.module.scss';\nimport MarketOpinionCard from '../MarketOpinionCard';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n    href: string;\n}\n\nexport default function MarketCard({\n    market,\n    href,\n    className = '',\n}: Props) {\n    return (\n        <Link to={{ pathname: href, state: { canGoBack: true } }} className={classnames(s.root, className)}>\n            <MarketInfoCard market={market} className={s.infoCard} />\n            <MarketOpinionCard market={market} />\n        </Link>\n    );\n}\n","import React, { ReactElement, useMemo } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport Tag from '../../components/Tag';\nimport MarketCard from '../../compositions/MarketCard';\nimport { MarketCategory, MarketViewModel } from '../../models/Market';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\n\nimport s from './MarketOverview.module.scss';\n\ninterface Props {\n    markets: MarketViewModel[];\n    loading: boolean;\n    onFilterChange: (filters: MarketFilters) => void;\n    onRequestMoreMarkets: () => void;\n    activeFilters: MarketFilters;\n    hasMoreMarkets: boolean;\n}\n\nexport default function MarketOverview({\n    markets,\n    onFilterChange,\n    onRequestMoreMarkets,\n    activeFilters,\n    loading,\n    hasMoreMarkets,\n}: Props): ReactElement {\n    const marketCategories = useMemo(() => Object.values(MarketCategory).filter(category => category !== MarketCategory.Unknown), []);\n\n    function handleCategoryClick(category: MarketCategory) {\n        let activeCategories = activeFilters.categories;\n\n        if (activeCategories?.includes(category)) {\n            activeCategories = activeCategories.filter(cat => cat !== category);\n        } else {\n            activeCategories?.push(category);\n        }\n\n        onFilterChange({\n            ...activeFilters,\n            categories: activeCategories,\n        });\n    }\n\n    return (\n        <div className={s.root}>\n            <div className={s.filters}>\n                {marketCategories.map((category) => (\n                    <Tag\n                        key={category}\n                        className={s.filter}\n                        category={category}\n                        active={activeFilters.categories?.includes(category)}\n                        onClick={() => handleCategoryClick(category)}\n                        type=\"button\"\n                    />\n                ))}\n            </div>\n            <InfiniteScroll\n                dataLength={markets.length}\n                next={onRequestMoreMarkets}\n                hasMore={hasMoreMarkets}\n                loader={<div />}\n                className={s.markets}\n            >\n                {markets.map(market => (\n                    <MarketCard\n                        key={market.id}\n                        href={routePaths.marketDetail(market.id)}\n                        className={s.market}\n                        market={market}\n                    />\n                ))}\n            </InfiniteScroll>\n\n            <div className={s.markets}>\n                {loading && (\n                    new Array(9).fill('').map((_, index) => (\n                        <div className={s.market} key={index}>\n                            <Skeleton variant=\"rect\" height={288} className={s.skeleton} />\n                            <Skeleton variant=\"rect\" height={100} className={s.skeleton} />\n                        </div>\n                    ))\n                )}\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement, useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router';\nimport MarketOverview from '../../containers/MarketOverview';\nimport { MarketFilters } from '../../services/MarketService';\nimport { MarketCategory, MarketViewModel } from '../../models/Market';\nimport { Reducers } from '../../redux/reducers';\nimport { DEFAULT_LIMIT } from '../../config';\n\ninterface Props {\n    rootPath: string;\n    markets: MarketViewModel[];\n    defaultMarketFilters: MarketFilters;\n    onRequestFetchMarkets: (filters: MarketFilters, append: boolean) => void;\n}\n\nexport default function MarketOverviewConnector({\n    rootPath,\n    markets,\n    defaultMarketFilters,\n    onRequestFetchMarkets,\n}: Props): ReactElement {\n    const loading = useSelector((store: Reducers) => store.market.marketLoading);\n    const history = useHistory();\n    const location = useLocation();\n    const offset = useRef<number>(0);\n    const [filters, setFilters] = useState<MarketFilters>({\n        categories: [],\n        ...defaultMarketFilters,\n    });\n\n    // Changes just the query params\n    function handleFilterChange(newFilters: MarketFilters) {\n        const queryParams = new URLSearchParams();\n\n        if (newFilters.categories?.length) {\n            newFilters.categories.forEach((category) => {\n                queryParams.append('categories', category.toString());\n            });\n        }\n\n        history.replace(`${rootPath}?${queryParams.toString()}`);\n    }\n\n    // Listens for a query change and adapts the internal state\n    // Gets triggered by the history replace of handleFilterChange\n    useEffect(() => {\n        const queryParams = new URLSearchParams(location.search);\n        const newActiveFilters: MarketFilters = {\n            ...filters,\n            limit: DEFAULT_LIMIT,\n            categories: queryParams.getAll('categories') as MarketCategory[],\n        };\n\n        onRequestFetchMarkets(newActiveFilters, false);\n        setFilters(newActiveFilters);\n    }, [location]);\n\n    function handleRequestMoreMarkets() {\n        offset.current += DEFAULT_LIMIT;\n\n        const newActiveFilters: MarketFilters = {\n            ...filters,\n            offset: offset.current,\n            limit: DEFAULT_LIMIT,\n        };\n\n        onRequestFetchMarkets(newActiveFilters, true);\n    }\n\n    return (\n        <MarketOverview\n            loading={loading}\n            markets={markets}\n            activeFilters={filters}\n            onFilterChange={handleFilterChange}\n            onRequestMoreMarkets={handleRequestMoreMarkets}\n            hasMoreMarkets={markets.length % DEFAULT_LIMIT === 0}\n        />\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchResolutingMarkets } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\nimport MarketOverviewConnector from '../MarketOverviewConnector';\n\n\nexport default function FinalizedMarketsOverviewConnector() {\n    const dispatch = useDispatch();\n    const markets = useSelector((store: Reducers) => store.market.resolutingMarkets);\n    const handleFetchMarkets = useCallback((filters: MarketFilters, append: boolean) => {\n        dispatch(fetchResolutingMarkets(filters, append));\n    }, [dispatch]);\n\n    return (\n        <MarketOverviewConnector\n            markets={markets}\n            onRequestFetchMarkets={handleFetchMarkets}\n            rootPath={routePaths.resoluted()}\n            defaultMarketFilters={{\n                expired: true,\n                finalized: true,\n            }}\n        />\n    );\n}\n","import { MarketViewModel } from \"../../models/Market\";\nimport { TokenViewModel } from \"../../models/TokenViewModel\";\nimport { getPoolBalanceForMarketByAccount } from \"../../services/AccountService\";\nimport { getCollateralTokenMetadata } from \"../../services/CollateralTokenService\";\nimport { createMarket, getEscrowStatus, getMarketById, getMarketOutcomeTokens, getMarkets, getTokenWhiteListWithDefaultMetadata, MarketFilters, MarketFormValues } from \"../../services/MarketService\";\nimport { seedPool, exitPool, SeedPoolFormValues, seedScalarMarket, SeedScalarMarketFormValues } from \"../../services/PoolService\";\nimport { Reducers } from \"../reducers\";\nimport { setMarketEscrowStatus, appendResolutingMarkets, appendMarkets, setMarketErrors, setMarketLoading, setMarketDetail, setMarkets, setResolutingMarkets, setMarketEditLoading, setMarketPoolTokenBalance, setMarketDetailTokens, setTokenWhitelist, setPendingMarkets, appendPendingMarkets } from \"./market\";\n\nexport function createNewMarket(values: MarketFormValues) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketEditLoading(true));\n\n            await createMarket(values);\n\n            dispatch(setMarketEditLoading(false));\n        } catch (error) {\n            dispatch(setMarketEditLoading(false));\n            console.error('[createNewMarket]', error);\n        }\n    };\n}\n\nexport function loadMarket(id: string) {\n    return async (dispatch: Function, getState: () => Reducers) => {\n        try {\n            const store = getState();\n            dispatch(setMarketLoading(true));\n            dispatch(setMarketDetail(undefined));\n            dispatch(setMarketPoolTokenBalance(undefined));\n            dispatch(setMarketEscrowStatus([]));\n\n            const market = await getMarketById(id);\n\n            if (!market) {\n                dispatch(setMarketErrors(['Could not find market']));\n                return;\n            }\n\n            const account = store.account.account;\n\n            if (account) {\n                const escrowStatusRequest = getEscrowStatus(id, account.accountId);\n                const token = await getPoolBalanceForMarketByAccount(account.accountId, id);\n                const escrowStatus = await escrowStatusRequest;\n\n                dispatch(setMarketEscrowStatus(escrowStatus));\n\n                if (token) {\n                    dispatch(setMarketPoolTokenBalance(token));\n                }\n            }\n\n            dispatch(setMarketDetail(market));\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[loadMarket]', error);\n        }\n    };\n}\n\nexport function reloadTokens(marketId: string, collateralToken: TokenViewModel) {\n    return async (dispatch: Function, getState: () => Reducers) => {\n        const store = getState();\n        const tokens = await getMarketOutcomeTokens(marketId, collateralToken, store.account.account ?? undefined);\n        if (tokens.length === 0) return;\n\n        dispatch(setMarketDetailTokens(tokens));\n    }\n}\n\nexport function fetchMarkets(filters: MarketFilters, append?: boolean) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n            const markets = await getMarkets({\n                ...filters,\n                finalized: false,\n                expired: false,\n            });\n\n            if (append) {\n                dispatch(appendMarkets(markets));\n            } else {\n                dispatch(setMarkets(markets));\n            }\n\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchMarkets]', error);\n        }\n    }\n}\n\nexport function fetchPendingMarkets(filters: MarketFilters, append?: boolean) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n            const markets = await getMarkets({\n                ...filters,\n                expired: true,\n                finalized: false,\n            });\n\n            if (append) {\n                dispatch(appendPendingMarkets(markets));\n            } else {\n                dispatch(setPendingMarkets(markets));\n            }\n\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchPendingMarkets]', error);\n        }\n    }\n}\n\nexport function fetchResolutingMarkets(filters: MarketFilters, append?: boolean) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n\n            const markets = await getMarkets({\n                ...filters,\n                expired: true,\n                finalized: true,\n            });\n\n            if (append) {\n                dispatch(appendResolutingMarkets(markets));\n            } else {\n                dispatch(setResolutingMarkets(markets));\n            }\n\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchResolutingMarkets]', error);\n        }\n    }\n}\n\nexport function seedPoolAction(marketId: string, tokenId: string, values: SeedPoolFormValues) {\n    return async (dispatch: Function) => {\n        await seedPool(marketId, tokenId, values);\n    }\n}\n\nexport function seedScalarMarketAction(market: MarketViewModel, values: SeedScalarMarketFormValues) {\n    return async (dispatch: Function) => {\n        await seedScalarMarket(market, values);\n    }\n}\n\nexport function exitPoolAction(marketId: string, amountIn: string) {\n    return async (dispatch: Function) => {\n        await exitPool(marketId, amountIn);\n    }\n}\n\nexport function loadTokenWhitelist() {\n    return async (dispatch: Function) => {\n        // First create a dummy list\n        const whitelist = await getTokenWhiteListWithDefaultMetadata();\n        dispatch(setTokenWhitelist(whitelist));\n\n        // Now we are going to fill in the real metadata\n        const metadataPromises = Object.values(whitelist).map((metadata) => {\n            return getCollateralTokenMetadata(metadata.collateralTokenId);\n        });\n\n        const realMetadata = await Promise.all(metadataPromises);\n        dispatch(setTokenWhitelist(realMetadata));\n    }\n}\n","import React, { ReactElement } from 'react';\nimport { Helmet } from 'react-helmet';\nimport FinalizedMarketsOverviewConnector from '../../../../connectors/FinalizedMarketsOverviewConnector';\nimport trans from '../../../../translation/trans';\n\n\nexport default function ResolutionPage(): ReactElement {\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('marketResolution.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <FinalizedMarketsOverviewConnector />\n        </section>\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchMarkets } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\nimport MarketOverviewConnector from '../MarketOverviewConnector';\n\n\nexport default function TradeableMarketsOverviewConnector() {\n    const dispatch = useDispatch();\n    const markets = useSelector((store: Reducers) => store.market.markets);\n    const handleFetchMarkets = useCallback((filters: MarketFilters, append: boolean) => {\n        dispatch(fetchMarkets(filters, append));\n    }, [dispatch]);\n\n    return (\n        <MarketOverviewConnector\n            markets={markets}\n            onRequestFetchMarkets={handleFetchMarkets}\n            rootPath={routePaths.root()}\n            defaultMarketFilters={{\n                expired: false,\n            }}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { Helmet } from 'react-helmet';\nimport TradeableMarketsOverviewConnector from '../../../../connectors/TradeableMarketsOverviewConnector';\nimport trans from '../../../../translation/trans';\n\n\nexport default function MarketsOverviewPage(): ReactElement {\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('home.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <TradeableMarketsOverviewConnector />\n        </section>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { DateTimePicker as MuiDateTimePicker } from \"@material-ui/pickers\";\n\nimport s from './DateTimePicker.module.scss';\n\ninterface Props {\n    value: Date;\n    onChange: (date: Date | null) => void;\n    helperText?: string;\n    error?: boolean;\n}\n\nexport default function DateTimePicker({\n    value,\n    helperText,\n    error,\n    onChange,\n}: Props): ReactElement {\n    return (\n        <MuiDateTimePicker\n            inputVariant=\"outlined\"\n            value={value}\n            className={s.root}\n            ampm={false}\n            onChange={onChange}\n            helperText={helperText}\n            error={error}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport s from './Label.module.scss';\n\ninterface Props {\n    text: string;\n}\n\nexport default function Label({\n    text,\n}: Props): ReactElement {\n    return (\n        <label className={s.root}>{text}</label>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport s from './TextInput.module.scss';\nimport { InputProps } from '@material-ui/core';\n\nexport interface TextInputProps {\n    multiline?: boolean;\n    onChange?: (value: string) => void;\n    value?: string;\n    required?: boolean;\n    type?: string;\n    helperText?: string;\n    error?: boolean;\n    InputProps?: Partial<InputProps>\n}\n\nexport default function TextInput({\n    multiline,\n    value,\n    required,\n    onChange = () => {},\n    type = 'text',\n    ...props\n}: TextInputProps): ReactElement {\n    return (\n        <TextField\n            {...props}\n            id=\"outlined-multiline-flexible\"\n            multiline={multiline}\n            variant=\"outlined\"\n            className={s.root}\n            value={value}\n            onChange={(event) => onChange(event.target.value)}\n            required={required}\n            type={type}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Button from '../../components/Button';\nimport Label from '../../components/Label';\nimport TextInput from '../../components/TextInput';\nimport trans from '../../translation/trans';\n\nimport s from './AddableInputs.module.scss';\n\ninterface Props {\n    onChange: (values: string[]) => void;\n    values: string[];\n}\n\nexport default function AddableInputs({\n    onChange,\n    values,\n}: Props): ReactElement {\n    function handleAddMoreClick() {\n        values.push('');\n        onChange(values);\n    }\n\n    function handleRemoveClick(index: number) {\n        values.splice(index, 1);\n        onChange(values);\n    }\n\n    function handleInputChange(value: string, index: number) {\n        values[index] = value;\n        onChange(values);\n    }\n\n    return (\n        <div>\n            <div className={s.inputs}>\n                {values.map((input, index) => (\n                    <div className={s.input} key={index}>\n                        <Label text={trans('marketCreation.label.outcome', { number: (index + 1).toString() })} />\n                        <div className={s.actions}>\n                            <TextInput value={input} onChange={(value) => handleInputChange(value, index)} />\n                            <IconButton aria-label=\"remove\" className={s.removeIcon} onClick={() => handleRemoveClick(index)}>\n                                <DeleteIcon />\n                            </IconButton>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <Button onClick={handleAddMoreClick} className={s.addMoreButton}>{trans('marketCreation.label.addMoreOutcomes')}</Button>\n        </div>\n    );\n}\n","import React, { ChangeEvent, ReactElement } from 'react';\n\nimport MuiSelect from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport s from './Select.module.scss';\n\nexport interface SelectItem {\n    value: string;\n    label: string;\n}\n\ninterface Props {\n    value: string;\n    items: SelectItem[];\n    onChange: (item: SelectItem) => void;\n}\n\nexport default function Select({\n    value,\n    items,\n    onChange,\n}: Props): ReactElement {\n    function handleChange(event: ChangeEvent<{ name?: string, value: unknown }>) {\n        const value = event.target.value as string;\n        const item = items.find(item => item.value === value);\n\n        if (item) {\n            onChange(item);\n        }\n    }\n\n    return (\n        <MuiSelect className={s.select} value={value} onChange={handleChange} classes={{ icon: s.icon }}>\n            {items.map((item) => (\n                <MenuItem key={item.value} value={item.value}>{item.label}</MenuItem>\n            ))}\n        </MuiSelect>\n    )\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport {default as MuiToggleButton} from '@material-ui/lab/ToggleButton';\n\nimport s from './ToggleButtons.module.scss';\n\ninterface Props {\n    items: {\n        text: string,\n        id: string,\n    }[],\n    value: string;\n    exclusive?: boolean;\n    className?: string;\n    buttonClassName?: string;\n    selectedClassName?: string;\n    onChange: (value: any) => void;\n}\n\nexport default function ToggleButtons({\n    items,\n    value,\n    onChange,\n    exclusive,\n    selectedClassName = '',\n    buttonClassName = '',\n    className = '',\n}: Props): ReactElement {\n    return (\n        <ToggleButtonGroup className={className} exclusive={exclusive} value={value} onChange={(_, v) => onChange(v)}>\n            {items.map((item) => (\n                <MuiToggleButton\n                    key={item.id}\n                    className={classnames(s.button, buttonClassName)}\n                    classes={{\n                        selected: selectedClassName || s.selected,\n                    }}\n                    value={item.id}\n                >\n                    {item.text}\n                </MuiToggleButton>\n            ))}\n        </ToggleButtonGroup>\n    );\n}\n","import React, { ReactElement, useMemo, useRef, useState } from 'react';\n\nimport DateTimePicker from '../../components/DateTimePicker';\nimport Label from '../../components/Label';\nimport Tag from '../../components/Tag';\nimport TextInput from '../../components/TextInput';\nimport Dialog from '../../compositions/Dialog';\nimport { MarketCategory, MarketType } from '../../models/Market';\nimport { MarketFormValues } from '../../services/MarketService';\nimport trans from '../../translation/trans';\nimport AddableInputs from '../AddableInputs';\nimport createDefaultMarketFormValues from './utils/createDefaultMarketFormValues';\n\nimport s from './MarketCreationDialog.module.scss';\nimport Select from '../../components/Select';\nimport { SelectItem } from '../../components/Select/Select';\nimport { TokenMetadata } from '../../models/TokenMetadata';\nimport ToggleButtons from '../../components/ToggleButtons';\nimport Big from 'big.js';\nimport { validateMarketFormValues } from './utils/validateMarketFormValues';\n\ninterface Props {\n    open: boolean;\n    tokenWhitelist: TokenMetadata[];\n    onRequestClose: () => void;\n    onSubmit: (values: MarketFormValues) => void;\n}\n\nexport default function MarketCreationDialog({\n    open,\n    tokenWhitelist,\n    onRequestClose,\n    onSubmit,\n}: Props): ReactElement {\n    const formRef = useRef<HTMLFormElement>(null);\n    const [formValues, setFormValues] = useState(createDefaultMarketFormValues());\n    const marketCategories = useMemo(() => Object.values(MarketCategory).filter(category => category !== MarketCategory.Unknown), []);\n\n    function handleFormSubmit() {\n        onSubmit(formValues);\n    }\n\n    function handleCategoryClick(category: MarketCategory) {\n        let activeCategories = formValues.categories;\n\n        if (activeCategories?.includes(category)) {\n            activeCategories = activeCategories.filter(cat => cat !== category);\n        } else {\n            activeCategories?.push(category);\n        }\n\n        setFormValues({\n            ...formValues,\n            categories: activeCategories,\n        });\n    }\n\n    function handleResolutionDateChange(date: Date | null) {\n        if (!date) return;\n\n        setFormValues({\n            ...formValues,\n            resolutionDate: date,\n        });\n    }\n\n    function handleOutcomesChange(outcomes: string[]) {\n        setFormValues({\n            ...formValues,\n            outcomes,\n        });\n    }\n\n    function handleDescriptionChange(description: string) {\n        setFormValues({\n            ...formValues,\n            description,\n        });\n    }\n\n    function handleExtraInfoChange(extraInfo: string) {\n        setFormValues({\n            ...formValues,\n            extraInfo,\n        });\n    }\n\n    function handleCollateralChange(item: SelectItem) {\n        setFormValues({\n            ...formValues,\n            collateralTokenId: item.value,\n        });\n    }\n\n    function handleMarketTypeChange(type: MarketType | null) {\n        if (type === null) return;\n        setFormValues({\n            ...formValues,\n            type,\n        });\n    }\n\n    function handleLowerBoundChange(value: string) {\n        if (!value) return;\n\n        setFormValues({\n            ...formValues,\n            lowerBound: new Big(value),\n        });\n    }\n\n    function handleUpperBoundChange(value: string) {\n        if (!value) return;\n\n        setFormValues({\n            ...formValues,\n            upperBound: new Big(value),\n        });\n    }\n\n    const errors = validateMarketFormValues(formValues);\n\n    return (\n        <Dialog open={open} title=\"\" canSubmit={errors.canSubmit} onRequestClose={onRequestClose} onSubmitClick={handleFormSubmit}>\n            <form className={s.filters} ref={formRef}>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.categorySelect')}\n                    </label>\n                    <div className={s.categories}>\n                        {marketCategories.map((category) => (\n                            <Tag\n                                key={category}\n                                category={category}\n                                className={s.filter}\n                                active={formValues.categories.includes(category)}\n                                onClick={() => handleCategoryClick(category)}\n                                type=\"button\"\n                            />\n                        ))}\n                    </div>\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.collateralToken')}\n                    </label>\n                    <Select\n                        onChange={handleCollateralChange}\n                        value={formValues.collateralTokenId}\n                        items={tokenWhitelist.map((metadata) => ({\n                            label: metadata.symbol,\n                            value: metadata.collateralTokenId,\n                        }))}\n                    />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.description')}\n                    </label>\n                    <TextInput required multiline onChange={handleDescriptionChange} value={formValues.description} />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.extraInfo')}\n                    </label>\n                    <TextInput required multiline onChange={handleExtraInfoChange} value={formValues.extraInfo} />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.marketType')}\n                    </label>\n                    <ToggleButtons\n                        exclusive\n                        buttonClassName={s.marketType}\n                        selectedClassName={s['marketType--selected']}\n                        value={formValues.type}\n                        onChange={handleMarketTypeChange}\n                        items={[\n                            {\n                                id: MarketType.Binary,\n                                text: trans('marketCreation.label.binary'),\n                            },\n                            {\n                                id: MarketType.Categorical,\n                                text: trans('marketCreation.label.categorical'),\n                            },\n                            {\n                                id: MarketType.Scalar,\n                                text: trans('marketCreation.label.scalar'),\n                            }\n                        ]}\n                    />\n                </div>\n\n                {formValues.type === MarketType.Categorical && (\n                    <div className={s.inputsWrapper}>\n                        <Label text={trans('marketCreation.label.outcomes')} />\n                        <AddableInputs onChange={handleOutcomesChange} values={formValues.outcomes} />\n                    </div>\n                )}\n\n                {formValues.type === MarketType.Scalar && (\n                    <>\n                        <div className={s.inputsWrapper}>\n                            <Label text={trans('marketCreation.label.scalarLowerBound')} />\n                            <TextInput type=\"number\" value={formValues.lowerBound.toString()} onChange={handleLowerBoundChange} />\n                        </div>\n                        <div className={s.inputsWrapper}>\n                            <Label text={trans('marketCreation.label.scalarUpperBound')} />\n                            <TextInput type=\"number\" value={formValues.upperBound.toString()} onChange={handleUpperBoundChange} helperText={errors.upperBound} error={!!errors.upperBound} />\n                        </div>\n                    </>\n                )}\n\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.resolutionDate')}\n                    </label>\n\n                    <DateTimePicker\n                        value={formValues.resolutionDate}\n                        onChange={handleResolutionDateChange}\n                        helperText={errors.resolutionDate || trans('marketCreation.label.helperText.resolutionDate')}\n                        error={!!errors.resolutionDate}\n                    />\n                </div>\n            </form>\n        </Dialog>\n    );\n}\n","import Big from \"big.js\";\nimport { addDays } from \"date-fns\";\nimport { FUNGIBLE_TOKEN_ACCOUNT_ID } from \"../../../config\";\nimport { MarketType } from \"../../../models/Market\";\nimport { MarketFormValues } from \"../../../services/MarketService\";\n\nexport default function createDefaultMarketFormValues(): MarketFormValues {\n    return {\n        type: MarketType.Binary,\n        resolutionDate: addDays(new Date(), 1),\n        categories: [],\n        isCategoricalMarket: false,\n        outcomes: [''],\n        description: '',\n        extraInfo: '',\n        collateralTokenId: FUNGIBLE_TOKEN_ACCOUNT_ID,\n        lowerBound: new Big(0),\n        upperBound: new Big(1),\n    }\n}\n","import { MarketType } from \"../../../models/Market\";\nimport { MarketFormValues } from \"../../../services/MarketService\";\nimport trans from \"../../../translation/trans\";\n\nexport interface MarketFormErrors {\n    canSubmit: boolean;\n    upperBound: string;\n    resolutionDate: string;\n}\n\nexport function validateMarketFormValues(formValues: MarketFormValues): MarketFormErrors {\n    const errors: MarketFormErrors = {\n        canSubmit: true,\n        upperBound: '',\n        resolutionDate: '',\n    };\n\n    if (formValues.type === MarketType.Scalar) {\n        if (formValues.upperBound.lte(formValues.lowerBound)) {\n            errors.canSubmit = false;\n            errors.upperBound = trans('marketCreation.errors.upperBoundLessThanLowerBound');\n        }\n    }\n\n    if (!formValues.description) {\n        errors.canSubmit = false;\n    }\n\n    if (!formValues.extraInfo) {\n        errors.canSubmit = false;\n    }\n\n    if (formValues.resolutionDate) {\n        const now = new Date();\n\n        if (now.getTime() >= formValues.resolutionDate.getTime()) {\n            errors.canSubmit = false;\n            errors.resolutionDate = trans('marketCreation.errors.resolutionDateEarlierThanToday');\n        }\n    }\n\n    if (formValues.type === MarketType.Categorical) {\n        if (formValues.outcomes.length <= 1) {\n            errors.canSubmit = false;\n        }\n\n        if (formValues.outcomes.some(o => o.trim() === '')) {\n            errors.canSubmit = false;\n        }\n    }\n\n    return errors;\n}\n","import React, { ReactElement, useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport MarketCreationDialog from '../../containers/MarketCreationDialog';\nimport { setMarketCreationDialogOpen } from '../../redux/dialogs/dialogs';\nimport { createNewMarket, loadTokenWhitelist } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { MarketFormValues } from '../../services/MarketService';\n\n\nexport default function MarketCreationDialogConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const isDialogOpen = useSelector((store: Reducers) => store.dialogs.isMarketCreationOpen);\n    const tokenWhitelist = useSelector((store: Reducers) => store.market.tokenWhitelist);\n\n    useEffect(() => {\n        dispatch(loadTokenWhitelist());\n    }, [dispatch]);\n\n    const handleRequestClose = useCallback(() => {\n        dispatch(setMarketCreationDialogOpen(false));\n    }, [dispatch]);\n\n    const handleSubmit = useCallback((market: MarketFormValues) => {\n        dispatch(createNewMarket(market));\n    }, [dispatch]);\n\n    return (\n        <MarketCreationDialog\n            tokenWhitelist={tokenWhitelist}\n            open={isDialogOpen}\n            onRequestClose={handleRequestClose}\n            onSubmit={handleSubmit}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Button from '../../components/Button';\nimport { Account } from '../../models/Account';\nimport trans from '../../translation/trans';\n\nimport s from './HomeHeader.module.scss';\n\ninterface Props {\n    onCreateMarketClick: () => void;\n    account: Account | null;\n}\n\nexport default function HomeHeader({\n    onCreateMarketClick,\n    account,\n}: Props): ReactElement {\n    return (\n        <div className={s.root}>\n            <div className={s.titleWrapper}>\n                <h1 className={s.title}>\n                    {trans('home.title.welcome', {\n                        username: account?.accountId || '',\n                    })}\n                </h1>\n                <span className={s.subTitle}>{trans('home.title.latestTrends')}</span>\n            </div>\n\n            {process.env.REACT_APP_NETWORK !== \"mainnet\" && <Button onClick={onCreateMarketClick}>{trans('global.actions.createMarket')}</Button>}\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport HomeHeader from '../../containers/HomeHeader';\nimport { setMarketCreationDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function HomeHeaderConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    const handleCreateMarketClick = useCallback(() => {\n        dispatch(setMarketCreationDialogOpen(true));\n    }, [dispatch]);\n\n    return (\n        <HomeHeader\n            onCreateMarketClick={handleCreateMarketClick}\n            account={account}\n        />\n    );\n}\n","\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchPendingMarkets } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\nimport MarketOverviewConnector from '../MarketOverviewConnector';\n\n\nexport default function PendingMarketsOverviewConnector() {\n    const dispatch = useDispatch();\n    const markets = useSelector((store: Reducers) => store.market.pendingMarkets);\n    const handleFetchMarkets = useCallback((filters: MarketFilters, append: boolean) => {\n        dispatch(fetchPendingMarkets(filters, append));\n    }, [dispatch]);\n\n    return (\n        <MarketOverviewConnector\n            markets={markets}\n            onRequestFetchMarkets={handleFetchMarkets}\n            rootPath={routePaths.pending()}\n            defaultMarketFilters={{\n                expired: true,\n                finalized: false,\n            }}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { Helmet } from 'react-helmet';\nimport PendingMarketsOverviewConnector from '../../../../connectors/PendingMarketsOverviewConnector';\nimport trans from '../../../../translation/trans';\n\n\nexport default function PendingPage(): ReactElement {\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('marketResolution.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <PendingMarketsOverviewConnector />\n        </section>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { MarketType, MarketViewModel } from '../../models/Market';\nimport { formatResolutionDate } from '../../services/MarketService';\nimport trans from '../../translation/trans';\n\nimport s from './MarketHeader.module.scss';\nimport MarketOpinionCard from '../../compositions/MarketOpinionCard';\nimport Tag from '../../components/Tag';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\nimport Button from '../../components/Button';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n    onGoBackClick: () => void;\n}\n\nexport default function MarketHeader({\n    market,\n    onGoBackClick,\n    className = '',\n}: Props) {\n    return (\n        <header className={classnames(s['root'], className)}>\n            <div className={s['wrapper']}>\n                <div className={s.headerItem}>\n                    <Button className={s['market-header__back-button']} onClick={onGoBackClick}>\n                        {trans('navigation.back')}\n                    </Button>\n                    {market.category.length > 0 && (<Tag className={s.categoryTag} category={market.category[0]} />)}\n\n                    <h1 className={s.title}>{market.description}</h1>\n\n                    {market.creationDate && (\n                        <div className={s.resolutionDate}>\n                            <span className={s['market-header__resolution-date-title']}>\n                                {trans('market.startDate')} —&nbsp;\n                            </span>\n                            <span className={s['market-header__resolution-date-stamp']}>\n                                {formatResolutionDate(market.creationDate)}\n                            </span>\n                        </div>\n                    )}\n\n                    <div className={s.resolutionDate}>\n                        <span className={s['market-header__resolution-date-title']}>\n                            {trans('market.resolutionDate')} —&nbsp;\n                        </span>\n                        <span className={s['market-header__resolution-date-stamp']}>\n                            {formatResolutionDate(market.resolutionDate)}\n                        </span>\n                    </div>\n                </div>\n                <div className={classnames(s.headerItem, s.opinionCardWrapper)}>\n                    <MarketOpinionCard market={market} />\n                </div>\n                <div className={s['bubble']} style={{ backgroundImage: `url(${getCategoryInfo(market.category[0]).circleIcon})` }} />\n            </div>\n        </header>\n    );\n}\n","import React, { ReactElement } from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './MarketHeaderLoader.module.scss';\n\nexport default function MarketHeaderLoader(): ReactElement {\n    return (\n        <div className={s.root}>\n            <div className={s.wrapper}>\n                <Skeleton height={300} className={s.skeleton} />\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router';\nimport MarketHeader from '../../containers/MarketHeader';\nimport MarketHeaderLoader from '../../containers/MarketHeader/MarketHeaderLoader';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\n\ninterface Props {\n    className?: string;\n}\n\ninterface LocationState {\n    canGoBack?: boolean;\n}\n\nexport default function MarketHeaderConnector({\n    className,\n}: Props): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const history = useHistory();\n    const location = useLocation<LocationState>();\n    const canGoBack = location.state?.canGoBack ?? false;\n\n    const handleGoBackClick = useCallback(() => {\n        if (canGoBack) {\n            history.goBack();\n        } else {\n            history.push(routePaths.root());\n        }\n    }, [canGoBack, history]);\n\n    if (!market) {\n        return <MarketHeaderLoader />;\n    }\n\n\n    return (\n        <MarketHeader\n            market={market}\n            className={className}\n            onGoBackClick={handleGoBackClick}\n        />\n    );\n}\n","import React from 'react';\nimport { ReactElement } from 'react';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\n\nimport s from './MarketResolutionInfo.module.scss';\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function MarketResolutionInfo({\n    market,\n}: Props): ReactElement {\n    return (\n        <section className={s.root}>\n            <h2 className={s.title}>{trans('market.label.resolutionInfo')}</h2>\n            <p>{market.extraInfo}</p>\n        </section>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './MarketResolutionInfoLoader.module.scss';\n\nexport default function MarketResolutionInfoLoader(): ReactElement {\n    return (\n        <div>\n            <Skeleton height={200} className={s.skeleton} />\n        </div>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport MarketResolutionInfo from '../../containers/MarketResolutionInfo';\nimport MarketResolutionInfoLoader from '../../containers/MarketResolutionInfo/MarketResolutionInfoLoader';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function MarketResolutionInfoConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    if (!market) {\n        return <MarketResolutionInfoLoader />;\n    }\n\n    return (\n        <MarketResolutionInfo market={market} />\n    );\n}\n","\n\nexport default function getCssVariableValue(key: string): string {\n    return getComputedStyle(document.documentElement).getPropertyValue(key);\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\nimport Chart from 'chart.js';\nimport { MarketType, MarketViewModel } from '../../../models/Market';\nimport { PriceHistoryData } from '../../../models/PriceHistoryData';\nimport { getScalarBounds, getScalarLongShortTokens } from '../../../services/MarketService';\nimport trans from '../../../translation/trans';\nimport { getColorForOutcome } from '../../../utils/getColorForOutcome';\nimport getCssVariableValue from '../../../utils/getCssVariableValue';\n\nfunction generateScalarChartData(priceHistoryData: PriceHistoryData[], market: MarketViewModel): Chart.ChartDataSets[] {\n    const dataSets: Chart.ChartDataSets[] = [];\n    const scalarTokens = getScalarLongShortTokens(market.outcomeTokens);\n    const scalarData: number[] = [];\n\n    priceHistoryData.forEach((historyData) => {\n        const longPriceOutcome = historyData.dataPoints.find(dp => dp.outcome === scalarTokens.longToken.outcomeId);\n        const scalarValue = FluxSdk.utils.calcScalarValue(scalarTokens.lowerBound, scalarTokens.upperBound, new Big(longPriceOutcome?.price ?? 0));\n\n        scalarData.push(scalarValue.toNumber());\n    });\n\n    dataSets.push({\n        data: scalarData,\n        label: trans('market.label.estimate'),\n        fill: false,\n        borderWidth: 2,\n        borderColor: `${getCssVariableValue('--c-blue')}`,\n        cubicInterpolationMode: 'monotone',\n    });\n\n    return dataSets;\n}\n\nexport function generateChartData(priceHistoryData: PriceHistoryData[], market: MarketViewModel): Chart.ChartData {\n    const outcomeData: Map<number, number[]> = new Map();\n    const isScalar = market.type === MarketType.Scalar;\n    const scalarTokens = getScalarLongShortTokens(market.outcomeTokens);\n    const dataSets: Chart.ChartDataSets[] = isScalar ? generateScalarChartData(priceHistoryData, market) : [];\n\n    priceHistoryData.forEach((historyData) => {\n        historyData.dataPoints.forEach((outcomePriceData) => {\n            const outcomeDataPoints = outcomeData.get(outcomePriceData.outcome);\n\n            if (Array.isArray(outcomeDataPoints)) {\n                outcomeDataPoints.push(Number(outcomePriceData.price) * 100);\n            } else {\n                outcomeData.set(outcomePriceData.outcome, [Number(outcomePriceData.price) * 100]);\n            }\n        });\n    });\n\n    outcomeData.forEach((data, outcomeId) => {\n        let label: string | undefined = undefined;\n\n        if (isScalar && scalarTokens.longToken.outcomeId === outcomeId) {\n            label = trans('market.outcomes.long')\n        } else if (isScalar && scalarTokens.shortToken.outcomeId === outcomeId) {\n            label = trans('market.outcomes.short')\n        }\n\n        dataSets.push({\n            data,\n            label,\n            fill: false,\n            showLine: !isScalar,\n            pointRadius: isScalar ? 0 : undefined,\n            borderWidth: 2,\n            borderColor: `${getCssVariableValue(getColorForOutcome(outcomeId, isScalar))}`,\n            cubicInterpolationMode: 'monotone',\n        });\n\n        // Scalar markets do not need a dotted line for price since it's hidden\n        if (isScalar) return;\n\n        // Dotted line for latest price\n        dataSets.push({\n            data: new Array(data.length).fill(data[data.length - 1]),\n            fill: false,\n            borderWidth: 1,\n            borderColor: `${getCssVariableValue(getColorForOutcome(outcomeId))}`,\n            borderDash: [2, 5],\n            cubicInterpolationMode: 'monotone',\n            hidden: isScalar,\n            pointHitRadius: 0,\n            pointHoverRadius: 0,\n            pointRadius: 0,\n            label: '',\n            hideInLegendAndTooltip: true,\n        });\n    });\n\n    return {\n        labels: priceHistoryData.map(point => point.pointKey),\n        datasets: dataSets,\n    };\n}\n\nexport default function generateLineChart(canvas: HTMLCanvasElement, market: MarketViewModel): Chart | null {\n    const context = canvas.getContext('2d');\n    if (!context) return null;\n\n    let min = 0;\n    let max = 100;\n\n    if (market.type === MarketType.Scalar) {\n        const bounds = getScalarBounds(market.outcomeTokens.map(t => t.bound));\n        min = bounds.lowerBound.toNumber();\n        max = bounds.upperBound.toNumber();\n    }\n\n    const chart = new Chart(context, {\n        type: 'line',\n\n        options: {\n            responsive: true,\n\n            legend: {\n                display: false,\n            },\n\n            animation: {\n                duration: 0,\n            },\n\n            elements:{\n                line: {\n                    tension: 0,\n                },\n                point: {\n                    // radius: 0,\n                }\n            },\n\n            tooltips: {\n                mode: market.type === MarketType.Scalar ? 'index' : 'point',\n                intersect: false,\n            },\n\n            scales: {\n                yAxes: [{\n                    type: 'linear',\n                    gridLines: {\n                        color: '#d8d8d8',\n                        drawOnChartArea: false,\n                        drawTicks: false,\n                    },\n                    ticks: {\n                        fontColor: getCssVariableValue('--c-text'),\n                        min,\n                        max,\n                        maxTicksLimit: 6,\n                        stepSize: max / 4,\n                        padding: 10,\n                        callback: (value) => {\n                            if (market.type === MarketType.Scalar) {\n                                return value;\n                            }\n\n                            return (Number(value) / 100).toFixed(2)\n                        },\n                    }\n                }],\n                xAxes: [{\n                    gridLines: {\n                        color: '#d8d8d8',\n                        drawOnChartArea: false,\n                        drawTicks: false,\n                    },\n                    ticks: {\n                        fontColor: getCssVariableValue('--c-text'),\n                        padding: 10,\n                    }\n                }],\n            },\n        },\n    });\n\n    return chart;\n}\n\n","import React, { useEffect, useRef } from 'react';\nimport { ReactElement } from 'react';\nimport { MarketViewModel } from '../../models/Market';\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\nimport { useDarkmode } from '../../utils/darkmode';\nimport generateLineChart, { generateChartData } from './utils/generateLineChart';\n\ninterface Props {\n    pricesHistory: PriceHistoryData[];\n    market: MarketViewModel;\n}\n\n\nexport default function LineChart({\n    pricesHistory,\n    market,\n}: Props): ReactElement {\n    const canvas = useRef<HTMLCanvasElement>(null);\n    const isDarkmodeActive = useDarkmode();\n    const chart = useRef<Chart | null>(null);\n\n    useEffect(() => {\n        if (!canvas.current) {\n            return;\n        }\n\n        chart.current = generateLineChart(canvas.current, market);\n    }, [canvas, isDarkmodeActive]);\n\n    useEffect(() => {\n        if (!chart.current) return;\n\n        chart.current.data = generateChartData(pricesHistory, market);\n        chart.current.update();\n    }, [chart, pricesHistory, isDarkmodeActive, market]);\n\n    return (\n        <canvas ref={canvas} />\n    );\n}\n","import { gql } from '@apollo/client';\nimport { subDays, subMonths, subWeeks, differenceInDays } from 'date-fns';\nimport { MarketViewModel } from '../models/Market';\nimport { PriceHistoryData } from '../models/PriceHistoryData';\nimport { graphqlClient } from './GraphQLService';\n\nexport enum Period {\n    OneDay = '1d',\n    OneWeek = '1w',\n    OneMonth = '1m',\n    ThreeWeeks = '3w',\n    All = 'all',\n}\n\nexport function getAllHistoryMetric(creationDate: Date, endDate: Date): string {\n    const diffDays = differenceInDays(endDate, creationDate);\n\n    // Market takes longer than 4 weeks\n    if (diffDays > 28) {\n        return 'week';\n    }\n\n    // Market takes less than 7 days but more than 1 day\n    if (diffDays <= 7 && diffDays > 1) {\n        return 'day';\n    }\n\n    return 'hour';\n}\n\nexport async function getPricesHistoryByMarketId(market: MarketViewModel, period: Period): Promise<PriceHistoryData[]> {\n    try {\n        const now = new Date();\n        let chosenPeriondDate = new Date();\n        let metric = 'month';\n\n        switch(period) {\n            case Period.OneDay:\n                chosenPeriondDate = subDays(now, 1);\n                metric = 'hour'\n                break;\n            case Period.OneWeek:\n                chosenPeriondDate = subWeeks(now, 1);\n                metric = 'day';\n                break;\n            case Period.ThreeWeeks:\n                chosenPeriondDate = subWeeks(now, 3);\n                metric = 'day';\n                break;\n            case Period.OneMonth:\n                chosenPeriondDate = subMonths(now, 1);\n                metric = 'day';\n                break;\n            case Period.All:\n                chosenPeriondDate = new Date(0);\n                metric = getAllHistoryMetric(market.creationDate ?? new Date(0), market.resolutionDate);\n                break;\n        }\n\n        const result = await graphqlClient.query({\n            fetchPolicy: 'network-only',\n            query: gql`\n                query MarketPriceHistory($marketId: String!, $beginTimestamp: String!, $dateMetric: DateMetric) {\n                    history: getPriceHistory(poolId: $marketId, beginTimestamp: $beginTimestamp, dateMetric: $dateMetric) {\n                        pointKey\n                        dataPoints {\n                            outcome\n                            price\n                        }\n                    }\n                }\n            `,\n            variables: {\n                marketId: market.id,\n                beginTimestamp: chosenPeriondDate.getTime().toString(),\n                dateMetric: metric,\n            }\n        });\n\n        return result.data.history;\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './MarketStatistics.module.scss';\nimport LineChart from '../LineChart';\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\nimport ToggleButtons from '../../components/ToggleButtons';\nimport trans from '../../translation/trans';\nimport { Period } from '../../services/PricesHistoryService';\nimport { MarketViewModel } from '../../models/Market';\n\ninterface Props {\n    className?: string;\n    period?: Period;\n    market: MarketViewModel;\n    pricesHistory: PriceHistoryData[];\n    onPeriodChange: (period: Period) => void;\n}\n\nexport default function MarketStatistics({\n    pricesHistory,\n    market,\n    onPeriodChange,\n    period = Period.OneDay,\n    className = '',\n}: Props): ReactElement {\n\n    function handlePeriodChange(period: Period | null) {\n        if (!period) return;\n\n        onPeriodChange(period);\n    }\n\n    return (\n        <div className={classnames(s['market-statistics'], className)}>\n            <div className={s.timePeriodButtons}>\n                <ToggleButtons\n                    exclusive\n                    value={period}\n                    onChange={handlePeriodChange}\n                    items={[\n                        {\n                            id: Period.OneDay,\n                            text: trans('priceHistory.labels.1d'),\n                        },\n                        {\n                            id: Period.OneWeek,\n                            text: trans('priceHistory.labels.1w'),\n                        },\n                        {\n                            id: Period.ThreeWeeks,\n                            text: trans('priceHistory.labels.3w'),\n                        },\n                        {\n                            id: Period.OneMonth,\n                            text: trans('priceHistory.labels.1m'),\n                        },\n                        {\n                            id: Period.All,\n                            text: trans('priceHistory.labels.all'),\n                        }\n                    ]}\n                />\n            </div>\n            <LineChart pricesHistory={pricesHistory} market={market} />\n        </div>\n    )\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\n\nexport type PriceHistoryState = Readonly<{\n    pricesHistory: PriceHistoryData[];\n    pricesError?: string[];\n    pricesLoading: boolean;\n}>;\n\nconst initialState: PriceHistoryState = {\n    pricesHistory: [],\n    pricesLoading: false,\n};\n\nconst pricesHistorySlice = createSlice({\n    initialState,\n    name: 'pools',\n    reducers: {\n        setPriceHistoryErrors(state: PriceHistoryState, action: PayloadAction<string[]>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesError: action.payload,\n            });\n        },\n        setPriceHistoryLoading(state: PriceHistoryState, action: PayloadAction<boolean>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesLoading: action.payload,\n            });\n        },\n        setPricesHistory(state: PriceHistoryState, action: PayloadAction<PriceHistoryData[]>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesHistory: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setPriceHistoryErrors,\n    setPriceHistoryLoading,\n    setPricesHistory,\n} = pricesHistorySlice.actions;\n\nexport default pricesHistorySlice.reducer;\n","import { MarketViewModel } from \"../../models/Market\";\nimport { getPricesHistoryByMarketId, Period } from \"../../services/PricesHistoryService\";\nimport { setPriceHistoryLoading, setPricesHistory } from \"./priceHistory\";\n\nexport function fetchPricesHistoryByMarketId(market: MarketViewModel, period: Period = Period.All) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setPriceHistoryLoading(true));\n\n            const pricesHistory = await getPricesHistoryByMarketId(market, period);\n            dispatch(setPricesHistory(pricesHistory));\n\n            dispatch(setPriceHistoryLoading(false));\n        } catch (error) {\n            dispatch(setPriceHistoryLoading(false));\n            console.error('[getPricesHistoryByMarketId]', error);\n        }\n    };\n}\n","import Skeleton from '@material-ui/lab/Skeleton';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport MarketStatistics from '../../containers/MarketStatistics';\nimport { fetchPricesHistoryByMarketId } from '../../redux/priceHistory/priceHistoryActions';\nimport { Reducers } from '../../redux/reducers';\nimport { Period } from '../../services/PricesHistoryService';\nimport { usePrevious } from '../../utils/hooks/usePrevious';\n\nconst PRICE_HISTORY_INTERVAL_MS = 2000;\ninterface Props {\n    className?: string;\n}\n\nexport default function MarketStatisticsConnector({\n    className = '',\n}: Props) {\n    const pricesHistory = useSelector((store: Reducers) => store.priceHistory.pricesHistory);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const previousMarket = usePrevious(market);\n    const intervalId = useRef<NodeJS.Timeout>();\n    const [period, setPeriod] = useState<Period>(Period.OneDay);\n    const dispatch = useDispatch();\n\n    function handlePeriodChange(period: Period) {\n        if (!market) throw new Error('ERR_NO_MARKET');\n        setPeriod(period);\n\n        // @ts-ignore\n        clearInterval(intervalId.current);\n        dispatch(fetchPricesHistoryByMarketId(market, period));\n\n        intervalId.current = setInterval(() => {\n            dispatch(fetchPricesHistoryByMarketId(market, period));\n        }, PRICE_HISTORY_INTERVAL_MS);\n    }\n\n    useEffect(() => {\n        return () => {\n            // @ts-ignore\n            clearInterval(intervalId.current);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!market) return;\n        if (market.id === previousMarket?.id) return;\n\n        // @ts-ignore\n        clearInterval(intervalId.current);\n        dispatch(fetchPricesHistoryByMarketId(market, period || undefined));\n\n        intervalId.current = setInterval(() => {\n            dispatch(fetchPricesHistoryByMarketId(market, period || undefined));\n        }, PRICE_HISTORY_INTERVAL_MS);\n    }, [market, dispatch]);\n\n    if (!market) {\n        return <Skeleton height={500} />;\n    }\n\n    return (\n        <MarketStatistics\n            pricesHistory={pricesHistory}\n            className={className}\n            onPeriodChange={handlePeriodChange}\n            period={period || undefined}\n            market={market}\n        />\n    );\n}\n","import { useEffect, useRef } from \"react\";\n\nexport function usePrevious<T>(value: T) {\n    const ref = useRef<T | undefined>();\n\n    useEffect(() => {\n        ref.current = value;\n    });\n\n    return ref.current;\n}\n","import Big from \"big.js\";\nimport FluxSdk from \"@fluxprotocol/amm-sdk\";\n\nimport { TokenViewModel } from \"../models/TokenViewModel\";\nimport { MarketViewModel } from \"../models/Market\";\nimport { DEFAULT_FEE } from \"../config\";\n\nexport enum SwapType {\n    Buy = 'BUY',\n    Sell = 'SELL',\n}\n\ninterface GetPricesAfterTradeParams {\n    type: SwapType;\n    market: MarketViewModel;\n    outcomeToken: TokenViewModel;\n    amountIn: Big;\n    amountOut: Big;\n}\n\nexport function getPricesAfterTrade({\n    type,\n    market,\n    outcomeToken,\n    amountIn,\n    amountOut,\n}: GetPricesAfterTradeParams): number[] {\n    if (type === SwapType.Buy) {\n        const newPoolBalances = FluxSdk.utils.computeBalanceAfterSharePurchase(\n            market.outcomeTokens.map(t => new Big(t.poolBalance)),\n            outcomeToken.outcomeId,\n            amountIn,\n            amountOut,\n            DEFAULT_FEE,\n        );\n\n        return FluxSdk.utils.calcPrice(newPoolBalances.map(b => b.toString()));\n    }\n\n    const newPoolBalances = FluxSdk.utils.computeBalanceAfterShareSale(\n        market.outcomeTokens.map(t => new Big(t.poolBalance)),\n        outcomeToken.outcomeId,\n        amountOut,\n        amountIn,\n        DEFAULT_FEE,\n    );\n\n    return FluxSdk.utils.calcPrice(newPoolBalances.map(b => b.toString()));\n}\n\nexport function isTradePossible(params: GetPricesAfterTradeParams): boolean {\n    try {\n        getPricesAfterTrade(params);\n\n        return true;\n    } catch (error) {\n        return false;\n    }\n}\n","import React, { ReactElement } from 'react';\nimport trans from '../../translation/trans';\nimport s from './Overview.module.scss';\n\ninterface KeyValue {\n    key: string,\n    value: string\n}\n\ninterface Props {\n    header: string,\n    data: KeyValue[]\n}\n\nexport default function Overview({\n    data,\n    header\n}: Props): ReactElement {\n    return (\n        <div className={s['overview__container']}>\n            <div className={s.header}>\n                <span>{ header }</span>\n            </div>\n            <div className={s['overview']}>\n                {\n                    data.map((d, i) => (\n                        <div key={i} className={s['overview__info-row']}>\n                            <span className={s['overview__info-key']}>{d.key}</span>\n                            <span className={s['overview__info-value']}>{d.value}</span>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { DEFAULT_SLIPPAGE } from '../../../../config';\nimport { SwapFormValues } from '../../../../services/SwapService';\nimport trans from '../../../../translation/trans';\nimport Overview from \"./../../../../components/Overview\";\nimport mutateFormValues from './utils/overviewMutation';\nimport Big from 'big.js';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\nimport { MarketType, MarketViewModel } from '../../../../models/Market';\nimport { getPricesAfterTrade, SwapType } from '../../../../services/PriceService';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport { getScalarLongShortTokens } from '../../../../services/MarketService';\n\ninterface SwapOverviewProps {\n    formValues: SwapFormValues,\n    market: MarketViewModel;\n}\n\nexport default function SwapOverview({\n    formValues,\n    market,\n}: SwapOverviewProps): ReactElement {\n    const formattedFormValues = mutateFormValues(formValues);\n\n    const collateralToken = formValues.fromToken.isCollateralToken ? formValues.fromToken : formValues.toToken;\n    const amountIn = new Big(formValues.amountIn);\n    const amountOut = new Big(formValues.amountOut);\n    const divisor = new Big(\"100\");\n    const profitPercentage = formValues.amountIn !== \"0\" ? amountOut.minus(amountIn).div(amountIn).mul(divisor).round(2).toString() : \"0\";\n\n    const overViewData = [\n        {\n            key: trans('market.overview.rate'),\n            value: `${formattedFormValues.rateInOut} ${formValues.fromToken.tokenSymbol} / ${formValues.toToken.tokenSymbol}`\n        },\n        {\n            key: trans('market.overview.inverseRate'),\n            value: `${formattedFormValues.rateOutIn} ${formValues.toToken.tokenSymbol} / ${formValues.fromToken.tokenSymbol}`\n        },\n        {\n            key: trans('market.overview.estimatedFee'),\n            value: `${formattedFormValues.feePaid} ${collateralToken.tokenSymbol}`\n        },\n        {\n            key: trans('market.overview.maxSlippage'),\n            value: `${DEFAULT_SLIPPAGE}%`\n        },\n    ]\n\n    if (formValues.type === SwapType.Buy) {\n        overViewData.push({\n            key: trans('market.overview.maxPayout'),\n            value: `${formValues.formattedAmountOut || \"0\"} ${formValues.fromToken.tokenSymbol} (+${profitPercentage}%)`\n        });\n    } else if (amountIn.gt(\"0\")) {\n        const spent = new Big(formValues.fromToken.spent);\n        const balance = new Big(formValues.fromToken.balance);\n        const avgPaidPrice = balance.gt(\"0\") ? spent.div(balance) : new Big(\"0\");\n        const avgSellPrice = amountIn.gt(\"0\") ? amountOut.div(amountIn) : new Big(\"0\");\n        const spendAtAvgSellPrice = avgSellPrice.mul(amountIn);\n        const spendAtAvgPaidPrice = avgPaidPrice.mul(amountIn);\n\n        if (avgPaidPrice.gt(avgSellPrice)) {\n            // Escrow invalid\n            const escrowInvalid = spendAtAvgPaidPrice.minus(spendAtAvgSellPrice);\n            const formattedEscrowInvalid = escrowInvalid.gt(\"0.01\") ? formatCollateralToken(escrowInvalid.toString(), formValues.toToken.decimals) : \"< 0.01\";\n            overViewData.push(\n                {\n                    key: trans('market.overview.escrowInvalid'),\n                    value: `~${formattedEscrowInvalid}${formValues.toToken.tokenSymbol}`\n                },\n                {\n                    key: trans('market.overview.paidNow'),\n                    value: `${formValues.formattedAmountOut} ${formValues.toToken.tokenSymbol}`\n                }\n            );\n\n        } else if ((avgSellPrice.gt(avgPaidPrice))){\n            // Escrow valid\n            const escrowInvalid = spendAtAvgSellPrice.minus(spendAtAvgPaidPrice);\n            const formattedEscrowInvalid = escrowInvalid.gt(\"0.01\") ? formatCollateralToken(escrowInvalid.toString(), formValues.toToken.decimals) : \"< 0.01\";\n            const paidNow = amountOut.minus(escrowInvalid);\n            const formattedOutNow = formatCollateralToken(paidNow.toString(), formValues.toToken.decimals);\n\n            overViewData.push(...[\n                {\n                    key: trans('market.overview.escrowValid'),\n                    value: `~${formattedEscrowInvalid} ${formValues.toToken.tokenSymbol}`\n                },\n                {\n                    key: trans('market.overview.paidNow'),\n                    value: `${formattedOutNow} ${formValues.toToken.tokenSymbol}`\n                }\n            ]);\n        }\n    }\n\n    return <Overview data={overViewData} header={trans('market.label.overview', {}, true)} />;\n}\n","import { formatCollateralToken } from \"../../../../../services/CollateralTokenService\";\nimport { SwapFormValues } from \"../../../../../services/SwapService\";\nimport Big from \"big.js\";\nimport { BUY, DEFAULT_FEE } from \"../../../../../config\";\n\nexport interface OverviewValues {\n    rateInOut: string,\n    rateOutIn: string,\n    feePaid: string,\n\n}\n\nexport default function mutateFormValues(formValues: SwapFormValues): OverviewValues {\n    // Check if amountIn / amountOut are valid for calculation\n    if (formValues.amountIn === \"\" || formValues.amountIn === \"0\" || formValues.amountOut === \"0\" || formValues.amountIn === \"\") {\n        return {\n            rateInOut: \"0\",\n            rateOutIn: \"0\",\n            feePaid: \"0\",\n        }\n    }\n\n    const one = new Big(`1e${formValues.fromToken.decimals}`);\n    const collateralToken = formValues.fromToken.isCollateralToken ? formValues.fromToken : formValues.toToken;\n    const amountInBN = new Big(formValues.amountIn);\n    const amountOutBN = new Big(formValues.amountOut);\n    const rateInOut = formatCollateralToken(amountInBN.mul(one.toString()).div(amountOutBN).toString(), formValues.fromToken.decimals);\n    const rateOutIn = formatCollateralToken(amountOutBN.mul(one.toString()).div(amountInBN).toString(), formValues.toToken.decimals);\n    const feedAmount = formValues.type === BUY ? formValues.amountIn : formValues.amountOut;\n    const feePaid = formatCollateralToken(new Big(feedAmount).mul(new Big(DEFAULT_FEE)).div(new Big(\"100\")).toString(), collateralToken.decimals);\n\n    return {\n        rateInOut,\n        rateOutIn,\n        feePaid,\n    }\n}\n","import Big from \"big.js\";\n\nconst ZERO = new Big(0);\n\nconst ceilDiv = (a: Big, b: Big): Big => {\n    return a.mod(b) === ZERO ? a.div(b) : a.div(b).add(1);\n};\n\nconst mulBN = (a: Big, b: number, scale = 10000): Big => {\n  return new Big(a)\n    .mul(Math.round(b * scale))\n    .div(scale);\n};\n\n/**\n * Computes the amount of shares that will be bought with `investmentAmount` amount collateral.\n *\n * @param investmentAmount The amount of collateral being put into the market maker\n * @param outcomeIndex The index of the outcome being bought\n * @param poolBalances How many tokens the market maker has of each outcome\n * @param fee The fee of the market maker, between 0 and 1\n */\n\nexport const calcBuyAmountInShares = (\n  investmentAmount: Big,\n  outcomeIndex: number,\n  poolBalances: Big[],\n  fee: number,\n  denomination: number,\n): Big => {\n    if (outcomeIndex < 0 || outcomeIndex >= poolBalances.length) {\n        throw new Error(`Outcome index '${outcomeIndex}' must be between 0 and '${poolBalances.length - 1}'`);\n    }\n    if (investmentAmount.eq(0) || poolBalances.every(x => x.eq(0))) return ZERO;\n\n    const one = new Big(`1e${denomination}`);\n    const investmentAmountMinusFees = mulBN(investmentAmount, 1 - fee);\n    const newOutcomeBalance = poolBalances.reduce(\n        (accumulator, poolBalance, i) =>\n        i !== outcomeIndex\n            ? ceilDiv(accumulator.mul(poolBalance), poolBalance.add(investmentAmountMinusFees))\n            : accumulator.mul(poolBalance),\n        one,\n    );\n\n    return poolBalances[outcomeIndex].add(investmentAmountMinusFees).sub(ceilDiv(newOutcomeBalance, one));\n};\n","import Big from \"big.js\";\n\nimport { DEFAULT_FEE } from \"../../../config\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { formatCollateralToken } from \"../../../services/CollateralTokenService\";\nimport { calcBuyAmountInShares } from \"../../../utils/calcBuyAmountInShares\";\nimport { SwapFormValues } from \"./../../../services/SwapService\";\nimport { calcSellAmountInCollateral } from \"../../../utils/calcSellAmountOut\";\nimport { getPricesAfterTrade, SwapType } from \"../../../services/PriceService\";\nimport { MarketViewModel } from \"../../../models/Market\";\n\nexport default function mutateFormValues(formValues: SwapFormValues, tokens: TokenViewModel[], market: MarketViewModel): SwapFormValues {\n    const swapType = formValues.type as SwapType;\n    const outcomeToken = swapType === SwapType.Buy ? formValues.toToken : formValues.fromToken;\n    let newPrices = tokens.map(t => t.price);\n\n    if (!formValues.formattedAmountIn) {\n        return {\n            ...formValues,\n            newPrices,\n        };\n    }\n\n    if (new Big(formValues.formattedAmountIn).lt(0)) {\n        return {\n            ...formValues,\n            newPrices,\n            formattedAmountIn: \"0\",\n            amountIn: \"0\",\n        }\n    }\n\n    const poolBalances = tokens.map(token => new Big(token.poolBalance.toString()));\n    const buy = !!formValues.fromToken.tokenAccountId;\n    const collateralToken = buy ? formValues.fromToken : formValues.toToken;\n\n    const formattedFee = DEFAULT_FEE / 100;\n\n    const amountOut = buy ? calcBuyAmountInShares(\n            new Big(formValues.amountIn),\n            formValues.toToken.outcomeId,\n            poolBalances,\n            formattedFee,\n            collateralToken.decimals,\n        ) :\n        calcSellAmountInCollateral(\n            new Big(formValues.amountIn),\n            formValues.fromToken.outcomeId,\n            poolBalances,\n            formattedFee\n        )\n\n    if (!amountOut) {\n        return {\n            ...formValues,\n            formattedAmountOut: \"0\",\n            amountOut: \"0\"\n        }\n    }\n\n    // Calculating the new price of the specific outcome token\n    try {\n        newPrices = getPricesAfterTrade({\n            type: swapType,\n            market,\n            outcomeToken,\n            amountIn: new Big(formValues.amountIn),\n            amountOut,\n        });\n    } catch (error) {}\n\n    return {\n        ...formValues,\n        formattedAmountOut: formatCollateralToken(amountOut.toString(), collateralToken.decimals),\n        amountOut: amountOut.round(0, 0).toString(),\n        newPrices,\n    };\n}\n","import Big from \"big.js\";\nimport { newtonRaphson } from \"@fvictorio/newton-raphson-method\";\n\n/** Using Omen's utility functions adjusted where necessary  **/\n/**\n * Computes the amount of collateral that needs to be sold to get `shares` amount of shares. Returns null if the amount\n * couldn't be computed.\n *\n * @param sharesToSell The amount of shares that need to be sold\n * @param holdings How many tokens the market maker has of the outcome that is being sold\n * @param otherHoldings How many tokens the market maker has of the outcomes that are not being sold\n * @param fee The fee of the market maker, between 0 and 1\n */\nexport const calcSellAmountInCollateral = (\n    sharesToSell: Big,\n    outcomeId: number,\n    poolBalances: Big[],\n    fee: number,\n): Big | null => {\n    if (outcomeId < 0 || outcomeId >= poolBalances.length) {\n        throw new Error(`Outcome index '${outcomeId}' must be between 0 and '${poolBalances.length - 1}'`);\n    }\n\n    const holdings = poolBalances[outcomeId];\n    const otherHoldings = poolBalances.filter((_, i) => outcomeId !== i);\n    const f = (r: Big): Big => {\n        // For three outcomes, where the first outcome is the one being sold, the formula is:\n        // f(r) = ((y - R) * (z - R)) * (x  + a - R) - x*y*z\n        // where:\n        //   `R` is r / (1 - fee)\n        //   `x`, `y`, `z` are the market maker holdings for each outcome\n        //   `a` is the amount of outcomes that are being sold\n        //   `r` (the unknown) is the amount of collateral that will be returned in exchange of `a` tokens\n        const R = r.div(1 - fee)\n        const firstTerm = otherHoldings.map(h => h.minus(R)).reduce((a, b) => a.mul(b));\n        const secondTerm = holdings.plus(sharesToSell).minus(R);\n        const thirdTerm = otherHoldings.reduce((a, b) => a.mul(b), holdings);\n        return firstTerm.mul(secondTerm).minus(thirdTerm)\n    };\n\n    const r = newtonRaphson(f, 0, { maxIterations: 100 });\n\n    if (r) {\n        const amountToSell = new Big(r.toFixed(0));\n        return amountToSell;\n    }\n\n    return null;\n};\n","import Big from \"big.js\";\nimport { MarketViewModel } from \"../../../models/Market\";\nimport { isTradePossible, SwapType } from \"../../../services/PriceService\";\nimport { SwapFormValues } from \"../../../services/SwapService\";\nimport trans from \"../../../translation/trans\";\n\ninterface SwapFormErrors {\n    canSubmit: boolean;\n    message: string;\n}\n\nexport function validateSwapFormValues(formValues: SwapFormValues, market: MarketViewModel): SwapFormErrors {\n    const errors: SwapFormErrors = {\n        canSubmit: true,\n        message: '',\n    }\n\n    if (formValues.amountIn) {\n        if (new Big(formValues.amountIn).gt(formValues.fromToken.balance)) {\n            errors.message = trans('swap.errors.notEnoughBalance');\n            errors.canSubmit = false;\n        }\n\n        if (new Big(formValues.amountIn).lte(0)) {\n            errors.canSubmit = false;\n        }\n\n    } else {\n        errors.canSubmit = false;\n    }\n\n    if (formValues.amountOut) {\n        if (new Big(formValues.amountOut).lte(0)) {\n            errors.canSubmit = false;\n        }\n    }\n\n    if (formValues.amountIn && formValues.amountOut) {\n        const swapType = formValues.type as SwapType;\n        const enoughLiquidity = isTradePossible({\n            amountIn: new Big(formValues.amountIn),\n            amountOut: new Big(formValues.amountOut),\n            market,\n            outcomeToken: swapType === SwapType.Buy ? formValues.toToken : formValues.fromToken,\n            type: swapType,\n        });\n\n        if (!enoughLiquidity) {\n            errors.canSubmit = false;\n            errors.message = trans('swap.errors.notEnoughLiquidity');\n        }\n    }\n\n    return errors;\n}\n","import React, { ReactElement, useState } from 'react';\nimport classnames from 'classnames';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\n\nimport Button from '../../components/Button';\nimport IconButton from '../../components/IconButton';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport trans from '../../translation/trans';\nimport SwapOverview from './components/SwapOverview/SwapOverview';\nimport createDefaultSwapFormValues from './utils/createDefaultSwapFormValues';\nimport { SwapFormValues } from '../../services/SwapService';\nimport mutateFormValues from './utils/formValuesMutation';\nimport { MarketType, MarketViewModel } from '../../models/Market';\nimport { toCollateralToken } from '../../services/CollateralTokenService';\nimport { BUY, SELL } from '../../config';\nimport swap from \"./../../assets/images/icons/swap.svg\";\nimport { validateSwapFormValues } from './utils/validateSwapFormValues';\nimport Error from '../../components/Error';\nimport { getScalarLongShortTokens } from '../../services/MarketService';\nimport { SwapType } from '../../services/PriceService';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\nimport s from './TokenSwapper.module.scss';\n\ninterface TokenSwapperProps {\n    inputs: TokenViewModel[];\n    outputs: TokenViewModel[];\n    onRequestSwitchPairs: () => void;\n    onConfirm: (formData: SwapFormValues) => Promise<void>;\n    className?: string;\n    market: MarketViewModel;\n}\n\nexport default function TokenSwapper({\n    market,\n    inputs,\n    outputs,\n    onConfirm,\n    onRequestSwitchPairs,\n    className = '',\n}: TokenSwapperProps): ReactElement {\n    const [formValues, setFormValues] = useState(createDefaultSwapFormValues(inputs[0], outputs[0]));\n    const collateralToken = inputs.length === 1 ? inputs[0] : outputs[0];\n\n    function handleSubmit(mutatedValues: SwapFormValues) {\n        onConfirm(mutatedValues);\n    }\n\n    function handleInputTokenSwitch(token: TokenViewModel) {\n        setFormValues({\n            ...formValues,\n            fromToken: token\n        });\n    }\n\n    function handleOutputTokenSwitch(token: TokenViewModel) {\n        setFormValues({\n            ...formValues,\n            toToken: token\n        });\n    }\n\n    function handleAmountInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            formattedAmountIn: value,\n            amountIn: value ? toCollateralToken(value, collateralToken.decimals) : \"0\"\n        });\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            amountIn: formValues.fromToken.balance,\n            formattedAmountIn: formValues.fromToken.balanceFormatted,\n        });\n    }\n\n    // TODO: mutation makes token values after switch go down recursively, should only switch between 2 states\n    function switchTokenPlaces() {\n        setFormValues({\n            ...formValues,\n            type: inputs.length === 1 ? SELL : BUY,\n            amountIn: formValues.amountOut,\n            amountOut: formValues.amountIn,\n            formattedAmountIn: formValues.formattedAmountOut,\n            formattedAmountOut: formValues.formattedAmountIn,\n            fromToken: formValues.toToken,\n            toToken: formValues.fromToken,\n        });\n        onRequestSwitchPairs();\n    }\n\n    const poolTokens = outputs.length > 1 ? outputs : inputs;\n    const mutation = mutateFormValues(formValues, poolTokens, market);\n    const errors = validateSwapFormValues(mutation, market);\n    const scalarTokens = getScalarLongShortTokens(market.outcomeTokens);\n    const swapType = mutation.type as SwapType;\n    const newEstimate = FluxSdk.utils.calcScalarValue(\n        scalarTokens.lowerBound,\n        scalarTokens.upperBound,\n        new Big(mutation.newPrices[scalarTokens.longToken.outcomeId])\n    );\n\n    return (\n        <form className={classnames(s['token-swapper'], className)}>\n            <LabeledTokenSelect\n                label={trans('market.label.youPay')}\n                onBalanceClick={handleBalanceClick}\n                onTokenSwitch={handleInputTokenSwitch}\n                value={mutation.formattedAmountIn}\n                tokens={inputs}\n                selectedToken={mutation.fromToken}\n                onValueChange={(v) => handleAmountInChange(v)}\n                newPrice={mutation.fromToken.isCollateralToken ? undefined : mutation.newPrices[mutation.fromToken.outcomeId]}\n            />\n\n            <div className={s['token-swapper__switch-tokens']}>\n                <IconButton onClick={switchTokenPlaces} icon={swap} alt={trans('market.action.switchTokens')} />\n            </div>\n\n            <div className={s.receiveInputs}>\n                <LabeledTokenSelect\n                    label={trans('market.label.youReceive')}\n                    onTokenSwitch={handleOutputTokenSwitch}\n                    value={mutation.formattedAmountOut}\n                    tokens={outputs}\n                    selectedToken={mutation.toToken}\n                    disabledInput\n                    newPrice={mutation.toToken.isCollateralToken ? undefined : mutation.newPrices[mutation.toToken.outcomeId]}\n                />\n            </div>\n\n            {market.type === MarketType.Scalar && swapType === SwapType.Buy && (\n                <div className={s.newEstimateWrapper}>\n                    <span className={s.newEstimateText}>\n                        {scalarTokens.longToken.outcomeId === mutation.toToken.outcomeId ?\n                            trans('market.overview.estimateMoreAfterTrade') :\n                            trans('market.overview.estimateLessAfterTrade')\n                        }\n                    </span>\n                    <span>{newEstimate.toFixed(2)}</span>\n                </div>\n            )}\n\n            <SwapOverview formValues={mutation} market={market} />\n            <Error error={errors.message} />\n\n            <Button disabled={!errors.canSubmit} onClick={() => handleSubmit(mutation)} className={s['token-swapper__confirm']}>\n                {trans('market.action.confirmSwap')}\n            </Button>\n        </form>\n    );\n}\n","import { BUY } from \"../../../config\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { SwapFormValues } from \"../../../services/SwapService\";\n\nexport default function createDefaultSwapFormValues(fromToken: TokenViewModel, toToken: TokenViewModel): SwapFormValues {\n    return {\n        type: BUY,\n        fromToken,\n        toToken,\n        amountIn: \"0\",\n        amountOut: \"0\",\n        formattedAmountIn: \"\",\n        formattedAmountOut: \"\",\n        newPrices: [],\n    }\n}\n","import React, { ReactElement } from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './TokenSwapperLoader.module.scss';\n\nexport default function TokenSwapperLoader(): ReactElement {\n    return (\n        <div>\n            <Skeleton height={106} className={s.skeleton} />\n            <Skeleton height={106} className={s.skeleton} />\n            <Skeleton height={130} className={s.skeleton} />\n            <Skeleton height={60} className={s.skeleton} />\n        </div>\n    );\n}\n","import React, { ReactElement, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BUY } from '../../config';\nimport TokenSwapper from '../../containers/TokenSwapper';\nimport TokenSwapperLoader from '../../containers/TokenSwapper/TokenSwapperLoader';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { reloadTokens } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport createProtocolContract from '../../services/contracts/ProtocolContract';\nimport createTokenContract from '../../services/contracts/TokenContract';\nimport { SwapFormValues } from '../../services/SwapService';\n\nconst TOKEN_FETCH_INTERVAL_MS = 5000;\n\ninterface Props {\n    className?: string;\n}\n\nexport default function TokenSwapperConnector({\n    className,\n}: Props): ReactElement {\n    const dispatch = useDispatch();\n    const [switched, setSwitched] = useState(false);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const intervalId = useRef<NodeJS.Timeout>();\n\n    useEffect(() => {\n        return () => {\n            // @ts-ignore\n            clearInterval(intervalId.current);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!market) return;\n\n        clearInterval(intervalId.current as unknown as number);\n\n        intervalId.current = setInterval(() => {\n            dispatch(reloadTokens(market.id, market.collateralToken));\n        }, TOKEN_FETCH_INTERVAL_MS);\n\n        return () => {\n            clearInterval(intervalId.current as unknown as number);\n        }\n    }, [market, dispatch]);\n\n    async function onConfirm(\n        values: SwapFormValues\n    ): Promise<void> {\n        if (!market) throw new Error(\"Market is undefined\");\n\n        if (values.type === BUY) {\n            const token = await createTokenContract(values.fromToken.tokenAccountId || '');\n            return token.buy(market.id, values);\n        } else {\n            const protocol = await createProtocolContract();\n            return protocol.sell(market.id, values);\n        }\n    }\n\n    function handleRequestSwitchPairs() {\n        setSwitched(!switched);\n    }\n\n    if (!market) {\n        return <TokenSwapperLoader />;\n    }\n\n    const inputs: TokenViewModel[] = [market.collateralToken];\n\n    return (\n        <TokenSwapper\n            market={market}\n            inputs={switched ? market.outcomeTokens : inputs}\n            outputs={switched ? inputs : market.outcomeTokens}\n            onConfirm={onConfirm}\n            onRequestSwitchPairs={handleRequestSwitchPairs}\n            className={className}\n        />\n    );\n}\n","import React, { PropsWithChildren, ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './ActionCard.module.scss';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function ActionsCard({\n    children,\n    className = '',\n}: PropsWithChildren<Props>): ReactElement {\n    return (\n        <div className={classnames(s.root, className)}>\n            {children}\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport SwipeableViews from 'react-swipeable-views';\n\nimport TabBar, { TabBarItem } from '../TabBar/TabBar';\n\nimport s from './TabbedViews.module.scss';\n\ninterface ViewItem extends TabBarItem {\n    element: React.ReactNode;\n}\n\ninterface Props {\n    items: ViewItem[];\n}\n\nexport default function TabbedView({\n    items,\n}: Props) {\n    const [activeId, setActiveId] = useState(0);\n    const availableItems = items.filter(item => item.show);\n    const activeItem = availableItems[activeId];\n\n    function handleTabClick(item: TabBarItem) {\n        const itemIndex = availableItems.findIndex(i => i.id === item.id);\n        setActiveId(itemIndex);\n    }\n\n    function handleIndexChange(index: number) {\n        setActiveId(index);\n    }\n\n    return (\n        <div>\n            <TabBar\n                items={availableItems}\n                variant=\"fullWidth\"\n                onTabClick={handleTabClick}\n                activeId={activeItem?.id || \"\"}\n                className={s.tabs}\n                tabClassName={s.tab}\n            />\n            <SwipeableViews index={activeId} onChangeIndex={handleIndexChange}>\n                {availableItems.map(item => (\n                    <div className={s.view}>\n                        {item.element}\n                    </div>\n                ))}\n            </SwipeableViews>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Big from \"big.js\";\nimport { MarketViewModel } from '../../../../models/Market';\nimport Overview from '../../../../components/Overview';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport trans from '../../../../translation/trans';\n\n\ninterface Props {\n    market: MarketViewModel\n    amount: string\n}\n\nexport default function LiquidityOverview({\n    market,\n    amount\n}: Props): ReactElement {\n    const maxBalance = new Big(market.outcomeTokens.reduce((s, t) => new Big(t.poolBalance).gt(new Big(s))  ? t.poolBalance : s, \"0\"));\n    const collateralIn = amount ? new Big(amount) : new Big(\"0\");\n\n    const data = market.outcomeTokens.map(t => {\n        const balance = new Big(t.poolBalance);\n        return  {\n            key: t.tokenName + trans('market.label.spaceTokens'),\n            value: FluxSdk.utils.formatToken(collateralIn.minus(collateralIn.mul(balance).div(maxBalance)).toString(), t.decimals)\n        }\n    });\n    \n    // Add % of total liquidity tokens\n    const lpTokensOut = collateralIn.mul(new Big(market.poolTokenInfo.totalSupply)).div(maxBalance);\n    const prependData = [\n        {\n            key: trans('market.label.lp') + trans('market.label.spaceTokens'),\n            value: FluxSdk.utils.formatToken(lpTokensOut.toString(), market.collateralToken.decimals)\n        },\n        {\n            key: trans('market.label.relativePoolShare'),\n            value: new Big(lpTokensOut).div(new Big(market.poolTokenInfo.totalSupply)).mul(new Big(\"100\")).round(2).toString() + \"%\"\n        },\n    ]\n\n    return (\n        <Overview data={[...data, ...prependData]} header={trans('market.label.youReceive', {}, true)}/>\n    )\n}\n","import React, { ReactElement, useState } from 'react';\n\nimport Button from '../../components/Button';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport trans from '../../translation/trans';\nimport TokenSelect from '../TokenSelect';\nimport { LiquidityProviderFormValues, validateLiquidityProviderFormValues } from './services/validateLiquidityProviderFormValues';\n\nimport s from './LiquidityProvider.module.scss';\nimport Error from '../../components/Error';\nimport TextButton from '../../components/TextButton';\nimport { toCollateralToken } from '../../services/CollateralTokenService';\nimport LiquidityOverview from './components/LiquidityOverview/LiquidityOverview';\nimport { MarketViewModel } from '../../models/Market';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\ninterface Props {\n    market: MarketViewModel;\n    onSubmit: (formValues: LiquidityProviderFormValues) => void;\n}\n\nexport default function LiquidityProvider({\n    market,\n    onSubmit,\n}: Props): ReactElement {\n    const [formValues, setFormValues] = useState<LiquidityProviderFormValues>({\n        liquidityAmountIn: '',\n        liquidityAmountInFormatted: '',\n    });\n    function handleSubmit() {\n        onSubmit(formValues);\n    }\n\n    function handleInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            liquidityAmountIn: value ? toCollateralToken(value, market.collateralToken.decimals) : '',\n            liquidityAmountInFormatted: value,\n        });\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            liquidityAmountIn: market.collateralToken.balance,\n            liquidityAmountInFormatted: market.collateralToken.balanceFormatted,\n        });\n    }\n\n    const errors = validateLiquidityProviderFormValues(formValues, market.collateralToken);\n\n    return (\n        <div>\n            <p>\n                {trans('liquidityProvider.description', {\n                    percentage: '2',\n                })}\n            </p>\n\n            <LabeledTokenSelect\n                label={trans('market.label.youPay')}\n                onBalanceClick={handleBalanceClick}\n                value={formValues.liquidityAmountInFormatted}\n                onValueChange={(v) => handleInChange(v)}\n                onTokenSwitch={() => { }}\n                selectedToken={market.collateralToken}\n                tokens={[market.collateralToken]}\n                className={s.tokenSelect}\n                placeholder=\"1000\"\n            />\n\n            <LiquidityOverview market={market} amount={formValues.liquidityAmountIn} />\n\n            <Error error={errors.liquidityAmountIn} />\n\n            <Button disabled={!errors.canAddLiquidity} onClick={handleSubmit} className={s.confirm}>\n                {trans('market.action.confirmLiquidity')}\n            </Button>\n        </div>\n    );\n}\n","import Big from \"big.js\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport trans from \"../../../translation/trans\";\n\ninterface LiquidityProviderErrors {\n    liquidityAmountIn: string;\n    canAddLiquidity: boolean;\n}\n\nexport interface LiquidityProviderFormValues {\n    liquidityAmountIn: string;\n    liquidityAmountInFormatted: string;\n}\n\nexport function validateLiquidityProviderFormValues(formValues: LiquidityProviderFormValues, collateralToken: TokenViewModel): LiquidityProviderErrors {\n    const errors: LiquidityProviderErrors = {\n        canAddLiquidity: true,\n        liquidityAmountIn: '',\n    };\n\n    if (formValues.liquidityAmountIn) {\n        const inputAmount = formValues.liquidityAmountIn;\n\n        if (new Big(inputAmount).lte(0)) {\n            errors.canAddLiquidity = false;\n        }\n\n        if (new Big(inputAmount).gt(collateralToken.balance)) {\n            errors.liquidityAmountIn = trans('liquidityProvider.errors.notEnoughBalance');\n            errors.canAddLiquidity = false;\n        }\n    } else {\n        errors.canAddLiquidity = false;\n    }\n\n    return errors;\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport LiquidityProvider from '../../containers/LiquidityProvider';\nimport { LiquidityProviderFormValues } from '../../containers/LiquidityProvider/services/validateLiquidityProviderFormValues';\nimport { Reducers } from '../../redux/reducers';\nimport { joinPool } from '../../services/PoolService';\n\n\nexport default function LiquidityProviderConnector(): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    const onJoinPool = useCallback((formValues: LiquidityProviderFormValues) => {\n        if (!market) return;\n\n        joinPool(market.id, formValues.liquidityAmountIn, market.collateralTokenId);\n    }, [market]);\n\n    if (!market) {\n        return <div />\n    }\n\n    return (\n        <LiquidityProvider\n            market={market}\n            onSubmit={onJoinPool}\n        />\n    );\n}\n","import React from 'react';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\nimport trans from '../../../../translation/trans';\n\nimport s from './FinalizedMarketOutcomes.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function FinalizedMarketOutcomes({\n    market,\n}: Props) {\n    const payoutNumerator = market.payoutNumerator || [];\n\n    return (\n        <div>\n            <table className={s.table}>\n                <thead>\n                    <tr>\n                        <th>{trans('market.claimEarnings.label.outcome')}</th>\n                        <th>{trans('market.claimEarnings.label.payout')}</th>\n                        <th>{trans('market.claimEarnings.label.balance')}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {payoutNumerator.map((numerator, index) => {\n                        const outcome = market.outcomeTokens.find(token => token.outcomeId === index);\n\n                        return (\n                            <tr key={outcome?.outcomeId}>\n                                <td style={{ color: `var(${outcome?.colorVar})` }}>{outcome?.tokenName}</td>\n                                <td>{formatCollateralToken(numerator, market.collateralToken.decimals)} {market.collateralToken.tokenSymbol}</td>\n                                <td>{outcome?.balanceFormatted} {outcome?.tokenSymbol}</td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Button from '../../components/Button';\nimport { EscrowStatus } from '../../models/EscrowStatus';\nimport { MarketViewModel } from '../../models/Market';\nimport { PoolToken } from '../../models/PoolToken';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport trans from '../../translation/trans';\n\nimport s from './ClaimEarnings.module.scss';\nimport FinalizedMarketOutcomes from './components/FinalizedMarketOutcomes';\nimport { calculatePayout } from './services/calculatePayout';\n\ninterface Props {\n    poolToken?: PoolToken;\n    market: MarketViewModel;\n    escrowStatus: EscrowStatus[];\n    onClaim: () => void;\n}\n\nexport default function ClaimFees({\n    poolToken,\n    market,\n    escrowStatus,\n    onClaim,\n}: Props): ReactElement {\n    const payout = calculatePayout(market.outcomeTokens, market.payoutNumerator, escrowStatus, market.poolTokenInfo.totalSupply, poolToken);\n    \n    return (\n        <div>\n            {market.invalid && (\n                <p>{trans('market.claimEarnings.invalidMarket')}</p>\n            )}\n\n            {!market.invalid && (\n                <>\n                    <p>\n                        {trans('market.claimEarnings.validMarket')}\n                    </p>\n                    <FinalizedMarketOutcomes market={market} />\n                </>\n            )}\n\n            {market.claim && (\n                <p>\n                    {trans('market.claimEarnings.alreadyClaimed', {\n                        payout: market.claim.payoutFormatted,\n                        tokenName: market.collateralToken.tokenSymbol,\n                    })}\n                </p>\n            )}\n\n            {!market.claim && !market.invalid && (\n                <p>\n                    {trans('market.claimEarnings.label.claimable', {\n                        tokenName: market.collateralToken.tokenSymbol,\n                    })}\n                    <span className={s.claimable}>\n                        {formatCollateralToken(payout.toString(), market.collateralToken.decimals, 8)} {market.collateralToken.tokenSymbol}\n                    </span>\n                </p>\n            )}\n\n            <Button disabled={Boolean(market.claim)} onClick={onClaim} className={s.confirm}>\n                {trans('market.action.claimEarnings')}\n            </Button>\n        </div>\n    );\n}\n","import Big from \"big.js\";\nimport { EscrowStatus } from \"../../../models/EscrowStatus\";\nimport { PoolToken } from \"../../../models/PoolToken\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\n\nexport function calculatePayout(\n    tokens: TokenViewModel[], \n    payoutNumerator: string[] | null, \n    escrowStatus: EscrowStatus[], \n    poolTokenTotalSupply: string, \n    poolToken?: PoolToken\n): Big {\n    let claimable = new Big(0);\n\n    // First add fees\n    if (poolToken) {\n        claimable = claimable.add(poolToken.fees);\n    }\n    \n    // Token balance * payout numerator\n    if (payoutNumerator) {\n        const escrowValidMarket = escrowStatus.find(status => status.type === 'valid_escrow');\n        const numerators = payoutNumerator.map(n => new Big(n));\n\n        numerators.forEach((num, outcome) => {\n            const token = tokens.find(token => token.outcomeId === outcome);\n            if (!token || num.eq(\"0\")) return;\n\n            const payout = new Big(token.balance).mul(num.div(`1e${token.decimals}`));\n            // Calculate payout from still existent lp tokens\n            if (poolToken) {\n                const bal = new Big(poolToken.balance);\n                if (bal.eq(\"0\")) return;\n                const ts = new Big(poolTokenTotalSupply);\n                const relBal = bal.div(ts);\n                const outcomeOwnership = relBal.mul(tokens[outcome].poolBalance);\n                const claimableThroughExit = outcomeOwnership.mul(num.div(`1e${token.decimals}`));\n                claimable = claimable.add(claimableThroughExit);\n            }\n\n            claimable = claimable.add(payout);\n        });\n\n        if (escrowValidMarket) {\n            claimable = claimable.add(escrowValidMarket.totalAmount);\n        }\n    } else {\n        // Return total spent + escrow.invalid\n    }\n\n    return claimable;\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport ClaimEarnings from '../../containers/ClaimEarnings';\nimport { Reducers } from '../../redux/reducers';\nimport { claimEarningsForMarket } from '../../services/MarketService';\n\n\nexport default function ClaimEarningsConnector(): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const escrowStatus = useSelector((store: Reducers) => store.market.escrowStatus);\n\n    const handleClaim = useCallback(() => {\n        if (!market) return;\n\n        claimEarningsForMarket(market.id);\n    }, [market]);\n\n    if (!market) {\n        return (\n            <div />\n        );\n    }\n\n    return (\n        <ClaimEarnings\n            poolToken={poolToken}\n            market={market}\n            onClaim={handleClaim}\n            escrowStatus={escrowStatus}\n        />\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\nimport Button from '../../components/Button';\nimport Label from '../../components/Label';\nimport TextInput from '../../components/TextInput';\nimport { Account } from '../../models/Account';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport createDefaultSeedPoolFormValues from './services/createDefaultSeedPoolFormValues';\nimport { validateSeedPool } from './services/validateSeedPool';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport TokenSelect from '../TokenSelect';\nimport { SeedPoolFormValues } from '../../services/PoolService';\n\nimport s from './SeedPool.module.scss';\nimport Error from '../../components/Error';\nimport TextButton from '../../components/TextButton';\nimport { toCollateralToken } from '../../services/CollateralTokenService';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\ninterface Props {\n    market: MarketViewModel;\n    mainToken: TokenViewModel;\n    account: Account | null,\n    onSeedPool: (values: SeedPoolFormValues) => void;\n}\n\nexport default function SeedPool({\n    market,\n    account,\n    mainToken,\n    onSeedPool,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultSeedPoolFormValues());\n\n    function handlePercentageChange(index: number, value: string) {\n        const percentages = formValues.outcomePercentages;\n        percentages[index] = value;\n\n        setFormValues({\n            ...formValues,\n            outcomePercentages: percentages\n        });\n    }\n\n    function handleMainTokenChange(value: string) {\n        setFormValues({\n            ...formValues,\n            mainTokenInputFormatted: value,\n            mainTokenInput: value ? toCollateralToken(value, mainToken.decimals) : '',\n        });\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            mainTokenInputFormatted: mainToken.balanceFormatted,\n            mainTokenInput: mainToken.balance,\n        });\n    }\n\n    useEffect(() => {\n        setFormValues({\n            ...formValues,\n            outcomePercentages: market.outcomeTokens.map(() => '0')\n        });\n    }, [market.outcomeTokens]);\n\n    const errors = validateSeedPool(formValues, market);\n\n    return (\n        <div>\n            <form>\n                <p>{trans('seedPool.explanation', { tokenName: mainToken.tokenName })}</p>\n\n                <div className={s.inputWrapper}>\n                    <LabeledTokenSelect\n                        label=\"\"\n                        onBalanceClick={handleBalanceClick}\n                        onTokenSwitch={() => { }}\n                        value={formValues.mainTokenInputFormatted}\n                        tokens={[mainToken]}\n                        selectedToken={mainToken}\n                        onValueChange={handleMainTokenChange}\n                        placeholder=\"1000\"\n                    />\n                    <Error error={errors.mainTokenInput} />\n                </div>\n\n                <h3>{trans('seedPool.weightsTitle')}</h3>\n                {formValues.outcomePercentages.map((percentage, index) => (\n                    <div className={s.inputWrapper} key={index}>\n                        <Label text={market.outcomeTokens.find(outcome => outcome.outcomeId === index)?.tokenName || \"\"} />\n                        <TextInput\n                            value={percentage}\n                            type=\"number\"\n                            onChange={(value) => handlePercentageChange(index, value)}\n                            error={!!errors.outcomePercentages[index]}\n                            helperText={errors.outcomePercentages[index]}\n                            InputProps={{\n                                endAdornment: (\n                                    <InputAdornment position=\"end\">\n                                        <span className={s.adornement}>%</span>\n                                    </InputAdornment>\n                                )\n                            }}\n                        />\n                    </div>\n                ))}\n\n                {!errors.canSeed && <p>{errors.message}</p>}\n\n                <Button\n                    className={s.confirmButton}\n                    disabled={!errors.canSeed}\n                    onClick={() => onSeedPool(formValues)}\n                >\n                    {trans('seedPool.action.submit')}\n                </Button>\n            </form>\n        </div>\n    );\n}\n","import { SeedPoolFormValues } from \"../../../services/PoolService\";\n\nexport default function createDefaultSeedPoolFormValues(): SeedPoolFormValues {\n    return {\n        outcomePercentages: [],\n        mainTokenInput: '',\n        mainTokenInputFormatted: '',\n    };\n}\n","import Big from \"big.js\";\nimport { MarketViewModel } from \"../../../models/Market\";\nimport { SeedPoolFormValues } from \"../../../services/PoolService\";\nimport trans from \"../../../translation/trans\";\n\nexport interface SeedPoolFormErrors {\n    outcomePercentages: string[];\n    canSeed: boolean;\n    message: string;\n    mainTokenInput: string;\n}\n\nexport function validateSeedPool(formValues: SeedPoolFormValues, market: MarketViewModel) {\n    const errors: SeedPoolFormErrors = {\n        outcomePercentages: [],\n        canSeed: true,\n        message: '',\n        mainTokenInput: '',\n    }\n\n    errors.outcomePercentages = formValues.outcomePercentages.map(percentageRaw => {\n        const percentage = Number(percentageRaw);\n        if (percentage <= 0) return trans('seedPool.inputZero');\n        if (percentage >= 100) return trans('seedPool.input100');\n\n        return '';\n    });\n\n    const hasOutcomeErrors = errors.outcomePercentages.some(item => item !== '');\n    const percentageTogether = formValues.outcomePercentages.map(p => Number(p)).reduce((prev, cur) => prev + cur, 0);\n\n    if (hasOutcomeErrors || percentageTogether !== 100) {\n        errors.canSeed = false;\n    }\n\n    if (percentageTogether !== 100) {\n        errors.message = trans('seedPool.not100Percent', {\n            percentage: percentageTogether.toString(),\n        });\n    }\n\n    if (formValues.mainTokenInput) {\n        const inputAmount = formValues.mainTokenInput;\n\n        if (new Big(inputAmount).lte(0)) {\n            errors.canSeed = false;\n        }\n\n        if (new Big(inputAmount).gt(market.collateralToken.balance)) {\n            errors.mainTokenInput = trans('seedPool.errors.notEnoughBalance');\n            errors.canSeed = false;\n        }\n    } else {\n        errors.canSeed = false;\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SeedPool from '../../containers/SeedPool';\nimport { SeedPoolFormValues } from '../../services/PoolService';\nimport { Reducers } from '../../redux/reducers';\nimport { seedPoolAction } from '../../redux/market/marketActions';\n\nexport default function SeedPoolConnector() {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    const handleSeedPool = useCallback((formValues: SeedPoolFormValues) => {\n        if (!market) return;\n\n        dispatch(seedPoolAction(market.id, market.collateralTokenId, formValues));\n    }, [dispatch, market]);\n\n    if (!market) {\n        return <div />;\n    }\n\n    return (\n        <SeedPool\n            account={account}\n            market={market}\n            mainToken={market.collateralToken}\n            onSeedPool={handleSeedPool}\n        />\n    );\n}\n","import React from 'react';\nimport trans from '../../translation/trans';\n\n\nexport default function MarketClosed() {\n    return (\n        <div>\n            <p>{trans('marketClosed.description')}</p>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Big from \"big.js\";\nimport { MarketViewModel } from '../../../../models/Market';\nimport Overview from '../../../../components/Overview';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport trans from '../../../../translation/trans';\n\n\ninterface Props {\n    market: MarketViewModel\n    amount: string\n}\n\nexport default function ExitOverview({\n    market,\n    amount\n}: Props): ReactElement {\n    const poolTokenTotalSupply = new Big(market.poolTokenInfo.totalSupply);\n    const relativeBal = amount ? new Big(amount).div(poolTokenTotalSupply) : new Big(\"0\");\n\n    const data = market.outcomeTokens.map(tokenData => ({\n        key: tokenData.tokenName + trans('market.label.spaceTokens'),\n        value: FluxSdk.utils.formatToken(relativeBal.mul(new Big(tokenData.poolBalance)).toString(), market.collateralToken.decimals)\n    }))\n\n    return (\n        <Overview header={trans('market.label.youReceive', {}, true)} data={data} />\n    )\n}\n","import React, { useState } from 'react';\nimport Button from '../../components/Button';\nimport Error from '../../components/Error';\nimport TextButton from '../../components/TextButton';\nimport { MarketViewModel } from '../../models/Market';\nimport { PoolToken, transformPoolTokenToTokenViewModel } from '../../models/PoolToken';\nimport { formatCollateralToken, toCollateralToken } from '../../services/CollateralTokenService';\nimport trans from '../../translation/trans';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\nimport TokenSelect from '../TokenSelect';\nimport ExitOverview from './components/ExitOverview/ExitOverview';\n\nimport s from './ExitPool.module.scss';\nimport createDefaultExitPoolFormValues, { ExitPoolFormValues } from './services/createDefaultExitPoolFormValues';\nimport validateExitPool from './services/validateExitPool';\n\ninterface Props {\n    market: MarketViewModel;\n    poolToken: PoolToken;\n    onExitPool: (formValues: ExitPoolFormValues) => void;\n}\n\nexport default function ExitPool({\n    market,\n    poolToken,\n    onExitPool,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultExitPoolFormValues());\n    const token = transformPoolTokenToTokenViewModel(poolToken);\n\n    function handleAmountInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            amountIn: value ? toCollateralToken(value, poolToken.collateralTokenDecimals) : '',\n            amountInFormatted: value,\n        });\n    }\n\n    function handleSubmit() {\n        onExitPool(formValues);\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            amountIn: poolToken.balance,\n            amountInFormatted: poolToken.balanceFormatted,\n        });\n    }\n\n    const errors = validateExitPool(formValues, poolToken);\n\n    return (\n        <section>\n            <p>\n                {trans('exitPool.description')}\n            </p>\n            <LabeledTokenSelect\n                label={trans('exitPool.label.lpTokensToRemove')}\n                onBalanceClick={handleBalanceClick}\n                value={formValues.amountInFormatted}\n                onValueChange={handleAmountInChange}\n                onTokenSwitch={() => { }}\n                selectedToken={token}\n                tokens={[token]}\n                className={s.tokenSelect}\n                showPrice={false}\n            />\n            <Error error={errors.amountIn} />\n            <p>\n                {trans('exitPool.label.feesEarned', {\n                    amount: formatCollateralToken(poolToken.fees, market.collateralToken.decimals, 8),\n                    tokenSymbol: market.collateralToken.tokenSymbol,\n                })}\n            </p>\n\n            <ExitOverview market={market} amount={formValues.amountIn} />\n            <Button onClick={handleSubmit} className={s.confirm} disabled={!errors.canSubmit}>\n                {trans('exitPool.action.exitPool')}\n            </Button>\n        </section>\n    );\n}\n","export interface ExitPoolFormValues {\n    amountIn: string;\n    amountInFormatted: string;\n}\n\nexport default function createDefaultExitPoolFormValues(): ExitPoolFormValues {\n    return {\n        amountIn: '',\n        amountInFormatted: '',\n    };\n}\n","import Big from 'big.js';\nimport { PoolToken } from '../../../models/PoolToken';\nimport trans from '../../../translation/trans';\nimport { ExitPoolFormValues } from './createDefaultExitPoolFormValues';\n\ninterface ExitPoolFormErrors {\n    amountIn: string;\n    canSubmit: boolean;\n}\n\nexport default function validateExitPool(formValues: ExitPoolFormValues, poolToken: PoolToken) {\n    const errors: ExitPoolFormErrors = {\n        canSubmit: true,\n        amountIn: '',\n    }\n\n    if (formValues.amountIn !== '') {\n        if (new Big(poolToken.balance).lt(formValues.amountIn)) {\n            errors.amountIn = trans('exitPool.validation.amountIn.tooHigh');\n            errors.canSubmit = false;\n        }\n\n        if (new Big(formValues.amountIn).lte(0)) {\n            errors.amountIn = trans('exitPool.validation.amountIn.negative');\n            errors.canSubmit = false;\n        }\n    } else {\n        errors.canSubmit = false;\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ExitPool from '../../containers/ExitPool';\nimport { ExitPoolFormValues } from '../../containers/ExitPool/services/createDefaultExitPoolFormValues';\nimport { exitPoolAction } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function ExitPoolConnector() {\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const dispatch = useDispatch();\n\n    const handleExitPool = useCallback((formValues: ExitPoolFormValues) => {\n        if (!poolToken) return;\n\n        dispatch(exitPoolAction(poolToken.marketId, formValues.amountIn));\n    }, [poolToken, dispatch]);\n\n    if (!poolToken || !market) {\n        return <div />\n    }\n\n    return (\n        <ExitPool\n            poolToken={poolToken}\n            market={market}\n            onExitPool={handleExitPool}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport Button from '../../components/Button';\nimport trans from '../../translation/trans';\n\nimport s from './NotLoggedIn.module.scss';\n\ninterface Props {\n    onLoginClick: () => void;\n}\n\nexport default function NotLoggedIn({\n    onLoginClick\n}: Props): ReactElement {\n    return (\n        <div>\n            <div>\n                <h2>{trans('notLoggedIn.title')}</h2>\n                <p>{trans('notLoggedIn.description')}</p>\n            </div>\n            <Button\n                className={s.confirmButton}\n                onClick={onLoginClick}\n            >\n                {trans('notLoggedIn.action.login')}\n            </Button>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport NotLoggedIn from '../../containers/NotLoggedIn';\nimport { signIn } from '../../redux/account/accountActions';\n\n\nexport default function NotLoggedInConnector(): ReactElement {\n    const dispatch = useDispatch();\n\n    const handleLoginClick = useCallback(() => {\n        dispatch(signIn());\n    }, [dispatch]);\n\n    return (\n        <NotLoggedIn onLoginClick={handleLoginClick} />\n    );\n}\n","import React from 'react';\nimport ActionsCard from '../../components/ActionsCard';\nimport trans from '../../translation/trans';\nimport wrappedNearIcon from '../../assets/images/icons/wrapped-near.svg';\n\nimport s from './NoWrappedNearCard.module.scss';\nimport Button from '../../components/Button';\nimport { MarketViewModel } from '../../models/Market';\nimport { WRAPPED_NEAR_ACCOUNT_ID } from '../../config';\nimport { Account } from '../../models/Account';\n\ninterface Props {\n    market: MarketViewModel;\n    account: Account | null;\n    onDialogOpenClick: () => void;\n}\n\nexport default function NoWrappedNearCard({\n    market,\n    account,\n    onDialogOpenClick,\n}: Props) {\n    if (!account) {\n        return null;\n    }\n\n    if (market.collateralTokenId !== WRAPPED_NEAR_ACCOUNT_ID) {\n        return null;\n    }\n\n    if (market.collateralToken.balance !== '0') {\n        return null;\n    }\n\n    return (\n        <ActionsCard className={s.actionsCard}>\n            <img src={wrappedNearIcon} alt=\"\" className={s.icon} />\n            <div className={s.content}>\n                <p>{trans('noWrappedNear.description', { accountId: account.accountId })}</p>\n                <Button onClick={onDialogOpenClick}>{trans('noWrappedNear.action.openDialog')}</Button>\n            </div>\n        </ActionsCard>\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport NoWrappedNearCard from '../../containers/NoWrappedNearCard';\nimport { setWrappingNearDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function NoWrappedNearCardConnector() {\n    const dispatch = useDispatch();\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    const handleOpenDialogClick = useCallback(() => {\n        dispatch(setWrappingNearDialogOpen(true));\n    }, [dispatch]);\n\n    if (!market) return null;\n\n    return (\n        <NoWrappedNearCard\n            market={market}\n            account={account}\n            onDialogOpenClick={handleOpenDialogClick}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport trans from '../../../../translation/trans';\nimport Overview from \"./../../../../components/Overview\";\nimport Big from 'big.js';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\n\ninterface Props {\n    market: MarketViewModel,\n    amountRedeemable: string\n}\n\nexport default function SwapOverview({\n    market,\n    amountRedeemable\n}: Props ): ReactElement {\n    const totalAvgPrice = market.outcomeTokens.reduce((sum, token) => {\n        const spent = new Big(token.spent);\n        const balance = new Big(token.balance);\n        if (!balance || balance.eq(\"0\")) {\n            return sum;\n        }\n\n        const avgSpent = spent.div(balance);\n        return sum.add(avgSpent);\n    }, new Big(\"0\"));\n\n    const data = []\n    if (totalAvgPrice.gt(\"1\")) {\n\n        // Claimable if invalid\n        const priceDelta = totalAvgPrice.minus(\"1\");\n        const toEscrow = new Big(amountRedeemable).mul(priceDelta);\n        const formattedToEscrow = formatCollateralToken(toEscrow.toString(), market.collateralToken.decimals);\n        data.push(...[\n            {\n                key: trans('redeem.overview.escrowInvalid'),\n                value: `${formattedToEscrow} ${market.collateralToken.tokenSymbol}`\n            },\n            {\n                key: trans('redeem.overview.paidNow'),\n                value: `${formatCollateralToken(new Big(amountRedeemable).toString(), market.collateralToken.decimals)}`\n            }\n        ]);\n    } else if (totalAvgPrice.lt(\"1\")) {\n        // Claimable if valid\n        const priceDelta = new Big(\"1\").minus(totalAvgPrice);\n        const toEscrow = new Big(amountRedeemable).mul(priceDelta);\n        const formattedToEscrow = formatCollateralToken(toEscrow.toString(), market.collateralToken.decimals);\n\n        data.push(...[\n            {\n                key: trans('redeem.overview.escrowValid'),\n                value: `~${formattedToEscrow} ${market.collateralToken.tokenSymbol}`\n            },\n            {\n                key: trans('redeem.overview.paidNow'),\n                value: `${formatCollateralToken(new Big(amountRedeemable).minus(toEscrow).toString(), market.collateralToken.decimals)}`\n            }\n        ]);\n    }\n\n    return <Overview data={data} header={trans('market.label.overview', {}, true)} />;\n}\n","import React from 'react';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport Button from '../../components/Button';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport RedeemOverview from './components/RedeemOverview/RedeemOverview';\nimport s from './Redeem.module.scss';\n\nexport interface Props {\n    amountRedeemable: string;\n    market: MarketViewModel;\n    onRedeemClick: () => void;\n}\n\nexport default function Redeem({\n    market,\n    amountRedeemable,\n    onRedeemClick,\n}: Props) {\n    return (\n        <div>\n            <p>\n                {trans('redeem.description', {\n                    amount: FluxSdk.utils.formatToken(amountRedeemable, market.collateralToken.decimals),\n                    tokenSymbol: market.collateralToken.tokenSymbol,\n                })}\n            </p>\n\n            <RedeemOverview amountRedeemable={amountRedeemable} market={market}/>\n            <Button className={s.confirmButton} onClick={onRedeemClick}>\n                {trans('redeem.action.submit', {\n                    amount: FluxSdk.utils.formatToken(amountRedeemable, market.collateralToken.decimals),\n                    tokenSymbol: market.collateralToken.tokenSymbol,\n                })}\n            </Button>\n        </div>\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Redeem from '../../containers/Redeem';\nimport { Reducers } from '../../redux/reducers';\nimport { burnOutcomeTokensRedeemCollateral, getEligibleAmountForRedeeming } from '../../services/MarketService';\n\nexport default function RedeemConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const toRedeem = getEligibleAmountForRedeeming(market?.outcomeTokens || []);\n\n    const handleRedeemClick = useCallback(() => {\n        if (!market) return;\n\n        burnOutcomeTokensRedeemCollateral(market.id, toRedeem.toString());\n    }, [market, toRedeem]);\n\n    if (!market) {\n        return <div />;\n    }\n\n    return (\n        <Redeem\n            amountRedeemable={toRedeem.toString()}\n            market={market}\n            onRedeemClick={handleRedeemClick}\n        />\n    );\n}\n","import React from 'react';\nimport trans from '../../translation/trans';\n\n\nexport default function NotInWhitelistCard() {\n    return (\n        <div>\n            <h2>{trans('notInWhitelist.title')}</h2>\n            <p>\n                {trans('notInWhitelist.description')}\n            </p>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Label from '../../components/Label';\nimport TextInput, { TextInputProps } from '../../components/TextInput/TextInput';\n\ninterface Props extends TextInputProps {\n    label: string;\n}\n\nexport default function LabeledTextInput({\n    label,\n    ...props\n}: Props): ReactElement {\n    return (\n        <div>\n            <Label text={label} />\n            <TextInput {...props} />\n        </div>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\nimport React, { useState } from 'react';\nimport Button from '../../components/Button';\nimport Error from '../../components/Error';\nimport TextButton from '../../components/TextButton';\nimport LabeledTextInput from '../../compositions/LabeledTextInput';\nimport { MarketViewModel } from '../../models/Market';\nimport { getScalarBounds } from '../../services/MarketService';\nimport { SeedScalarMarketFormValues } from '../../services/PoolService';\nimport trans from '../../translation/trans';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\nimport TokenSelect from '../TokenSelect';\n\nimport s from './SeedScalarMarket.module.scss';\nimport { createDefaultSeedScalarFormValues } from './utils/createDefaultSeedScalarFormValues';\nimport { validateSeedScalarMarket } from './utils/validateSeedScalarMarket';\n\ninterface Props {\n    market: MarketViewModel;\n    onSubmit: (values: SeedScalarMarketFormValues) => void;\n}\n\nexport default function SeedScalarMarket({\n    market,\n    onSubmit,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultSeedScalarFormValues(market));\n    const mainToken = market.collateralToken;\n    const bounds = getScalarBounds(market.outcomeTokens.map(token => token.bound));\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            mainTokenInputFormatted: mainToken.balanceFormatted,\n            mainTokenInput: mainToken.balance,\n        });\n    }\n\n    function handleMainTokenChange(value: string) {\n        const settedValue = value || '0';\n\n        setFormValues({\n            ...formValues,\n            mainTokenInput: FluxSdk.utils.toToken(settedValue, mainToken.decimals),\n            mainTokenInputFormatted: settedValue,\n        });\n    }\n\n    function handleInitialValueChange(value: string) {\n        if (!value) return;\n\n        setFormValues({\n            ...formValues,\n            initialValue: new Big(value),\n        });\n    }\n\n    const errors = validateSeedScalarMarket(formValues, market);\n\n    return (\n        <section>\n            <form>\n                <p>\n                    {trans('seedScalarMarket.explanation', {\n                        tokenName: market.collateralToken.tokenSymbol,\n                    })}\n                </p>\n\n                <div className={s.inputWrapper}>\n                    <LabeledTokenSelect\n                        label=\"\"\n                        onBalanceClick={handleBalanceClick}\n                        onTokenSwitch={() => { }}\n                        value={formValues.mainTokenInputFormatted}\n                        tokens={[mainToken]}\n                        selectedToken={mainToken}\n                        onValueChange={handleMainTokenChange}\n                        placeholder=\"1000\"\n                    />\n                    <Error error={errors.mainTokenInput} />\n                </div>\n\n                <div className={s.inputWrapper}>\n                    <div className={s.bounds}>\n                        <span>{trans('seedScalarMarket.label.lowerBound', { amount: bounds.lowerBound.toString() })}</span>\n                        <span>{trans('seedScalarMarket.label.upperBound', { amount: bounds.upperBound.toString() })}</span>\n                    </div>\n                    <LabeledTextInput\n                        type=\"number\"\n                        label={trans('seedScalarMarket.label.initialValue')}\n                        value={formValues.initialValue.toString()}\n                        onChange={handleInitialValueChange}\n                        helperText={errors.initialValue}\n                        error={!!errors.initialValue}\n                    />\n                </div>\n\n                <Button\n                    className={s.confirmButton}\n                    disabled={!errors.canSubmit}\n                    onClick={() => onSubmit(formValues)}\n                >\n                    {trans('seedScalarMarket.action.submit')}\n                </Button>\n            </form>\n        </section>\n    );\n}\n","import FluxSdk from \"@fluxprotocol/amm-sdk\";\nimport { MarketViewModel } from \"../../../models/Market\";\nimport { SeedScalarMarketFormValues } from \"../../../services/PoolService\";\n\nexport function createDefaultSeedScalarFormValues(market: MarketViewModel): SeedScalarMarketFormValues {\n    return {\n        initialValue: FluxSdk.utils.calcMedian(market.outcomeTokens.map(token => token.bound)),\n        mainTokenInput: '0',\n        mainTokenInputFormatted: '0',\n    }\n}\n","import { MarketViewModel } from \"../../../models/Market\";\nimport { getScalarBounds } from \"../../../services/MarketService\";\nimport { SeedScalarMarketFormValues } from \"../../../services/PoolService\";\nimport trans from \"../../../translation/trans\";\n\nexport interface SeedScalarMarketFormErrors {\n    canSubmit: boolean;\n    message: string;\n    mainTokenInput: string;\n    initialValue: string;\n}\n\nexport function validateSeedScalarMarket(formValues: SeedScalarMarketFormValues, market: MarketViewModel): SeedScalarMarketFormErrors {\n    const errors: SeedScalarMarketFormErrors = {\n        canSubmit: true,\n        message: '',\n        mainTokenInput: '',\n        initialValue: '',\n    };\n    const bounds = getScalarBounds(market.outcomeTokens.map(token => token.bound));\n\n    if (formValues.initialValue.lt(bounds.lowerBound)) {\n        errors.canSubmit = false;\n        errors.initialValue = trans('seedScalarMarket.errors.initialValue.ltLowerBound');\n    }\n\n    if (formValues.initialValue.gt(bounds.upperBound)) {\n        errors.canSubmit = false;\n        errors.initialValue = trans('seedScalarMarket.errors.initialValue.gtUpperBound');\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SeedScalarMarket from '../../containers/SeedScalarMarket';\nimport { seedScalarMarketAction } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { SeedScalarMarketFormValues } from '../../services/PoolService';\n\n\nexport default function SeedScalarMarketConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const dispatch = useDispatch();\n\n    const handleSubmit = useCallback((values: SeedScalarMarketFormValues) => {\n        if (!market) return;\n        dispatch(seedScalarMarketAction(market, values));\n    }, [dispatch, market]);\n\n    if (!market) return null;\n\n    return (\n        <SeedScalarMarket\n            market={market}\n            onSubmit={handleSubmit}\n        />\n    );\n}\n","import React from 'react';\n\nimport classnames from 'classnames';\n\nimport trans from '../../translation/trans';\nimport { Link } from 'react-router-dom';\nimport { formatCollateralToken, getCollateralTokenMetadata } from '../../services/CollateralTokenService';\nimport { routePaths } from '../../routes';\nimport s from './EscrowStatusOverview.module.scss';\nimport { EscrowStatus } from '../../models/EscrowStatus';\n\n\ninterface Props {\n    escrowStatus: EscrowStatus[];\n    className?: string;\n}\n\nexport default function EscrowStatusOverview({\n    escrowStatus,\n    className = '',\n}: Props) {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('escrowStatus.title')}\n            </header>\n            <div className={s.tableWrapper}>\n                <table className={s.table}>\n                    <thead className={s.tableHead}>\n                        <tr className={s.tableHeadRow}>\n                            <th>{trans('escrowStatus.table.market')}</th>\n                            <th>{trans('escrowStatus.table.amount')}</th>\n                            <th>{trans('escrowStatus.table.payoutState')}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {/** Filters out any pool tokens */}\n\n\n                        {escrowStatus.map((info) => {\n                            const href = {\n                                pathname: routePaths.marketDetail(info.marketId),\n                                state: {\n                                    canGoBack: true,\n                                }\n                            };\n                            \n                            return (\n                                <tr className={s.tableRow} key={`${info.marketId}_${info.type}`}>\n                                    <td className={s.marketDescription}>\n                                        <Link to={href} className={s.link}>\n                                            {info.marketDescription}\n                                        </Link>\n                                    </td>\n                                    <td >\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(info.totalAmount, info.collateralToken.decimals)} {info.collateralToken.symbol}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {info.type === \"invalid_escrow\" ? trans('escrowStatus.table.invalid') : trans('escrowStatus.table.invalid')}\n                                        </Link>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    );\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EscrowStatusOverview from '../../containers/EscrowStatusOverview';\nimport UserBalancesOverview from '../../containers/UserBalancesOverview';\nimport { getEscrowStatus } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function EscrowOwerviewConnector({\n    className,\n}: Props) {\n    const dispatch = useDispatch();\n    const escrowStatus = useSelector((store: Reducers) => store.account.escrowStatus);\n\n    useEffect(() => {\n        dispatch(getEscrowStatus())\n    }, []);\n\n    return (\n        <EscrowStatusOverview escrowStatus={escrowStatus} className={className} />\n    );\n}","import React, { ReactElement } from 'react';\nimport { Link } from 'react-router-dom';\nimport classnames from 'classnames';\n\nimport { PoolToken } from '../../models/PoolToken';\nimport { routePaths } from '../../routes';\nimport trans from '../../translation/trans';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\n\nimport s from './FeesEarnedOverview.module.scss';\n\ninterface Props {\n    poolTokens: PoolToken[];\n    className?: string;\n}\n\nexport default function FeesEarnedOverview({\n    poolTokens,\n    className,\n}: Props): ReactElement {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('feesEarned.title')}\n            </header>\n            <div className={s.tableWrapper}>\n\n                <table className={s.table}>\n                    <thead className={s.tableHead}>\n                        <tr className={s.tableHeadRow}>\n                            <th>{trans('feesEarned.table.market')}</th>\n                            <th>{trans('feesEarned.table.balance')}</th>\n                            <th>{trans('feesEarned.table.feesEarned')}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {poolTokens.map((poolToken) => {\n                            const href = {\n                                pathname: routePaths.marketDetail(poolToken.marketId),\n                                state: {\n                                    canGoBack: true,\n                                }\n                            };\n\n                            return (\n                                <tr className={s.tableRow} key={`${poolToken.marketId}_${poolToken.outcomeId}`}>\n                                    <td className={s.description}>\n                                        <Link to={href} className={s.link}>\n                                            {poolToken.marketDescription}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(poolToken.balance, poolToken.collateralTokenDecimals)}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(poolToken.fees, poolToken.collateralTokenDecimals)}\n                                        </Link>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport FeesEarnedOverview from '../../containers/FeesEarnedOverview';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function FeesEarnedOverviewConnector({\n    className,\n}: Props) {\n    const poolTokens = useSelector((store: Reducers) => store.account.poolTokens);\n\n    return <FeesEarnedOverview poolTokens={poolTokens} className={className} />\n}\n","import React from 'react';\n\nimport classnames from 'classnames';\n\nimport { UserBalance } from '../../models/UserBalance';\nimport trans from '../../translation/trans';\nimport { Link } from 'react-router-dom';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport { routePaths } from '../../routes';\nimport s from './UserBalancesOverview.module.scss';\nimport Big from 'big.js';\nimport { DUST_AMOUNT } from '../../config';\n\ninterface Props {\n    balances: UserBalance[];\n    className?: string;\n}\n\nexport default function UserBalancesOverview({\n    balances,\n    className = '',\n}: Props) {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('userbalances.title')}\n            </header>\n            <div className={s.tableWrapper}>\n                <table className={s.table}>\n                    <thead className={s.tableHead}>\n                        <tr className={s.tableHeadRow}>\n                            <th>{trans('userbalances.table.market')}</th>\n                            <th>{trans('userbalances.table.outcome')}</th>\n                            <th>{trans('userbalances.table.balance')}</th>\n                            <th>{trans('userbalances.table.price')}</th>\n                            <th>{trans('userbalances.table.spent')}</th>\n                            <th>{trans('userbalances.table.profit')}</th>\n                            <th>{trans('userbalances.table.status')}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {/** Filters out any pool tokens */}\n                        {balances.filter(balance => balance.outcomeTag && new Big(balance.balance).gt(DUST_AMOUNT)).map((info) => {\n                            const href = {\n                                pathname: routePaths.marketDetail(info.marketId),\n                                state: {\n                                    canGoBack: true,\n                                }\n                            };\n\n                            const avgPaidPrice = new Big(info.spent).div(info.balance);\n                            const currentPrice = info.payoutNumerator ? formatCollateralToken(info.payoutNumerator[info.outcomeId], info.collateralTokenMetadata.decimals) : info.outcomePrice;\n                            const profitPercentage = avgPaidPrice.gt(\"0\") ? new Big(currentPrice).minus(avgPaidPrice).div(avgPaidPrice).mul(100).round(2) : new Big(\"0\");\n\n                            const profitLinkClassName = classnames(s.link, {\n                                [s.link__green]: profitPercentage.gt(\"0\"),\n                                [s.link__red]: profitPercentage.lt(\"0\")\n                            });\n                            \n                            return (\n                                <tr className={s.tableRow} key={`${info.marketId}_${info.outcomeId}`}>\n                                    <td className={s.marketDescription}>\n                                        <Link to={href} className={s.link}>\n                                            {info.marketDescription}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {info.outcomeTag}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(info.balance, info.collateralTokenMetadata.decimals)}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {`${avgPaidPrice.round(2).toString()} ${info.collateralTokenMetadata.symbol}`}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(info.spent, info.collateralTokenMetadata.decimals)} {info.collateralTokenMetadata.symbol}\n                                        </Link>\n                                    </td>\n                                    <td >\n                                        <Link to={href} className={profitLinkClassName}>\n                                            {`${profitPercentage.toString()}%`}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {info.marketStatus}\n                                        </Link>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport UserBalancesOverview from '../../containers/UserBalancesOverview';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function UserBalancesOverviewConnector({\n    className,\n}: Props) {\n    const balances = useSelector((store: Reducers) => store.account.balances);\n\n    return (\n        <UserBalancesOverview balances={balances} className={className} />\n    );\n}","import * as Router from 'react-router';\nimport HomePage from './pages/HomePage';\nimport MarketPage from './pages/MarketPage';\nimport ProfilePage from './pages/ProfilePage';\n\ninterface RouteProps extends Router.RouteProps {\n    inNavigation: boolean;\n    key: string;\n    label: string;\n    icon?: string;\n}\n\nexport const routePaths = {\n    root: () => '/',\n    profile: () => '/profile',\n    resoluted: () => '/resoluted',\n    pending: () => '/pending',\n    marketDetail: (marketId = ':marketId') => `/markets/${marketId}`,\n}\n\nexport const routes: RouteProps[] = [\n    {\n        component: MarketPage,\n        exact: true,\n        inNavigation: false,\n        key: 'market',\n        label: 'Market',\n        path: routePaths.marketDetail(),\n    },\n    {\n        component: ProfilePage,\n        exact: true,\n        inNavigation: false,\n        key: 'home',\n        label: 'Home',\n        path: routePaths.profile(),\n    },\n    {\n        component: HomePage,\n        exact: false,\n        inNavigation: false,\n        key: 'home',\n        label: 'Home',\n        path: routePaths.root(),\n    },\n];\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { Helmet } from 'react-helmet';\n\nimport MarketHeaderConnector from '../../connectors/MarketHeaderConnector';\nimport MarketResolutionInfoConenctor from '../../connectors/MarketResolutionInfoConnector';\nimport MarketStatisticsConnector from '../../connectors/MarketStatisticsConnector';\nimport TokenSwapperConnector from '../../connectors/TokenSwapperConnector';\nimport Page from '../../containers/Page';\nimport { loadMarket } from '../../redux/market/marketActions';\nimport trans from '../../translation/trans';\nimport ActionsCard from '../../components/ActionsCard';\nimport TabbedView from '../../containers/TabbedViews';\nimport LiquidityProviderConnector from '../../connectors/LiquidityProviderConnector';\nimport { Reducers } from '../../redux/reducers';\nimport ClaimEarningsConnector from '../../connectors/ClaimEarningsConnector';\nimport SeedPoolConnector from '../../connectors/SeedPoolConnector';\nimport MarketClosed from '../../containers/MarketClosed';\nimport ExitPoolConnector from '../../connectors/ExitPoolConnector';\nimport NotLoggedInConnector from '../../connectors/NotLoggedInConnector';\n\nimport s from './MarketPage.module.scss';\nimport useDisqus from '../../utils/hooks/useDisqus';\nimport { setMarketDetail } from '../../redux/market/market';\nimport NoWrappedNearCardConnector from '../../connectors/NoWrappedNearCardConnector';\nimport { isEligibleForRedeeming } from '../../services/MarketService';\nimport RedeemConnector from '../../connectors/RedeemConnector';\nimport NotInWhitelistCard from '../../containers/NotInWhitelistCard';\nimport { MarketType } from '../../models/Market';\nimport SeedScalarMarketConnector from '../../connectors/SeedScalarMarketConnector';\n\ninterface RouterParams {\n    marketId: string;\n}\n\nexport default function MarketPage() {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const { marketId } = useParams<RouterParams>();\n    useDisqus('marketId', market?.description);\n\n    const hasMarketLiquidity = market?.poolTokenInfo.totalSupply !== '0';\n    const isExpired = market?.resolutionDate ? market.resolutionDate <= new Date() : false;\n    const canRedeem = isEligibleForRedeeming(market?.outcomeTokens || []);\n\n    useEffect(() => {\n        dispatch(loadMarket(marketId));\n\n        return () => {\n            dispatch(setMarketDetail(undefined));\n        }\n    }, [dispatch, marketId]);\n\n    return (\n        <Page hasNavigation size=\"unrestricted\" className={s.root}>\n            <Helmet>\n                <title>\n                    {trans('market.title.head', {\n                        appName: trans('global.appName'),\n                        description: market?.description || '',\n                    })}\n                </title>\n            </Helmet>\n            <MarketHeaderConnector />\n            <div className={s.details}>\n                <div className={s.infoWrapper}>\n                    <MarketStatisticsConnector className={s.stats} />\n                    <MarketResolutionInfoConenctor />\n                </div>\n                <div className={s.actionsWrapper}>\n                    {account?.canUseApp && (<NoWrappedNearCardConnector />)}\n                    <ActionsCard>\n                        <TabbedView\n                            items={[{\n                                element: <TokenSwapperConnector key=\"tokenswapper\" />,\n                                label: trans('market.label.swap'),\n                                show: account !== null && market?.finalized === false && !isExpired && hasMarketLiquidity && account.canUseApp,\n                                id: '0',\n                            }, {\n                                element: <LiquidityProviderConnector key=\"liquidity\" />,\n                                label: trans('market.label.liquidity'),\n                                show: account !== null && market?.finalized === false && !isExpired && hasMarketLiquidity && account.canUseApp,\n                                id: '1',\n                            }, {\n                                element: <ClaimEarningsConnector key=\"claimEarnings\" />,\n                                label: trans('market.label.claimEarnings'),\n                                show: account !== null && market?.finalized === true && account.canUseApp,\n                                id: '2',\n                            }, {\n                                element: <SeedPoolConnector key=\"seedpool\" />,\n                                label: trans('market.label.seedPool'),\n                                show: account !== null && market?.type !== MarketType.Scalar && market?.finalized === false && !isExpired && !hasMarketLiquidity && account.canUseApp,\n                                id: '3',\n                            }, {\n                                element: <MarketClosed key=\"marketClosed\" />,\n                                label: trans('market.label.marketClosed'),\n                                show: market?.finalized === false && isExpired,\n                                id: '4',\n                            }, {\n                                element: <ExitPoolConnector key=\"exitPool\" />,\n                                label: trans('market.label.exitPool'),\n                                show: account !== null && hasMarketLiquidity && !!poolToken && !isExpired && account.canUseApp,\n                                id: '5',\n                            }, {\n                                element: <NotLoggedInConnector key=\"notloggedin\" />,\n                                label: trans('market.label.notLoggedIn'),\n                                show: account === null,\n                                id: '6',\n                            }, {\n                                element: <RedeemConnector key=\"redeem\" />,\n                                label: trans('market.label.redeem'),\n                                show: account !== null && hasMarketLiquidity && market?.finalized === false && canRedeem && account.canUseApp,\n                                id: '7',\n                            }, {\n                                element: <SeedScalarMarketConnector key=\"seedScalar\" />,\n                                label: trans('market.label.seedPool'),\n                                show: account !== null && market?.type === MarketType.Scalar && market?.finalized === false && !isExpired && !hasMarketLiquidity,\n                                id: '8',\n                            }, {\n                                element: <NotInWhitelistCard key=\"notinwhitelist\" />,\n                                label: trans('market.label.notInWhitelist'),\n                                show: account !== null && !account.canUseApp,\n                                id: '9',\n                            }]}\n                        />\n                    </ActionsCard>\n                </div>\n            </div>\n            <div className={s.comments}>\n                <h2>{trans('global.comments')}</h2>\n                <div id=\"disqus_thread\"></div>\n            </div>\n        </Page>\n    );\n}\n","import { useEffect } from \"react\";\nimport { useParams } from \"react-router\";\nimport { NETWORK, NODE_ENV, PROTOCOL_ACCOUNT_ID } from \"../../config\";\nimport { useDarkmode } from \"../darkmode\";\n\nexport default function useDisqus(identifier: string, title?: string) {\n    const params = useParams();\n    const isDarkmodeActive = useDarkmode();\n\n    useEffect(() => {\n        if (!title) return;\n\n        // @ts-ignore\n        window.disqus_config = function () {\n            // @ts-ignore\n            this.page.url = window.location.href;\n\n            // @ts-ignore\n            this.page.identifier = NODE_ENV + NETWORK + PROTOCOL_ACCOUNT_ID + params[identifier] + \"_0\";\n\n            // @ts-ignore\n            this.page.title = title;\n        };\n\n        try {\n            // @ts-ignore\n            DISQUS.reset({\n                reload: true,\n                // @ts-ignore\n                config: window.disqus_config,\n            });\n        } catch (error) {\n        }\n    }, [params, identifier, title, isDarkmodeActive]);\n}\n","import React, { ReactElement, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport EscrowOverviewConnector from '../../connectors/EscrowOverviewConnector';\nimport FeesEarnedOverviewConnector from '../../connectors/FeesEarnedOverviewConnector';\nimport UserBalancesOverviewConnector from '../../connectors/UserBalancesOverviewConnector';\nimport Page from '../../containers/Page';\nimport { loadAccountBalanceInfo } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\n\nimport s from './ProfilePage.module.scss';\n\n\nexport default function ProfilePage(): ReactElement {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    useEffect(() => {\n        if (!account) return;\n        dispatch(loadAccountBalanceInfo(account.accountId));\n    }, [dispatch, account]);\n\n    return (\n        <Page className={s.root} bodyClassName={s.pageBody} size=\"large\">\n            <UserBalancesOverviewConnector className={s.userBalances} />\n            <FeesEarnedOverviewConnector className={s.feesEarned} />\n            <EscrowOverviewConnector className={s.feesEarned} />\n        </Page>\n    );\n}\n","import React, { useCallback } from 'react';\nimport Helmet from 'react-helmet';\nimport { Route, Switch, useHistory, useLocation } from 'react-router';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport BackgroundWave from '../../components/BackgroundWave';\nimport TabBar from '../../containers/TabBar';\nimport Page from '../../containers/Page';\nimport { routePaths } from '../../routes';\nimport trans from '../../translation/trans';\nimport ResolutionPage from './sub-pages/ResolutionPage';\nimport { TabBarItem } from '../../containers/TabBar/TabBar';\nimport MarketsOverviewPage from './sub-pages/MarketsOverviewPage';\nimport MarketCreationDialogConnector from '../../connectors/MarketCreationDialogConnector';\n\nimport s from './HomePage.module.scss';\nimport HomeHeaderConnector from '../../connectors/HomeHeaderConnector';\nimport PendingPage from './sub-pages/PendingPage';\n\n\nexport default function HomePage() {\n    const isLargeScreen = useMediaQuery('(min-width: 1024px)');\n    const history = useHistory();\n    const location = useLocation();\n\n    const onTabClick = useCallback((item: TabBarItem) => {\n        history.push(item.id);\n    }, [history]);\n\n    return (\n        <Page className={s.homePage} bodyClassName={s.homePageBody} size=\"large\" hasNavigation>\n            <BackgroundWave />\n            <HomeHeaderConnector />\n            <TabBar\n                className={s.tabBar}\n                activeId={location.pathname}\n                onTabClick={onTabClick}\n                variant={isLargeScreen ? 'standard' : 'fullWidth'}\n                items={[{\n                    id: routePaths.root(),\n                    label: trans('pages.marketOverview'),\n                    show: true,\n                }, {\n                    id: routePaths.pending(),\n                    label: trans('pages.pendingOverview'),\n                    show: true,\n                }, {\n                    id: routePaths.resoluted(),\n                    label: trans('pages.resoluteOverview'),\n                    show: true,\n                }]}\n            />\n            <MarketCreationDialogConnector />\n            <Switch>\n                <Route exact path={routePaths.root()} component={MarketsOverviewPage} />\n                <Route exact path={routePaths.resoluted()} component={ResolutionPage} />\n                <Route exact path={routePaths.pending()} component={PendingPage} />\n            </Switch>\n        </Page>\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport { Route, Switch, useHistory } from 'react-router';\n\nimport { routes } from './routes';\n\nfunction App(): ReactElement {\n    const history = useHistory();\n\n    history.listen((currentLocation) => {\n        // @ts-ignore\n        if (window && window.gtag) {\n            // @ts-ignore\n            window.gtag('config', process.env.REACT_APP_GA_ID, {\n                'page_path': currentLocation.pathname + currentLocation.search,\n            });\n        }\n    });\n\n    return (\n        <Switch>\n            {routes.map((route): ReactElement => <Route {...route} key={route.key} />)}\n        </Switch>\n    );\n};\n\nexport default App;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { Pool } from '../../models/Pool';\n\nexport type PoolState = Readonly<{\n    pools: Pool[];\n    poolError?: string[];\n    poolLoading: boolean;\n}>;\n\nconst initialState: PoolState = {\n    poolLoading: false,\n    pools: [],\n};\n\nconst poolsSlice = createSlice({\n    initialState,\n    name: 'pools',\n    reducers: {\n        setPoolErrors(state: PoolState, action: PayloadAction<string[]>): PoolState {\n            return ({\n                ...state,\n                poolError: action.payload,\n            });\n        },\n        setPoolLoading(state: PoolState, action: PayloadAction<boolean>): PoolState {\n            return ({\n                ...state,\n                poolLoading: action.payload,\n            });\n        },\n        setPools(state: PoolState, action: PayloadAction<Pool[]>): PoolState {\n            return ({\n                ...state,\n                pools: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setPoolErrors,\n    setPoolLoading,\n    setPools,\n} = poolsSlice.actions;\n\nexport default poolsSlice.reducer;\n","import { combineReducers } from 'redux';\n\nimport pools, { PoolState } from './pools/pools';\nimport market, { MarketState } from './market/market';\nimport priceHistory, { PriceHistoryState } from './priceHistory/priceHistory';\nimport dialogs, { DialogsState } from './dialogs/dialogs';\nimport account, { AccountState } from './account/account';\n\nexport interface Reducers {\n    pools: PoolState;\n    market: MarketState;\n    priceHistory: PriceHistoryState;\n    dialogs: DialogsState;\n    account: AccountState;\n}\n\nexport default combineReducers<Reducers>({\n    account,\n    pools,\n    market,\n    priceHistory,\n    dialogs,\n});\n","import {\n    applyMiddleware,\n    CombinedState,\n    createStore,\n    Store,\n    StoreEnhancer,\n} from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nimport reducers, { Reducers } from './reducers';\n\nconst createEnhancer = (): StoreEnhancer => (process.env.REACT_APP_APP_ENV !== 'production'\n    ? composeWithDevTools(applyMiddleware(thunk))\n    : applyMiddleware(thunk)\n);\n\nexport default function configureStore(preloadedState: Record<string, any> = {}): Store<CombinedState<Reducers>> {\n    const enhancer = createEnhancer();\n    return createStore(reducers, preloadedState, enhancer);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { StylesProvider } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport App from './App';\nimport configureStore from './redux/store';\n\nimport './styles/global.module.scss';\n\nconst store = configureStore({});\nReactDOM.render(\n    <Provider store={store}>\n        <HashRouter basename={process.env.REACT_APP_NETWORK === \"mainnet\" ? \"/\" : \"/beta\"} hashType=\"hashbang\">\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <StylesProvider injectFirst>\n                    <App />\n                </StylesProvider>\n            </MuiPickersUtilsProvider>\n        </HashRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketHeader_root__3D1Vw\",\"wrapper\":\"MarketHeader_wrapper__2d74u\",\"title\":\"MarketHeader_title__2Xliv\",\"resolutionDate\":\"MarketHeader_resolutionDate__2TtDh\",\"headerItem\":\"MarketHeader_headerItem__MJJc3\",\"categoryTag\":\"MarketHeader_categoryTag__QLYfv\",\"bubble\":\"MarketHeader_bubble__uH7BP\",\"opinionCardWrapper\":\"MarketHeader_opinionCardWrapper__WzifQ\",\"market-header__back-button\":\"MarketHeader_market-header__back-button__1U-Qq\",\"market-header__resolution-date-title\":\"MarketHeader_market-header__resolution-date-title__3IhYu\",\"market-header__resolution-date-stamp\":\"MarketHeader_market-header__resolution-date-stamp__1BcaE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-select\":\"TokenSelect_token-select__27VH9\",\"token-select__info\":\"TokenSelect_token-select__info__9n_YI\",\"token-select__token-icon\":\"TokenSelect_token-select__token-icon__29BF7\",\"token-select__inputs\":\"TokenSelect_token-select__inputs__odDi4\",\"token-select__inputs-info\":\"TokenSelect_token-select__inputs-info__3KZ0Q\",\"token-select__token-name\":\"TokenSelect_token-select__token-name__25V3B\",\"token-select__input\":\"TokenSelect_token-select__input__2V0Jg\",\"price\":\"TokenSelect_price__jCfUr\",\"price--symbol-right\":\"TokenSelect_price--symbol-right__1le8k\",\"priceSymbol\":\"TokenSelect_priceSymbol__2o40N\",\"changePairButton\":\"TokenSelect_changePairButton__3NfkS\",\"priceChangeWrapper\":\"TokenSelect_priceChangeWrapper__2Wjqy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"EscrowStatusOverview_root__3qpgv\",\"header\":\"EscrowStatusOverview_header__20_eL\",\"tableWrapper\":\"EscrowStatusOverview_tableWrapper__3kogI\",\"table\":\"EscrowStatusOverview_table__2RoH3\",\"tableHeadRow\":\"EscrowStatusOverview_tableHeadRow__w-mJO\",\"tableRow\":\"EscrowStatusOverview_tableRow__1j1VL\",\"link\":\"EscrowStatusOverview_link__1R_Lo\",\"link__green\":\"EscrowStatusOverview_link__green__26GNl\",\"link__red\":\"EscrowStatusOverview_link__red__3Etjw\",\"marketDescription\":\"EscrowStatusOverview_marketDescription__3BN-s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FeesEarnedOverview_root__1jp6H\",\"header\":\"FeesEarnedOverview_header__2dL1Y\",\"tableWrapper\":\"FeesEarnedOverview_tableWrapper__3sm_K\",\"table\":\"FeesEarnedOverview_table__8FrdZ\",\"tableHeadRow\":\"FeesEarnedOverview_tableHeadRow__1pB3N\",\"tableRow\":\"FeesEarnedOverview_tableRow__1ANv1\",\"link\":\"FeesEarnedOverview_link__HVlWT\",\"description\":\"FeesEarnedOverview_description__3sY7t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__2sZJU\",\"menu__items\":\"Menu_menu__items__2AaF-\",\"menu__item\":\"Menu_menu__item__qQ9mN\",\"menu__logoWrapper\":\"Menu_menu__logoWrapper__14j3N\",\"menu__logo\":\"Menu_menu__logo__1uT-0\",\"menu__last-item\":\"Menu_menu__last-item__3rQBd\",\"wNearBalance\":\"Menu_wNearBalance__3GwGI\",\"accountName\":\"Menu_accountName__2Fvj2\",\"divider\":\"Menu_divider__4w6ii\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-dropdown\":\"TokenDropdown_token-dropdown__3e5w-\",\"token-dropdown__fake-top\":\"TokenDropdown_token-dropdown__fake-top__1JOt5\",\"token-dropdown__balance\":\"TokenDropdown_token-dropdown__balance__3p3cW\",\"token-dropdown__tokens\":\"TokenDropdown_token-dropdown__tokens__1Nca2\",\"token-dropdown__token\":\"TokenDropdown_token-dropdown__token__2PGWR\",\"token-dropdown__token-info\":\"TokenDropdown_token-dropdown__token-info__SPch6\",\"token-dropdown__token-icon\":\"TokenDropdown_token-dropdown__token-icon__P6DUY\",\"token-dropdown__token-balance\":\"TokenDropdown_token-dropdown__token-balance__3oRns\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"CategoricalOpinionCard_title__3RoCx\",\"token-weight-bar\":\"CategoricalOpinionCard_token-weight-bar__2qrzI\",\"volume-wrapper\":\"CategoricalOpinionCard_volume-wrapper__qrJZ0\",\"outcomes-wrapper\":\"CategoricalOpinionCard_outcomes-wrapper__2XiKh\",\"outcome\":\"CategoricalOpinionCard_outcome__Kz1UD\",\"outcome-label-wrapper\":\"CategoricalOpinionCard_outcome-label-wrapper__22gEF\",\"colorLabel\":\"CategoricalOpinionCard_colorLabel__3rFGw\",\"tokenName\":\"CategoricalOpinionCard_tokenName__1rcEL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketOverview_root__3Omus\",\"filters\":\"MarketOverview_filters__2uQkg\",\"filter\":\"MarketOverview_filter__15PLr\",\"market\":\"MarketOverview_market__1-Nmd\",\"markets\":\"MarketOverview_markets__3zaEa\",\"skeleton\":\"MarketOverview_skeleton__23k8G\"};"],"sourceRoot":""}