(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{103:function(e,t,n){e.exports={menu:"Menu_menu__2sZJU",menu__items:"Menu_menu__items__2AaF-",menu__item:"Menu_menu__item__qQ9mN",menu__logo:"Menu_menu__logo__1uT-0","menu__last-item":"Menu_menu__last-item__3rQBd"}},104:function(e,t,n){e.exports={switchTokens:"WrapNearDialog_switchTokens__13uxY",token:"WrapNearDialog_token__1hQbG",balanceButton:"WrapNearDialog_balanceButton__3xppy",tokenHeader:"WrapNearDialog_tokenHeader__1_FD4",noMargin:"WrapNearDialog_noMargin__ZuD-o"}},112:function(e,t,n){e.exports={root:"Footer_root__2znoy",wrapper:"Footer_wrapper__1UYZo",logo:"Footer_logo__1GRAA",social:"Footer_social__2FqgP"}},113:function(e,t,n){e.exports={root:"Tag_root__1xt2a","root--active":"Tag_root--active__2Slzj",icon:"Tag_icon__WN_Jd",title:"Tag_title__3v0LT"}},114:function(e,t,n){e.exports={inputWrapper:"SeedPool_inputWrapper__1iNWT",confirmButton:"SeedPool_confirmButton__2E-cv",adornement:"SeedPool_adornement__2s7XG",tokenTitles:"SeedPool_tokenTitles__12Whr",balanceButton:"SeedPool_balanceButton__3R1WM"}},115:function(e,t,n){e.exports={root:"MarketPage_root__3LPOC",details:"MarketPage_details__3pbkK",infoWrapper:"MarketPage_infoWrapper__1ZdyC",actionsWrapper:"MarketPage_actionsWrapper__JWwEw",stats:"MarketPage_stats__arHt3",comments:"MarketPage_comments__2mb0X"}},132:function(e,t,n){e.exports={paper:"Dialog_paper__XrzDE",title:"Dialog_title__2o5jO",content:"Dialog_content__2Ebv9",cancelButton:"Dialog_cancelButton__3SRaV",confirmButton:"Dialog_confirmButton__OGdmB"}},133:function(e,t,n){e.exports={root:"MarketInfoCard_root__2FEW4",title:"MarketInfoCard_title__2n1-R",bubble:"MarketInfoCard_bubble__1odeX",resolutionInfo:"MarketInfoCard_resolutionInfo__3OcCd",categoryTitle:"MarketInfoCard_categoryTitle__3uYSK"}},134:function(e,t,n){e.exports={addMoreButton:"AddableInputs_addMoreButton__2k3JV",input:"AddableInputs_input__2fSt_",inputs:"AddableInputs_inputs__3gwjp",actions:"AddableInputs_actions__14mC0",removeIcon:"AddableInputs_removeIcon__3xKav"}},148:function(e,t,n){e.exports={page:"Page_page__1vav1",page__body:"Page_page__body__3V8v2","page__body--large":"Page_page__body--large__27pTP","page__body--unrestricted":"Page_page__body--unrestricted__3wRih"}},149:function(e,t,n){e.exports={root:"HomeHeader_root__2i5k9",titleWrapper:"HomeHeader_titleWrapper__3rfhA",title:"HomeHeader_title__3isjk",subTitle:"HomeHeader_subTitle__3F-zR"}},150:function(e,t,n){e.exports={skeleton:"TokenSwapperLoader_skeleton__19zxP"}},151:function(e,t,n){e.exports={confirm:"LiquidityProvider_confirm__uAEJF",tokenSelect:"LiquidityProvider_tokenSelect__145e7",header:"LiquidityProvider_header__3s-_C",balanceButton:"LiquidityProvider_balanceButton__2If4o"}},152:function(e,t,n){e.exports={confirm:"ExitPool_confirm__1B_mc",tokenSelect:"ExitPool_tokenSelect__1Slsh",header:"ExitPool_header__MxyTH",balanceButton:"ExitPool_balanceButton__M8N-z"}},153:function(e,t,n){e.exports={root:"ProfilePage_root__2aAdj",pageBody:"ProfilePage_pageBody__3-nCN",userBalances:"ProfilePage_userBalances__2nnA0",feesEarned:"ProfilePage_feesEarned__1UCF4"}},182:function(e,t,n){e.exports={root:"TabBar_root__djI5v",tab:"TabBar_tab__1berB",indicator:"TabBar_indicator__2t7kc"}},183:function(e,t,n){e.exports={dialog:"DisclaimerDialog_dialog__3rljq",description:"DisclaimerDialog_description__3rCL0",button:"DisclaimerDialog_button__Hmpr6"}},184:function(e,t,n){e.exports={homePage:"HomePage_homePage__1J6Li",homePageBody:"HomePage_homePageBody__1soNb",tabBar:"HomePage_tabBar__1DeXq"}},185:function(e,t,n){e.exports={root:"MarketHeaderLoader_root__2LBTq",wrapper:"MarketHeaderLoader_wrapper__1Gjam",skeleton:"MarketHeaderLoader_skeleton__o_qZI"}},186:function(e,t,n){e.exports={actionsCard:"NoWrappedNearCard_actionsCard__3xs2D",content:"NoWrappedNearCard_content__Zs4xS",icon:"NoWrappedNearCard_icon__AH4oL"}},220:function(e,t,n){e.exports={icon:"DarkmodeButton_icon__2I4vN"}},221:function(e,t,n){e.exports={accountMenuButton:"AccountButton_accountMenuButton__KooJW",iconButton:"AccountButton_iconButton__coipq"}},225:function(e,t,n){e.exports={token:"Token_token__3WyPN",tokenImage:"Token_tokenImage__2PzVa"}},226:function(e,t,n){e.exports={root:"MarketCard_root__h9Hyf",infoCard:"MarketCard_infoCard__1rzGB"}},227:function(e,t,n){e.exports={"token-weights-bar":"TokenWeightsBar_token-weights-bar__m-jIF","token-weights-bar__weight":"TokenWeightsBar_token-weights-bar__weight__dLbBM"}},228:function(e,t,n){e.exports={select:"Select_select__JK0vz",icon:"Select_icon__2tpm0"}},229:function(e,t,n){e.exports={root:"MarketResolutionInfo_root__2t0wL",title:"MarketResolutionInfo_title__Sb4IU"}},230:function(e,t,n){e.exports={timePeriodButtons:"MarketStatistics_timePeriodButtons__315vn"}},231:function(e,t,n){e.exports={button:"ToggleButtons_button__3I0Ud",selected:"ToggleButtons_selected__DQend"}},232:function(e,t,n){e.exports={tabs:"TabbedViews_tabs__OJlbM",tab:"TabbedViews_tab__38YT2"}},233:function(e,t,n){e.exports={confirm:"ClaimEarnings_confirm__3mCYg",claimable:"ClaimEarnings_claimable__2-bQN"}},323:function(e,t,n){e.exports={"background-wave":"BackgroundWave_background-wave__2kjEj"}},324:function(e,t,n){e.exports={button:"Button_button__2Lf63"}},325:function(e){e.exports=JSON.parse('{"global.appName":"Flux","global.yes":"Yes","global.no":"No","global.none":"None","global.token":"token","global.balance":"balance","global.comments":"Comments","global.poolToken":"Liquidity Provider Token","global.action.cancel":"Cancel","global.action.submit":"Submit","global.actions.createMarket":"Create market","pages.marketOverview":"Trade","pages.resoluteOverview":"Finalized","pages.pendingOverview":"Pending","menu.logout":"Logout","menu.profile":"Positions","menu.wrapNear":"Wrap NEAR","home.title.head":":appName - Markets","home.title.welcome":"Welcome :username","home.title.latestTrends":"These are the latest trends","disclaimer.title":"Disclaimer","disclaimer.description":"This is a community deployed open-source version of Flux Protocol and is unaudited. You are acknowledging this software is provided as is with no warranty or guarantee.","disclaimer.action.accept":"Accept","wrapNearDialog.title":"Wrap NEAR","wrapNearDialog.description":"Wrapping NEAR allows you to trade on Flux. Make sure to leave 1 NEAR for gas fees to unwrap your near","wrapNearDialog.errors.amountIn.exactBalance":"Please leave some balance for transaction fees","wrapNearDialog.errors.amountIn.notEnoughBalance":"Not enough balance","wrapNearDialog.requiredDeposit.description":"A small deposit of :amount NEAR is required in order to swap NEAR for wNEAR due storage costs","wrapNearDialog.requiredDeposit.submit":"Deposit :amount NEAR","noWrappedNear.description":"Looks like you don\'t have any wNEAR. You can swap your NEAR with wNEAR by going to :accountId \u2794 Wrap NEAR","noWrappedNear.action.openDialog":"Take me there","redeem.description":"If you have shares in every outcome, you can redeem them for collateral. You are eligible for :amount :tokenSymbol","redeem.action.submit":"Redeem","marketStatus.uknown":"Unknown","marketStatus.finalized":"Finalized","marketStatus.invalid":"Invalid","marketStatus.resoluting":"Resoluting","marketStatus.ongoing":"On going","market.title.head":":appName - :description","market.extraInfo":"Extra info","market.startDate":"Market started","market.resolutionDate":"Resolution date","market.action.confirmSwap":"Confirm swap","market.action.confirmLiquidity":"Add Liquidity","market.action.switchTokens":"Switch tokens","market.action.changeTradingPair":"Change outcome token","market.action.claimEarnings":"Claim","market.label.resolutionInfo":"Resolution info","market.label.totalVolume":"Total volume","market.label.opinion":"What does the market think?","market.label.youPay":"You pay","market.label.youReceive":"You receive","market.label.overview":"Overview","market.label.redeem":"Redeem","market.label.swap":"Swap","market.label.liquidity":"Add Liquidity","market.label.claimEarnings":"Claim","market.label.seedPool":"Add Liquidity","market.label.marketClosed":"Market closed","market.label.exitPool":"Remove liquidity","market.label.notLoggedIn":"Not logged in","market.claimEarnings.validMarket":"This market was resoluted and marked as valid. You can claim your earnings below","market.claimEarnings.invalidMarket":"This market was marked as invalid, you can claim all your tokens back.","market.claimEarnings.alreadyClaimed":"You\'ve already claimed :payout :tokenName","market.claimEarnings.label.outcome":"Outcome","market.claimEarnings.label.balance":"Your balance","market.claimEarnings.label.payout":"Payout per share","market.claimEarnings.label.claimable":"Claimable (including earned fees through liquidity providing and :tokenName hold in escrow):","market.overview.rate":"Rate","market.overview.inverseRate":"Inverse rate","market.overview.estimatedFee":"Estimated fee","market.overview.maxSlippage":"Max. slippage","market.category.crypto":"Crypto","market.category.esports":"Esports","market.category.meme":"Memes","market.category.politics":"Politics","market.category.sports":"Sports","market.category.startups":"Startups","market.category.stocks":"Stocks","market.category.viral":"Viral","market.category.beer":"Beer","notLoggedIn.title":"Welcome to Flux!","notLoggedIn.description":"To start trading on markets, you have to be logged in.","notLoggedIn.action.login":"Login","marketCreation.label.extraInfo":"Provide info to resolute the market","marketCreation.label.categorySelect":"Select one or more category","marketCreation.label.description":"Provide description of the market","marketCreation.label.marketType":"Choose a market type","marketCreation.label.binary":"Binary","marketCreation.label.categorical":"Categorical","marketCreation.label.resolutionDate":"When does this market end?","marketCreation.label.outcomes":"Outcomes","marketCreation.label.outcome":"Outcome :number","marketCreation.label.addMoreOutcomes":"Add more outcomes","marketCreation.label.collateralToken":"Collateral token","marketClosed.description":"This market has ended. Resolution is currently in progress, come back later to claim your earnings.","marketPeding.title.head":":appName - Pending","marketResolution.title.head":":appName - Finalized","liquidityProvider.description":"Liquidity providers earn a :percentage% fee on all trades proportional to their share of the pool. Fees are added to the pool, accrue in real time and can be claimed by withdrawing your liquidity.","orderHistory.title":"Order history","orderHistory.table.share":"Share","orderHistory.table.pricePerShare":"Price per share","orderHistory.table.orderValue":"Order value","feesEarned.title":"Fees earned","feesEarned.table.market":"Market","feesEarned.table.balance":"Pool token balance","feesEarned.table.feesEarned":"Fees earned","seedPool.wrongUser.title":"Only the creator of the market can seed the pool","seedPool.wrongUser.description":"Please come back later. If you are the creator, please login as :account to seed the pool.","seedPool.explanation":"Seed the pool with :tokenName, pick how heavy each outcome is. Together it should be 100%","seedPool.not100Percent":"All the weight combined equal :percentage but should equal 100","seedPool.inputZero":"Outcome can\'t have a weight of zero or less","seedPool.input100":"Outcome can\'t have a weight of 100 or higher","seedPool.action.submit":"Add Liquidity","seedPool.action.finalize":"Publish pool","seedPool.action.reSeed":"Reseed pool","seedPool.weightsTitle":"Outcome weights","seedPool.label.mainTokenBalance":"NEAR input","seedPool.errors.notEnoughBalance":"Not enough balance","liquidityProvider.errors.notEnoughBalance":"Not enough balance","priceHistory.labels.1d":"1D","priceHistory.labels.1w":"1W","priceHistory.labels.3w":"3W","priceHistory.labels.1m":"1M","priceHistory.labels.all":"ALL","swap.errors.notEnoughBalance":"Not enough balance","auth.login":"Login","navigation.back":"Back","exitPool.description":"Removing pool tokens converts your position back into underlying tokens at the current rate, proportional to your share of the pool. Accrued fees are included in the amounts you receive.","exitPool.label.youInsert":"You insert","exitPool.action.exitPool":"Remove liquidity","exitPool.label.feesEarned":"Fees earned: :amount :tokenSymbol","exitPool.validation.amountIn.tooHigh":"Amount can\'t exceed balance","exitPool.validation.amountIn.negative":"Amount can\'t be zero or lower","userbalances.title":"Balances","userbalances.table.market":"Market","userbalances.table.outcome":"Outcome","userbalances.table.balance":"Balance","userbalances.table.status":"Status"}')},328:function(e,t,n){e.exports={error:"Error_error__T_9Pn"}},329:function(e,t,n){e.exports={"icon-button":"IconButton_icon-button__2Mu5G"}},330:function(e,t,n){e.exports={root:"TextButton_root__1-4XU"}},331:function(e,t,n){e.exports={"non-link-button":"NonLinkButton_non-link-button__1th1A"}},335:function(e,t,n){e.exports={root:"DateTimePicker_root__2vHn-"}},336:function(e,t,n){e.exports={root:"Label_root__ppqno"}},337:function(e,t,n){e.exports={root:"OptionSwitch_root__URwjr"}},338:function(e,t,n){e.exports={root:"TextInput_root__1xHrc"}},340:function(e,t,n){e.exports={"link-button":"LinkButton_link-button__ZMs6H"}},341:function(e,t,n){e.exports={skeleton:"MarketResolutionInfoLoader_skeleton__2_ygu"}},344:function(e,t,n){e.exports={root:"ActionCard_root__2bQ7m"}},346:function(e,t,n){e.exports={table:"FinalizedMarketOutcomes_table__1Sj0h"}},347:function(e,t,n){e.exports={confirmButton:"NotLoggedIn_confirmButton__11_az"}},348:function(e,t,n){e.exports={confirmButton:"Redeem_confirmButton__7E_AB"}},402:function(e,t){},422:function(e,t){},44:function(e,t,n){e.exports={filters:"MarketCreationDialog_filters__1wQ7F",filter:"MarketCreationDialog_filter__rL3p7",inputsWrapper:"MarketCreationDialog_inputsWrapper__kSF9k",categories:"MarketCreationDialog_categories__3I7_N",label:"MarketCreationDialog_label__QojXy"}},440:function(e,t){},442:function(e,t){},506:function(e,t,n){},507:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n(29),c=n.n(o),i=n(13),s=n(43),l=n(557),u=n(38),d=n(304),p=n(4),m=n(19),b=n(552),f=n(323),j=n.n(f);function k(){return Object(a.jsx)("div",{className:j.a["background-wave"]})}var v=n(16),h=n.n(v),O=n(558),_=n(541),g=n(182),x=n.n(g);function w(e){var t=e.items,n=e.onTabClick,r=e.activeId,o=e.variant,c=void 0===o?"standard":o,i=e.tabClassName,s=void 0===i?"":i,l=e.className,u=void 0===l?"":l;return Object(a.jsx)(O.a,{classes:{indicator:x.a.indicator},className:h()(x.a.root,u),variant:c,value:r,children:t.filter((function(e){return e.show})).map((function(e){return Object(a.jsx)(_.a,{onClick:function(){return n(e)},className:h()(x.a.tab,s),label:e.label,value:e.id},e.id)}))})}var y=n(90),N=n(112),I=n.n(N);function A(){return Object(a.jsx)("footer",{className:I.a.root,children:Object(a.jsxs)("div",{className:I.a.wrapper,children:[Object(a.jsx)("div",{className:I.a.logo}),Object(a.jsxs)("div",{className:I.a.socials,children:[Object(a.jsx)("a",{href:"https://twitter.com/fluxprotocol",className:I.a.social,rel:"noopener noreferrer",target:"_blank",children:Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIaADAAQAAAABAAAAIQAAAAA1iKI6AAADZklEQVRYCb2Xy04UQRSGGWQcGYloIhi84AUxJmp0Y6Iu1aUP4MKXcGGir+HKhRt3xsSFMTFx4QZd4i2aYBRDkHgXBC/IoDB+32S6MzNUTzfo8Cc/XVSdqvPXqdOna3Jty0C5XN6AeQ/0Waiyg+c8LME5OAW/5HI525mQS7PC8Rps+uF2qOOs+IbhGGI+p01IFIFzx7bBPXBt2kJNxmcYe4kYn0EERVR3f4AZvcFZy+8sM0UhE6GpS0QgYB2GR2BXaMI/9r1j/ghiFBWjPW7RQIBJ1ioButoKB23UIhZRzYGDDLYiArU++/FlrsWIRdCzA26OR1rb2I+QYuSiIqJ6DLujzlV4mot7Iz9RJHbRkY86V/h0LYuYeZUFvWy+W8MOGqqqO6PAClvo+xjot8tidgyehdp9grfga7izVCrdLxQKf2iHoN8ZVW+EaVE4j80IvAZr4e4PwUswqqabaF+A0/Du3NzcY0TYDqHHILiI34JmMFKG7Ry8CPtgBMWfhpGAqN851pvOfD7vNyUJzu82EmmvpIXlIRyAp+BROASH4SQMVVXnvIdXi8Vi2oesSxEqbgbP/BX0Q6RDk+9MlbM8HW+EIn7AZlGI5hQUkfZxWsTmJDR3GhG/6w0DzvkA68pzg030b8GckM3gQma7d4Ysi7rWAnxmIwPaFZAlZI+wuwK/ZFhUoeaKOZMFpawiXOw37IJp0XBTd2AWwZi1VUSYXFkwhNENaNZ75iEo9Am8HRpM6Js1EmnXL995E9i34CY0P0KvnRF4Ci/DrBszd6Zc3IupO1NQCB7BcbgPetsagMJjkZbkn/AevA5nYFZMcsFZ7ODPAqXT70JfwkwdjFbHv/Mch9YWd+65W84fQL8Vy4VH22aovVG56AmYFA3NIlgbLLdGwLCnJSomQUwTgGFHKk75xzOeCJou7dSxITdCKxXgqlbhCmp3PkaPpXY18IaNx7kTi6DT8JrdvmathHkUR0FHsQj/QcgvHr7nrRLi7p/jp+4YK4nJQB1I1E46DkNfz/8Ff3O8QMCSQhcUoVeEWEMGob8VEu0YS4NRHcX52yTD1MURs57JFqjepEUS+q2G49AkNN8SkSoimokYr3D+LumBXmwa7yGes6+6FdhPwVecKyQVmUU0roQok1ohHts8Dr1vrAh/AUkd3oiiffEOAAAAAElFTkSuQmCC",alt:"Twitter page"})}),Object(a.jsx)("a",{href:"https://t.me/fluxprotocol",className:I.a.social,rel:"noopener noreferrer",target:"_blank",children:Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ0SURBVHgBvZg9bxNBEIbnLBegxIWLAIpEihilQSJFyvRQww+ghxblV0BNUvMDSE8PFSmIBBIFKYKUTymO5EROYcl537s5Z33au5217/JKc5vs7d08O/txs04kQuPxuItiCdaBPYQ9cG5fwYawC9hlkiQDMSoJNYDjNooVtbbYRaADwByHGiYBgKcoepHOfTD7VZFJSpwzzM9hXalPjMqBWCAUYEOyMa9bRwD5I1UQDQOUgrQKDdYbBqCW0dkV8UHgxqpkS+8+tAZ/nSkIHYZVuV+tiQvRAMAL2DvYTkWbrm5+k/X/SObXIuy1ZPNqXev+BZ7h3Oi3QbMks29GdMwovi1xfBJ4ntFo0/ksGxLDvQl7BVvQumvYZ63vad2vwHvov5NexCZfuHN9hX2DbTkAVGg4xAJBx+z1G49j6hT2UctPsMeF+/sS1iIhqubDjufFudj7L5J1wgdgiUKq0IT8IHdRcMd5W508U4AFz7Oh+TAFMZJymFN1SLGnXPs/FOAl7H0JgEhEJLhZDY1tCbSrzhmZrQqAGIgbQpjTMH3xE8kma5WuxA4xIMSl2MWXc6w3HahdTzvzUEB9QpxJnLgf9LTkxOUGlS/TWIg+cotRi5dIEDrYVsfXDhiB8hVh2R+oI17SzEq/ZhtSj3pii8QQAfjOP9JPOf7poziUemQdiknS2ypUWpfrvPrvnkcmEDo39iTbvJrUAL7+uhVTiS5u3qD42SAI96S9YmXV4afu1P8c9lsjHoZwQJg1Lct8olOevkonvuVAPOuRkM7p+NDX+yiIAgzzUSbFzCF8X17OqfSnAdhZyHk0hAcqT4jydGBkdVrULTvWsvR8Wy+OAAAAAElFTkSuQmCC",alt:"Telegram group"})})]})]})})}var C=n(24),T=n(350),S=n(569),P=n(79),M=n(542),E=n(324),D=n.n(E);function B(e){var t=e.className,n=void 0===t?"":t,r=e.children,o=Object(P.a)(e,["className","children"]);return Object(a.jsx)(M.a,Object(p.a)(Object(p.a)({},o),{},{className:"".concat(D.a.button," ").concat(n),children:r}))}var R=n(325);function F(e,t,n){var a=R[e];if(!a)return e;var r,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/:(\w+)/gi,(function(e){var n=e.replace(/^:/,"");return void 0===t[n]||null===t[n]?"":t[n]}))}(a,t);return n?(r=o).charAt(0).toUpperCase()+r.substring(1):o}var q,W,L=n(5),H=n.n(L),U=n(10),z=n(14),Y=n.n(z),V=n(30),G=n.n(V),Q="https://api.flux.xyz/graphql",J=null!==(q="null_contract.flux-dev")?q:"null_contract.flux-dev",Z="https://api.coingecko.com/api/v3/",X="beta-amm.flux-dev",K="wnear.flux-dev",$=new G.a("200000000000000"),ee=new G.a("300800000000000000000000"),te=new G.a("30000000000000000000000"),ne=(new G.a("0"),"BUY"),ae="testnet",re=100,oe="flux_selected_period";function ce(e){return e.type===W.Success}Y.a.PE=1e6,function(e){e.Error="error",e.Success="success"}(W||(W={}));var ie=new Map,se=new Map;function le(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(U.a)(H.a.mark((function e(t,n){var a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ie.get(t))){e.next=3;break}return e.abrupt("return",a);case 3:if(!(r=se.get(t))){e.next=6;break}return e.abrupt("return",r);case 6:return o=n(),se.set(t,o),e.prev=8,e.next=11,o;case 11:return c=e.sent,ie.set(t,c),e.abrupt("return",c);case 16:throw e.prev=16,e.t0=e.catch(8),e.t0;case 19:return e.prev=19,se.delete(t),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[8,16,19,22]])})))).apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(U.a)(H.a.mark((function e(t){var n,a,r,o=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"usd",e.prev=1,e.next=4,fetch("".concat(Z,"/coins/").concat(t,"?localization=false"));case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",{type:W.Success,data:r.market_data.current_price[n],status:a.status});case 11:return e.prev=11,e.t0=e.catch(1),console.error("[getCurrentMainTokenPrice]",e.t0),e.abrupt("return",{type:W.Error,error:e.t0,status:500});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var me=n(146),be=n.n(me),fe=new be.a({network:ae,protocolContractId:X,nullContractId:J,graphApiUrl:Q});function je(){return ke.apply(this,arguments)}function ke(){return(ke=Object(U.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.connect();case 2:return e.abrupt("return",fe);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return he.apply(this,arguments)}function he(){return(he=Object(U.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return t=e.sent,e.abrupt("return",t.walletConnection);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=n.p+"static/media/wrapped-near.8b3a5e4b.svg",_e=n.p+"static/media/banana-token.1f4ead34.svg";function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=new Y.a(10).pow(t);return new Y.a(e).div(a).toFixed(n)}function xe(e,t){var n=new Y.a(10).pow(t);return new Y.a(e).mul(n).toFixed(0)}function we(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(U.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je();case 3:return a=e.sent,e.next=6,a.getTokenBalance(t,n);case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),console.error("[getCollateralTokenBalance]",e.t0),e.abrupt("return","0");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ne(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(U.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==K){e.next=6;break}return e.next=3,de("near");case 3:if(!ce(n=e.sent)){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return e===K?Oe:"berryclub.ek.near"===e?_e:void 0}function Ce(e){return{decimals:18,name:e,reference:"",symbol:e,version:"0",collateralTokenId:e,tokenImage:Ae(e)}}function Te(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(U.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ce(t),e.prev=1,t){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,le("metadata_".concat(t),Object(U.a)(H.a.mark((function e(){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return n=e.sent,e.abrupt("return",n.getTokenMetadata(t));case 4:case"end":return e.stop()}}),e)}))));case 6:return a=e.sent,e.abrupt("return",Object(p.a)(Object(p.a)(Object(p.a)({},n),a),{},{collateralTokenId:t}));case 10:return e.prev=10,e.t0=e.catch(1),console.error("[getCollateralTokenMetadata]",e.t0),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var Pe=n(103),Me=n.n(Pe),Ee=n(543),De=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current.apply(n,arguments)}),t);return function(){return clearInterval(e)}}}),[t])},Be="darkmode-active",Re="data-theme",Fe=function(){},qe=function(){return"true"===localStorage.getItem(Be)},We=function(){var e="dark"===document.documentElement.getAttribute(Re),t=qe();(function(){var e,t=Boolean(window.matchMedia),n=t&&window.matchMedia("(prefers-color-scheme: dark)").matches,a=t&&window.matchMedia("(prefers-color-scheme: light)").matches;return{userHasPreference:null!==(e=null!==n&&void 0!==n?n:a)&&void 0!==e&&e,userPrefersDark:null!==n&&void 0!==n&&n,userPrefersLight:null!==a&&void 0!==a&&a}})().userPrefersDark;return e||t||!1},Le=function(e){var t=null!==localStorage.getItem(Be),n=qe(),a=(t?n:e)?"dark":"default";document.documentElement.setAttribute(Re,a),Fe()},He=function(){var e=Object(r.useState)(!1),t=Object(C.a)(e,2),n=t[0],a=t[1];return De((function(){var e=We();e!==n&&a(e)}),10),Fe=function(){var e=We();e!==n&&a(e)},n},Ue=n(220),ze=n.n(Ue);function Ye(){var e=He(),t=Object(r.useCallback)((function(){var t;t=!e,localStorage.setItem(Be,String(t)),Le(t)}),[e]);return Object(a.jsxs)(Ee.a,{"aria-label":"darkmode",onClick:t,children:[!e&&Object(a.jsx)("div",{className:ze.a.icon,children:"\ud83c\udf1a"}),e&&Object(a.jsx)("div",{className:ze.a.icon,children:"\ud83c\udf1e"})]})}var Ve=n(222),Ge=n.n(Ve),Qe=n(221),Je=n.n(Qe);function Ze(e){var t=e.account,n=e.onClick;e.className;return Object(a.jsxs)("div",{children:[Object(a.jsx)(B,{endIcon:Object(a.jsx)(Ge.a,{}),onClick:n,className:Je.a.accountMenuButton,children:t.accountId}),Object(a.jsx)(Ee.a,{"aria-label":"darkmode",onClick:n,className:Je.a.iconButton,children:Object(a.jsx)(Ge.a,{})})]})}function Xe(e){var t=e.onLoginClick,n=e.onLogoutClick,o=e.onProfileClick,c=e.onWrapNearClick,i=e.account,l=e.className,u=void 0===l?"":l,d=Object(r.useState)(null),p=Object(C.a)(d,2),m=p[0],b=p[1];function f(){b(null)}return Object(a.jsx)("header",{className:h()(Me.a.menu,u),children:Object(a.jsxs)("div",{className:Me.a.menu__items,children:[Object(a.jsx)("div",{className:Me.a.menu__item,children:Object(a.jsx)(s.b,{to:"/",children:Object(a.jsx)("div",{className:Me.a.menu__logo})})}),Object(a.jsx)("div",{className:Me.a.menu__item}),Object(a.jsxs)("div",{className:h()(Me.a.menu__item,Me.a["menu__last-item"]),children:[Object(a.jsx)(Ye,{}),null===i&&Object(a.jsx)(B,{onClick:t,children:F("auth.login")}),i&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ze,{account:i,onClick:function(e){b(e.currentTarget)}}),Object(a.jsxs)(T.a,{anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:f,children:[Object(a.jsx)(S.a,{disabled:!0,children:i.accountId}),Object(a.jsxs)(S.a,{disabled:!0,children:["NEAR: ",ge(i.balance,24)," \u24c3"]}),Object(a.jsx)(S.a,{onClick:function(){f(),c()},children:F("menu.wrapNear")}),Object(a.jsx)(S.a,{onClick:function(){f(),o()},children:F("menu.profile")}),Object(a.jsx)(S.a,{onClick:function(){f(),n()},children:F("menu.logout")})]})]})]})]})})}var Ke=n(78),$e=Object(Ke.a)({initialState:{account:null,loading:!1,poolTokenLoading:!1,poolTokens:[],errors:[],balances:[]},name:"account",reducers:{setAccount:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{account:t.payload})},setNearToken:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{nearToken:t.payload})},setWrappedNearToken:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{wrappedNearToken:t.payload})},setRequiredWrappedNearDeposit:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{requiredWrappedNearDeposit:t.payload})},setAccountPoolTokens:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{poolTokens:t.payload})},setAccountLoading:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{loading:t.payload})},setAccountPoolTokenLoading:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{poolTokenLoading:t.payload})},setAccountBalances:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{balances:t.payload})},setAccountErrors:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{errors:t.payload})}}}),et=$e.actions,tt=et.setAccount,nt=(et.setAccountErrors,et.setAccountLoading),at=et.setAccountPoolTokenLoading,rt=et.setAccountPoolTokens,ot=et.setAccountBalances,ct=et.setNearToken,it=et.setWrappedNearToken,st=et.setRequiredWrappedNearDeposit,lt=$e.reducer,ut=n(92),dt=n(81),pt=n(55);function mt(e,t){var n,a,r;return{balanceFormatted:ge(e.balance,t.decimals),balance:e.balance,fees:e.fees,marketDescription:null!==(n=null===(a=e.market)||void 0===a?void 0:a.description)&&void 0!==n?n:"",marketId:e.poolId,outcomeId:e.outcomeId,poolId:e.poolId,collateralTokenDecimals:null!==(r=t.decimals)&&void 0!==r?r:18}}function bt(e){if(!e)return F("marketStatus.uknown");var t=new Date(parseInt(e.end_time)),n=new Date;return e.finalized&&null!==e.payout_numerator?F("marketStatus.finalized"):e.finalized&&null===e.payout_numerator?F("marketStatus.invalid"):!e.finalized&&n.getTime()>=t.getTime()?F("marketStatus.resoluting"):F("marketStatus.ongoing")}function ft(e,t){var n,a;return{balance:e.balance,outcomeId:e.outcome_id,marketId:e.pool_id,marketDescription:(null===(n=e.market)||void 0===n?void 0:n.description)||"",marketStatus:bt(e.market),outcomeTag:(null===(a=e.market)||void 0===a?void 0:a.outcome_tags[e.outcome_id])||"",collateralTokenDecimals:t.decimals}}var jt=new pt.InMemoryCache,kt=Object(pt.createHttpLink)({uri:Q}),vt=new pt.ApolloClient({cache:jt,link:kt,defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network"}}});function ht(){var e=Object(dt.a)(["\n                query AccountMarketPoolBalances($accountId: String!, $marketId: String) {\n                    account: getAccount(accountId: $accountId) {\n                        earned_fees(poolId: $marketId) {\n                            balance\n                            fees\n                            outcomeId\n                            poolId\n\n                            market {\n                                pool {\n                                    collateral_token_id\n                                }\n                            }\n                        }\n                    }\n                }\n            "]);return ht=function(){return e},e}function Ot(){var e=Object(dt.a)(["\n                query AccountMarketBalances($accountId: String!, $marketId: String) {\n                    account: getAccount(accountId: $accountId) {\n                        balances(poolId: $marketId) {\n                            balance\n                            outcome_id\n                            pool_id,\n\n                            market {\n                                outcome_tags\n\n                                pool {\n                                    collateral_token_id\n                                }\n                            }\n                        }\n                    }\n                }\n            "]);return Ot=function(){return e},e}function _t(){var e=Object(dt.a)(["\n                query Account($accountId: String!) {\n                    account: getAccount(accountId: $accountId) {\n                        earned_fees(removeZeroBalances: true, removeClaimedBalances: false) {\n                            fees\n                            outcomeId\n                            poolId\n                            balance\n                            market {\n                                description\n\n                                pool {\n                                    collateral_token_id\n                                }\n                            }\n                        }\n                        balances(removeZeroBalances: true, removeClaimedBalances: false) {\n                            balance\n                            outcome_id\n                            pool_id\n                            market {\n                                description\n                                outcome_tags\n                                end_time\n                                finalized\n                                payout_numerator\n\n                                pool {\n                                    collateral_token_id\n                                }\n                            }\n                        }\n                    }\n                }\n            "]);return _t=function(){return e},e}function gt(){return xt.apply(this,arguments)}function xt(){return(xt=Object(U.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:e.sent.signIn();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){return yt.apply(this,arguments)}function yt(){return(yt=Object(U.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:if((n=e.sent).isSignedIn()){e.next=5;break}return e.abrupt("return",null);case 5:return e.t0=null!==(t=n.getAccountId())&&void 0!==t?t:"",e.next=8,n.getNearBalance();case 8:return e.t1=e.sent.available,e.abrupt("return",{accountId:e.t0,balance:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return It.apply(this,arguments)}function It(){return(It=Object(U.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:e.sent.signOut();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c,i,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.query({query:Object(pt.gql)(_t()),variables:{accountId:t}});case 3:return a=e.sent,r=a.data.account,o=r.earned_fees.map((function(e){var t;return(null===(t=e.market)||void 0===t?void 0:t.pool.collateral_token_id)||""})),(n=o).push.apply(n,Object(ut.a)(r.balances.map((function(e){var t;return(null===(t=e.market)||void 0===t?void 0:t.pool.collateral_token_id)||""})))),o=o.filter((function(e){return e})),e.next=10,Promise.all(o.map((function(e){return Te(e)})));case 10:return c=e.sent,i=r.earned_fees.map((function(e){var t=c.find((function(t){var n;return t.collateralTokenId===(null===(n=e.market)||void 0===n?void 0:n.pool.collateral_token_id)}));return mt(e,t)})),s=r.balances.map((function(e){var t=c.find((function(t){var n;return t.collateralTokenId===(null===(n=e.market)||void 0===n?void 0:n.pool.collateral_token_id)}));return ft(e,t)})),e.abrupt("return",{poolTokens:i,marketBalances:s});case 16:return e.prev=16,e.t0=e.catch(0),console.error("[getPoolTokensByAccountId]",e.t0),e.abrupt("return",{poolTokens:[],marketBalances:[]});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Tt(e,t){return St.apply(this,arguments)}function St(){return(St=Object(U.a)(H.a.mark((function e(t,n){var a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.query({query:Object(pt.gql)(Ot()),variables:{accountId:t,marketId:n}});case 3:return a=e.sent,r=a.data.account,o=r.balances.map((function(e){var t;return(null===(t=e.market)||void 0===t?void 0:t.pool.collateral_token_id)||""})).filter((function(e){return e})),e.next=8,Promise.all(o.map((function(e){return Te(e)})));case 8:return c=e.sent,e.abrupt("return",r.balances.map((function(e){var t=c.find((function(t){var n;return t.collateralTokenId===(null===(n=e.market)||void 0===n?void 0:n.pool.collateral_token_id)}));return ft(e,t)})));case 12:return e.prev=12,e.t0=e.catch(0),console.error("[getBalancesForMarketByAccount]",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Pt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(U.a)(H.a.mark((function e(t,n){var a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.query({query:Object(pt.gql)(ht()),variables:{accountId:t,marketId:n}});case 3:if(r=e.sent,(o=r.data.account.earned_fees).length){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,Te((null===(a=o[0].market)||void 0===a?void 0:a.pool.collateral_token_id)||"");case 9:return c=e.sent,e.abrupt("return",mt(o[0],c));case 13:return e.prev=13,e.t0=e.catch(0),console.error("[getBalancesForMarketByAccount]",e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAHlBMVEXi4uLJysvx8fGqq6z///9ydHaQkpNPUVQxNDckJyrxLYRSAAADBUlEQVR42u3a2RbiIAwG4CwEyPu/8Fy4gWVrp4aZc9JrsZ/Y36Q2EP7JA5zlLGc5y1nOcpaznOUsZznLWc5ylrOc5SxnOctZf8UCZGbGC58EmOOpdeuvBcmqqqpZTsIwPdfh/SzWz5H5jCp+FvLdrFJ15v1DkHJdvJcFtUozXtgrVVW8lSX67YJLu6xCN7K+N0tV09L7Y/5eBzey+MhSWXn3g2rxqoQrF8jq5Qvpyqq/ZE0/OCXdwZrFUXQLaxLH9iID1jCOnLexBnHElPM2VvcsmFJuumxYnTiSpI7LiNWMI8WUOi4jVjOOUUQ+rmzByjKNI0cpXLnK5M9YIJOuAGOUwsVgwzoUlfpUEGPpisGIdSzBXN9OcOGKZMY6tFFFHAkfrKdLKNixDpXlHUdC5NJFwZJ1+Ml4xRGwckGwZR26lkd1JMDCFSFYs5pxJILShcGc1Y4jEcD7e8SwgdWOY7FfGLawDvdDGcr9wrCJ1Y7ja7/CNlY7jo/9ChtZ7epIBEA7WcfbZn64KGxldaojhc2sfnXcy+pWx82sMGtWN7Emzeou1rhZ3ccaNau7WDSP4wYWAdEsjvYsAgCiEGgUR/uaiPhyDeJozSLEt2sQR2MWMReufhxtWcRcubj3V44pizjG2tW9d7RkcYylq3/vaMpikdJFg+poyEKR0vVsktvNqh0LU6pcNKqOZixIqXLRsFm1+9stVy4YN6tmf1LmnAoXTJpVI1ZSzfmzXzhrVm1Yoqr62S8e3lGoqkYL1kv33K9I02bV9CnGk0Xrz+xsHq7knFPngWLcyNKcU+exMMlG1mDWpvn03Io1OAWkbazhgEYvjj9nTcZleA8rwaUt/vXP6Xzlz8cz+PTESDeOd47+4PpPw7A6Ls+VLU6HpUtfRSOOKdzJwvOzW+3qeO8QXn35Lk7SNcJy88hiVeVOqL5cyyvXJ1v5eX2lU0On72FYVU0/GIcNgTCKRKRw8iDkR3N9YqVPgDvLWc5ylrOc5SxnOctZznKWs5zlLGc5y1nOctZ/w/oDdfKVy4bajDUAAAAASUVORK5CYII=",Dt=n(123),Bt=n(124),Rt=n(125),Ft=function(){function e(t){Object(Dt.a)(this,e),this.contract=void 0,this.contract=new Rt.Contract(t,K,{changeMethods:["near_deposit","near_withdraw","storage_deposit"],viewMethods:["storage_balance_of","storage_minimum_balance","ft_balance_of"]})}return Object(Bt.a)(e,[{key:"wrapNear",value:function(e){this.contract.near_deposit({},$,e)}},{key:"unwrapNear",value:function(e){this.contract.near_withdraw({amount:e},$,"1")}},{key:"depositStorage",value:function(e,t){return this.contract.storage_deposit({account_id:t},$,e)}},{key:"getStorageBalance",value:function(e){return this.contract.storage_balance_of({account_id:e})}},{key:"getBalance",value:function(e){return this.contract.ft_balance_of({account_id:e})}},{key:"getMinimumRequiredStorageBalance",value:function(){return this.contract.storage_minimum_balance({})}}]),e}();function qt(){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(U.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",le("wrapped_near_contract",Object(U.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:return t=e.sent,e.abrupt("return",new Ft(t.account()));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(U.a)(H.a.mark((function e(){var t,n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={decimals:24,isCollateralToken:!1,odds:new Y.a(0),outcomeId:NaN,poolBalance:"0",poolWeight:new Y.a(0),tokenName:"NEAR",price:0,priceSymbol:"$",priceSymbolPosition:"left",tokenSymbol:"NEAR",weight:0,balance:"0",balanceFormatted:"0",tokenImage:Et},e.prev=1,e.next=4,je();case 4:return n=e.sent,e.next=7,n.getNearBalance();case 7:return a=e.sent,e.abrupt("return",Object(p.a)(Object(p.a)({},t),{},{balance:a.available,balanceFormatted:ge(a.available,24)}));case 11:return e.prev=11,e.t0=e.catch(1),console.error("[getNearToken]",e.t0),e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function Ut(){return zt.apply(this,arguments)}function zt(){return(zt=Object(U.a)(H.a.mark((function e(){var t,n,a,r,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={decimals:24,isCollateralToken:!1,odds:new Y.a(0),outcomeId:NaN,poolBalance:"0",poolWeight:new Y.a(0),tokenName:"wNEAR",price:0,priceSymbol:"$",priceSymbolPosition:"left",tokenSymbol:"wNEAR",tokenImage:Oe,weight:0,balance:"0",balanceFormatted:"0"},e.prev=1,e.next=4,qt();case 4:return n=e.sent,e.next=7,je();case 7:if(a=e.sent,!(r=a.getAccountId())){e.next=14;break}return e.next=12,n.getBalance(r);case 12:return o=e.sent,e.abrupt("return",Object(p.a)(Object(p.a)({},t),{},{balance:o,balanceFormatted:ge(o,24)}));case 14:return e.abrupt("return",t);case 17:return e.prev=17,e.t0=e.catch(1),console.error("[getWrappedNearToken]",e.t0),e.abrupt("return",t);case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function Yt(){return(Yt=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt();case 2:e.sent.wrapNear(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(){return(Vt=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt();case 2:e.sent.unwrapNear(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(U.a)(H.a.mark((function e(){var t,n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt();case 2:return t=e.sent,e.next=5,je();case 5:if(n=e.sent,a=n.getAccountId()){e.next=9;break}return e.abrupt("return",{total:"0",available:"0"});case 9:return e.abrupt("return",t.getStorageBalance(a));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(U.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt();case 2:return t=e.sent,e.abrupt("return",t.getMinimumRequiredStorageBalance());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(){return(Xt=Object(U.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt();case 2:return a=e.sent,e.abrupt("return",a.depositStorage(t,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(){return function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(nt(!0)),e.next=4,gt();case 4:t(nt(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t(nt(!1)),console.error("[signIn]",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}var $t=Object(Ke.a)({initialState:{isMarketCreationOpen:!1,isWrappingNearOpen:!1},name:"dialogs",reducers:{setMarketCreationDialogOpen:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{isMarketCreationOpen:t.payload})},setWrappingNearDialogOpen:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{isWrappingNearOpen:t.payload})}}}),en=$t.actions,tn=en.setMarketCreationDialogOpen,nn=en.setWrappingNearDialogOpen,an=$t.reducer;function rn(){var e=Object(i.b)(),t=Object(m.f)(),n=Object(i.c)((function(e){return e.account.account}));Object(r.useEffect)((function(){n||e(function(){var e=Object(U.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(nt(!0)),e.next=4,wt();case 4:n=e.sent,t(tt(n)),t(nt(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(nt(!1)),console.error("[getAccount]",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e,n]);var o=Object(r.useCallback)((function(){e(Kt())}),[e]),c=Object(r.useCallback)((function(){e(function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt();case 2:t(tt(null));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),s=Object(r.useCallback)((function(){t.push(Hi.profile())}),[t]),l=Object(r.useCallback)((function(){e(nn(!0))}),[e]);return Object(a.jsx)(Xe,{onLoginClick:o,onLogoutClick:c,onProfileClick:s,onWrapNearClick:l,account:n})}var on=n(148),cn=n.n(on),sn=n(328),ln=n.n(sn);function un(e){var t=e.error;return t?Object(a.jsx)("p",{className:ln.a.error,children:t}):null}var dn=n(329),pn=n.n(dn);function mn(e){var t=e.icon,n=e.alt,r=e.onClick,o=e.className,c=void 0===o?"":o;return Object(a.jsx)(Ee.a,{onClick:r,className:h()(pn.a["icon-button"],c),children:Object(a.jsx)("img",{src:t,alt:n})})}var bn=n(330),fn=n.n(bn);function jn(e){var t=e.children,n=e.className,r=void 0===n?"":n,o=Object(P.a)(e,["children","className"]);return Object(a.jsx)(M.a,Object(p.a)(Object(p.a)({},o),{},{className:h()(fn.a.root,r),children:t}))}var kn=n(563),vn=n(545),hn=n(546),On=n(547),_n=n(132),gn=n.n(_n);function xn(e){var t=e.title,n=e.children,r=e.open,o=e.onRequestClose,c=e.onSubmitClick,i=e.canSubmit,s=void 0===i||i,l=e.hideButtons,u=void 0!==l&&l,d=e.paperClassName,p=void 0===d?"":d;return Object(a.jsxs)(kn.a,{open:r,classes:{paper:h()(gn.a.paper,p)},children:[Object(a.jsx)(vn.a,{className:gn.a.title,children:t}),Object(a.jsx)(hn.a,{className:gn.a.content,children:n}),!u&&Object(a.jsxs)(On.a,{children:[Object(a.jsx)(B,{className:gn.a.cancelButton,onClick:o,children:F("global.action.cancel")}),Object(a.jsx)(B,{disabled:!s,className:gn.a.confirmButton,onClick:c,children:F("global.action.submit")})]})]})}var wn=n(68),yn=n.n(wn);function Nn(e,t){return e.length?e.map((function(e){var n=new Y.a(e.weight);return{outcomeId:e.outcome_id,outcomeLabel:t[e.outcome_id],price:e.price,poolWeight:n,poolBalance:e.balance,weight:0,odds:new Y.a(e.odds)}})).sort((function(e,t){return e.outcomeId-t.outcomeId})):t.map((function(e,t){return{outcomeId:t,outcomeLabel:e,poolWeight:new Y.a("0"),price:0,weight:0,poolBalance:"0",odds:new Y.a(0)}}))}function In(e){if(e.length<=3)return e.toUpperCase();var t,n,a,r=e.split(" ");return 2===r.length?(r[0][0]+r[1][0]).toUpperCase():3===r.length?(r[0][0]+r[1][0]+r[2][0]).toUpperCase():(t=e,n=0,a=3,(t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]).slice(n,a).join("")).toUpperCase()}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0,o=Nn(t,e);return e.map((function(e,t){var c,i,s,l=o.find((function(e){return e.outcomeId===t})),u=n.find((function(e){return e.outcomeId===t}));return{balance:(null===u||void 0===u?void 0:u.balance)||"0",balanceFormatted:ge(null!==(c=null===u||void 0===u?void 0:u.balance)&&void 0!==c?c:"0",null!==(i=null===r||void 0===r?void 0:r.decimals)&&void 0!==i?i:18),outcomeId:t,price:(null===l||void 0===l?void 0:l.price)||0,priceSymbol:(null===r||void 0===r?void 0:r.tokenSymbol)||"$",priceSymbolPosition:"right",tokenSymbol:In(e),tokenName:e,poolBalance:(null===l||void 0===l?void 0:l.poolBalance)||"0",poolWeight:(null===l||void 0===l?void 0:l.poolWeight)||new Y.a(0),weight:(null===l||void 0===l?void 0:l.weight)||0,decimals:null!==(s=null===r||void 0===r?void 0:r.decimals)&&void 0!==s?s:18,odds:(null===l||void 0===l?void 0:l.odds)||new Y.a(0),isCollateralToken:a}}))}function Cn(e,t){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(U.a)(H.a.mark((function e(t,n){var a,r,o,c,i=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(i.length>2&&void 0!==i[2])||i[2],r="0",o=Te(t),!n){e.next=7;break}return e.next=6,we(t,n);case 6:r=e.sent;case 7:return e.next=9,o;case 9:if(c=e.sent,e.t0=r,e.t1=ge(r,c.decimals),e.t2=c.decimals,e.t3=NaN,e.t4=new Y.a(0),!a){e.next=21;break}return e.next=18,Ne(t);case 18:e.t5=e.sent,e.next=22;break;case 21:e.t5=0;case 22:return e.t6=e.t5,e.t7=c.name,e.t8=c.symbol,e.t9=t,e.t10=new Y.a(0),e.t11=c.tokenImage,e.abrupt("return",{balance:e.t0,balanceFormatted:e.t1,decimals:e.t2,outcomeId:e.t3,poolWeight:e.t4,price:e.t6,priceSymbol:"$",priceSymbolPosition:"left",tokenName:e.t7,tokenSymbol:e.t8,poolBalance:"",weight:0,tokenAccountId:e.t9,odds:e.t10,isCollateralToken:!0,tokenImage:e.t11});case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sn=n(225),Pn=n.n(Sn);function Mn(e){var t=e.tokenName,n=e.tokenImage,r=e.colorVar,o=void 0===r?"--c-primary":r,c=e.className,i=void 0===c?"":c;return Object(a.jsxs)("div",{style:{backgroundColor:"var(".concat(o,")")},className:h()(Pn.a.token,i),children:[n&&Object(a.jsx)("img",{className:Pn.a.tokenImage,src:n,alt:t}),!n&&In(t)]})}var En=n(331),Dn=n.n(En);function Bn(e){var t=e.children,n=e.className,r=void 0===n?"":n,o=Object(P.a)(e,["children","className"]);return Object(a.jsx)("button",Object(p.a)(Object(p.a)({},o),{},{className:h()(Dn.a["non-link-button"],r),children:t}))}var Rn=["--c-green","--c-red","--c-light-purple","--c-pink","--c-purple","--c-blue","--c-medium-blue","--c-dark-purple"];function Fn(e){return Rn[e]}var qn=n(82),Wn=n.n(qn);function Ln(e){var t=e.tokens,n=e.onTokenClick;return Object(a.jsxs)("div",{className:Wn.a["token-dropdown"],children:[Object(a.jsx)("div",{className:Wn.a["token-dropdown__fake-top"]}),Object(a.jsxs)("div",{className:Wn.a["token-dropdown__content"],children:[Object(a.jsx)("div",{className:Wn.a["token-dropdown__balance"],children:F("global.balance")}),Object(a.jsx)("div",{className:Wn.a["token-dropdown__tokens"],children:t.map((function(e){return Object(a.jsxs)("button",{onClick:function(){return n(e)},className:Wn.a["token-dropdown__token"],children:[Object(a.jsxs)("div",{className:Wn.a["token-dropdown__token-info"],children:[Object(a.jsx)(Mn,{colorVar:Fn(e.outcomeId),tokenName:e.tokenName,className:Wn.a["token-dropdown__token-icon"]}),Object(a.jsx)("span",{children:e.tokenName})]}),Object(a.jsx)("div",{className:Wn.a["token-dropdown__token-balance"],children:e.balanceFormatted})]},e.tokenName)}))})]})]})}function Hn(e){var t=e.selectedToken,n=e.tokens,o=e.value,c=e.onTokenSwitch,i=e.onValueChange,s=void 0===i?function(){}:i,l=e.showPrice,u=void 0===l||l,d=e.className,p=void 0===d?"":d,m=e.placeholder,b=void 0===m?"0":m,f=e.disabledInput,j=void 0!==f&&f,k=Object(r.useState)(!1),v=Object(C.a)(k,2),O=v[0],_=v[1],g=Object(r.useCallback)((function(){_(!O)}),[O]),x=Object(r.useCallback)((function(e){_(!1),c(e)}),[c]),w=h()(yn.a.price,Object(y.a)({},yn.a["price--symbol-right"],"right"===t.priceSymbolPosition));return Object(a.jsxs)("div",{className:h()(yn.a["token-select"],p),children:[Object(a.jsxs)("div",{className:yn.a["token-select__info"],children:[Object(a.jsx)("span",{children:t.tokenName}),u&&Object(a.jsxs)("span",{className:w,children:[Object(a.jsx)("span",{className:yn.a.priceSymbol,children:t.priceSymbol}),Object(a.jsx)("span",{children:t.price.toFixed(3)})]}),!u&&Object(a.jsx)("span",{})]}),Object(a.jsxs)("div",{className:yn.a["token-select__inputs"],children:[Object(a.jsxs)("div",{className:yn.a["token-select__inputs-info"],children:[Object(a.jsx)(Mn,{tokenName:t.tokenName,tokenImage:t.tokenImage,colorVar:Fn(t.outcomeId),className:yn.a["token-select__token-icon"]}),1===n.length&&Object(a.jsx)("span",{className:yn.a["token-select__token-name"],children:t.tokenSymbol}),n.length>1&&Object(a.jsx)(Bn,{type:"button",onClick:g,className:yn.a.changePairButton,children:F(O?"global.action.cancel":"market.action.changeTradingPair")})]}),Object(a.jsx)("input",{type:"number",value:o,placeholder:b,disabled:j,className:yn.a["token-select__input"],onChange:function(e){return s(e.target.value)}})]}),n.length>1&&O&&Object(a.jsx)(Ln,{onTokenClick:x,tokens:n})]})}var Un=n.p+"static/media/swap.23e85a91.svg";var zn=n(104),Yn=n.n(zn);function Vn(e){var t=e.open,n=e.onRequestClose,o=e.onRequestSwitchPairs,c=e.onSubmit,i=e.input,s=e.output,l=e.requiredDeposit,u=e.onDepositClick,d=Object(r.useState)({amountIn:"0",type:"wrap"}),m=Object(C.a)(d,2),b=m[0],f=m[1],j=Object(r.useState)(2),k=Object(C.a)(j,2),v=k[0],O=k[1];var _=function(e,t){var n={amountIn:"",canSubmit:!0};return"wrap"===e.type&&e.amountIn===t.balance&&(n.amountIn=F("wrapNearDialog.errors.amountIn.exactBalance"),n.canSubmit=!1),""!==e.amountIn&&""!==t.balance&&(new Y.a(e.amountIn).lte(0)&&(n.canSubmit=!1),new Y.a(e.amountIn).gt(t.balance)&&(n.canSubmit=!1,n.amountIn=F("wrapNearDialog.errors.amountIn.notEnoughBalance"))),n}(b,i);return Object(a.jsxs)(xn,{title:F("wrapNearDialog.title"),open:t,onRequestClose:n,onSubmitClick:function(){c(b)},canSubmit:_.canSubmit,hideButtons:"0"!==l,children:[Object(a.jsx)("p",{children:F("wrapNearDialog.description")}),"0"===l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:Yn.a.token,children:[Object(a.jsxs)("div",{className:h()(Yn.a.tokenHeader,Yn.a.noMargin),children:[Object(a.jsx)("span",{children:F("market.label.youPay")}),Object(a.jsxs)(jn,{onClick:function(){O(2),f(Object(p.a)(Object(p.a)({},b),{},{amountIn:i.balance}))},className:Yn.a.balanceButton,children:[F("global.balance",{},!0),": ",i.balanceFormatted]})]}),Object(a.jsx)(Hn,{onTokenSwitch:function(){},value:ge(b.amountIn,i.decimals,v),tokens:[i],selectedToken:i,onValueChange:function(e){return function(e){var t,n=null!==(t=e.split(".")[1])&&void 0!==t?t:"";O(n.length),f(Object(p.a)(Object(p.a)({},b),{},{amountIn:""!==e?xe(e,i.decimals):"0"}))}(e)},showPrice:!1})]}),Object(a.jsx)("div",{className:Yn.a.switchTokens,children:Object(a.jsx)(mn,{onClick:function(){var e="unwrap"===b.type?"wrap":"unwrap";f(Object(p.a)(Object(p.a)({},b),{},{amountIn:"0",type:e})),O(2),o()},icon:Un,alt:F("market.action.switchTokens")})}),Object(a.jsxs)("div",{className:Yn.a.token,children:[Object(a.jsx)("div",{className:Yn.a.tokenHeader,children:Object(a.jsx)("span",{children:F("market.label.youReceive")})}),Object(a.jsx)(Hn,{onTokenSwitch:function(){},value:ge(b.amountIn,s.decimals,v),tokens:[s],selectedToken:s,disabledInput:!0,showPrice:!1})]})]}),"0"!==l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:F("wrapNearDialog.requiredDeposit.description",{amount:ge(l,24,5)})}),Object(a.jsx)(B,{onClick:u,children:F("wrapNearDialog.requiredDeposit.submit",{amount:ge(l,24,5)})})]}),Object(a.jsx)(un,{error:_.amountIn})]})}function Gn(){var e=Object(i.b)(),t=Object(r.useState)(!1),n=Object(C.a)(t,2),o=n[0],c=n[1],s=Object(i.c)((function(e){return e.dialogs.isWrappingNearOpen})),l=Object(i.c)((function(e){return e.account.nearToken})),u=Object(i.c)((function(e){return e.account.wrappedNearToken})),d=Object(i.c)((function(e){return e.account.requiredWrappedNearDeposit})),p=Object(r.useCallback)((function(){e(nn(!1))}),[e]);Object(r.useEffect)((function(){e(function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lt(),a=Ut(),e.next=4,wt();case 4:if(null===e.sent){e.next=14;break}return e.next=8,Gt();case 8:if("0"!==e.sent.total){e.next=14;break}return e.next=12,Jt();case 12:r=e.sent,t(st(r));case 14:return e.next=16,n;case 16:return o=e.sent,e.next=19,a;case 19:c=e.sent,t(ct(o)),t(it(c));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e,s]);var m=Object(r.useCallback)((function(){c(!o)}),[o]),b=Object(r.useCallback)((function(e){"wrap"===e.type?function(e){Yt.apply(this,arguments)}(e.amountIn):function(e){Vt.apply(this,arguments)}(e.amountIn)}),[]),f=Object(r.useCallback)((function(){d&&function(e,t){Xt.apply(this,arguments)}(d)}),[d]);return l&&u?Object(a.jsx)(Vn,{open:s,onRequestClose:p,onSubmit:b,onRequestSwitchPairs:m,input:o?u:l,output:o?l:u,requiredDeposit:null!==d&&void 0!==d?d:"0",onDepositClick:f}):Object(a.jsx)("div",{})}var Qn=n(183),Jn=n.n(Qn);function Zn(e){var t=e.open,n=e.onRequestClose;return Object(a.jsxs)(xn,{paperClassName:Jn.a.dialog,title:F("disclaimer.title"),hideButtons:!0,open:t,onRequestClose:function(){},onSubmitClick:function(){},children:[Object(a.jsx)("p",{className:Jn.a.description,children:F("disclaimer.description")}),Object(a.jsx)(B,{className:Jn.a.button,onClick:n,children:F("disclaimer.action.accept")})]})}var Xn="flux_accepted_disclaimer";function Kn(){var e=Object(r.useState)(!1),t=Object(C.a)(e,2),n=t[0],o=t[1];Object(r.useEffect)((function(){!!localStorage.getItem(Xn)||o(!0)}),[]);var c=Object(r.useCallback)((function(){localStorage.setItem(Xn,"yes"),o(!1)}),[]);return Object(a.jsx)(Zn,{open:n,onRequestClose:c})}function $n(e){var t,n=e.children,o=e.hasNavigation,c=void 0===o||o,i=e.hasFooter,s=void 0===i||i,l=e.size,u=void 0===l?"medium":l,d=e.className,p=void 0===d?"":d,m=e.bodyClassName,b=void 0===m?"":m,f=h()(cn.a.page__body,b,(t={},Object(y.a)(t,cn.a["page__body--large"],"large"===u),Object(y.a)(t,cn.a["page__body--unrestricted"],"unrestricted"===u),t));return Object(r.useEffect)((function(){Le(!1)}),[]),Object(a.jsxs)("div",{className:"".concat(cn.a.page," ").concat(p),children:[c&&Object(a.jsx)(rn,{}),Object(a.jsx)(Gn,{}),Object(a.jsx)(Kn,{}),Object(a.jsx)("main",{className:f,children:n}),s&&Object(a.jsx)(A,{})]})}var ea,ta=n(99),na=n(555);function aa(e,t){return{payout:e.payout,payoutFormatted:ge(e.payout,t.decimals)}}function ra(e,t){return oa.apply(this,arguments)}function oa(){return(oa=Object(U.a)(H.a.mark((function e(t,n){var a,r,o,c,i=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:[],r=t.pool.tokens_info||[],o=r.find((function(e){return e.is_pool_token})),c=t.payout_numerator?t.payout_numerator:null,e.abrupt("return",{id:t.id,category:t.categories||[],creationDate:t.creation_date?new Date(Number(t.creation_date)):void 0,description:t.description,extraInfo:t.extra_info,finalized:t.finalized,owner:t.pool.owner,resolutionDate:new Date(parseInt(t.end_time)),volume:t.volume,collateralTokenId:t.pool.collateral_token_id,collateralToken:n,invalid:t.finalized&&null===c,payoutNumerator:c,claim:t.claimed_earnings?aa(t.claimed_earnings,n):void 0,outcomeTokens:An(t.outcome_tags,t.pool.pool_balances,a,!1,n),poolTokenInfo:{totalSupply:(null===o||void 0===o?void 0:o.total_supply)||"0"}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.Stocks="stocks",e.Esports="esports",e.Meme="meme",e.Politics="politics",e.Viral="viral",e.Crypto="crypto",e.Sports="sports",e.Startups="startups",e.Unknown="unknown",e.Beer="beer"}(ea||(ea={}));var ca,ia=function(){function e(t){Object(Dt.a)(this,e),this.contract=void 0,this.contract=new Rt.Contract(t,X,{viewMethods:[],changeMethods:["create_market","sell","exit_pool","claim_earnings"]})}return Object(Bt.a)(e,[{key:"createMarket",value:function(){var e=Object(U.a)(H.a.mark((function e(t,n,a,r,o,c){var i,s,l=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=l.length>6&&void 0!==l[6]?l[6]:"",s=te.mul(new G.a(n.length)),this.contract.create_market({description:t,extra_info:i,outcomes:n.length,outcome_tags:n,end_time:r.getTime().toString(),collateral_token_id:c,categories:a,swap_fee:o},$,s);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,o,c){return e.apply(this,arguments)}}()},{key:"exitPool",value:function(){var e=Object(U.a)(H.a.mark((function e(t,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.contract.exit_pool({market_id:t,total_in:n},$,te);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sell",value:function(){var e=Object(U.a)(H.a.mark((function e(t,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.contract.sell({market_id:t,collateral_out:n.amountOut,outcome_target:n.fromToken.outcomeId,max_shares_in:new G.a(n.amountIn).mul(new G.a("100").add(new G.a(2))).div(new G.a("100")).toString()},$,"1");case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"claimEarnings",value:function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.contract.claim_earnings({market_id:t},$,te);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function sa(){return la.apply(this,arguments)}function la(){return(la=Object(U.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ca){e.next=2;break}return e.abrupt("return",ca);case 2:return e.next=4,ve();case 4:return t=e.sent,ca=new ia(t.account()),e.abrupt("return",ca);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(){var e=Object(dt.a)(["\n                query MarketOutcomeTokens($id: String!) {\n                    market: getMarket(marketId: $id) {\n                        pool {\n                            pool_balances {\n                                weight\n                                outcome_id\n                                balance\n                                price\n                                odds\n                            }\n                        }\n                        outcome_tags\n                    }\n                }\n            "]);return ua=function(){return e},e}function da(){var e=Object(dt.a)(["\n                query Markets($expired: Boolean, $categories: [String], $limit: Int, $offset: Int, $finalized: Boolean) {\n                    market: getMarkets(filters: { expired: $expired, categories: $categories, limit: $limit, offset: $offset, finalized: $finalized }) {\n                        items {\n                            pool {\n                                owner\n                                collateral_token_id\n                                pool_balances {\n                                    weight\n                                    outcome_id\n                                    balance\n                                    price\n                                    odds\n                                }\n                            }\n                            description\n                            outcome_tags\n                            end_time\n                            extra_info\n                            finalized\n                            id\n                            volume\n                            categories\n                        }\n                        total\n                    }\n                }\n            "]);return da=function(){return e},e}function pa(){var e=Object(dt.a)(["\n                query Market($id: String!, $accountId: String) {\n                    market: getMarket(marketId: $id) {\n                        pool {\n                            owner\n                            collateral_token_id\n                            pool_balances {\n                                weight\n                                outcome_id\n                                balance\n                                price\n                                odds\n                            }\n                            tokens_info {\n                                is_pool_token\n                                total_supply\n                            }\n                        }\n                        description\n                        outcome_tags\n                        end_time\n                        extra_info\n                        finalized\n                        id\n                        volume\n                        categories\n                        creation_date\n                        payout_numerator\n                        claimed_earnings(accountId: $accountId) {\n                            payout\n                        }\n                    }\n                }\n            "]);return pa=function(){return e},e}function ma(e){return ba.apply(this,arguments)}function ba(){return(ba=Object(U.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sa();case 3:return n=e.sent,a=t.outcomes.length>2?t.outcomes:["YES","NO"],e.next=7,Te(t.collateralTokenId);case 7:return r=e.sent,50,n.createMarket(t.description,a,t.categories,t.resolutionDate,new Y.a("1e".concat(r.decimals)).div(50).toString(),t.collateralTokenId,t.extraInfo),e.abrupt("return",{type:W.Success,data:{},status:200});case 13:return e.prev=13,e.t0=e.catch(0),console.error("[createMarket]",e.t0),e.abrupt("return",{type:W.Error,error:e.t0,status:500});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function fa(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(U.a)(H.a.mark((function e(t){var n,a,r,o,c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt();case 3:return n=e.sent,a=null===n||void 0===n?void 0:n.accountId,e.next=7,vt.query({query:Object(pt.gql)(pa()),variables:{id:t,accountId:a}});case 7:if(r=e.sent,o=r.data.market,c=[],!a){e.next=14;break}return e.next=13,Tt(a,t);case 13:c=e.sent;case 14:return e.next=16,Cn(o.pool.collateral_token_id,a);case 16:return i=e.sent,e.abrupt("return",ra(o,i,c));case 20:return e.prev=20,e.t0=e.catch(0),console.error("[getMarketById]",e.t0),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}function ka(e){return va.apply(this,arguments)}function va(){return(va=Object(U.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.query({query:Object(pt.gql)(da()),variables:{expired:t.expired,categories:t.categories,limit:t.limit,offset:t.offset,finalized:t.finalized}});case 3:return n=e.sent,a=n.data.market.items.map(function(){var e=Object(U.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn(t.pool.collateral_token_id);case 2:return n=e.sent,e.abrupt("return",ra(t,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(a));case 8:return e.prev=8,e.t0=e.catch(0),console.error("[getMarketById]",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ha(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(U.a)(H.a.mark((function e(t,n){var a,r,o,c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.query({fetchPolicy:"network-only",query:Object(pt.gql)(ua()),variables:{id:t}});case 3:return a=e.sent,r=a.data.market,e.next=7,wt();case 7:if(o=e.sent,c=null===o||void 0===o?void 0:o.accountId,i=[],!c){e.next=14;break}return e.next=13,Tt(c,t);case 13:i=e.sent;case 14:return e.abrupt("return",An(r.outcome_tags,r.pool.pool_balances,i,!1,n));case 17:return e.prev=17,e.t0=e.catch(0),console.error("[getMarketOutcomeTokens]",e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function _a(){return(_a=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa();case 2:e.sent.claimEarnings(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e){return Object(na.a)(e,"MMMM d, yyyy HH:mm")}function xa(e){return!e.some((function(e){return"0"===e.balance}))}function wa(){return(wa=Object(U.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return a=e.sent,e.next=5,a.burnOutcomeTokensRedeemCollateral(t,n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ya(){return Na.apply(this,arguments)}function Na(){return(Na=Object(U.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return t=e.sent,e.next=5,t.getTokenWhitelist();case 5:return n=e.sent,e.abrupt("return",n.map((function(e){return Ce(e.tokenId)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ia(e,t){return Aa.apply(this,arguments)}function Aa(){return(Aa=Object(U.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return a=e.sent,e.abrupt("return",a.getEscrowStatus(t,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ca=function(e){if(e.some((function(e){return 0===e})))throw new Error("Invalid probability - can't assign a probability of zero to an outcome");var t=e.map((function(e){return new Y.a(e)})),n=t.reduce((function(e,t){return e.mul(t)}));return t.map((function(e){return n.div(e)})).map((function(e){return e.mul(1e6).round()})).map((function(e){return new Y.a(e.toString())}))},Ta=function(){function e(t,n){Object(Dt.a)(this,e),this.contract=void 0,this.contract=new Rt.Contract(t,n,{viewMethods:["ft_balance_of"],changeMethods:["ft_transfer_call","register_account"]})}return Object(Bt.a)(e,[{key:"registerAccount",value:function(){var e=Object(U.a)(H.a.mark((function e(){var t,n=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.contract.account.accountId,e.abrupt("return",this.contract.register_account({account_id:t},$,ee));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.contract.ft_balance_of({account_id:t}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buy",value:function(){var e=Object(U.a)(H.a.mark((function e(t,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({function:"buy",args:{market_id:t,outcome_target:n.toToken.outcomeId,min_shares_out:new G.a(n.amountOut).mul(new G.a("100").sub(new G.a(2))).div(new G.a("100")).toString()}}),e.abrupt("return",this.contract.ft_transfer_call({receiver_id:X,amount:n.amountIn,msg:a},$,new G.a(1)));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addLiquidity",value:function(){var e=Object(U.a)(H.a.mark((function e(t,n){var a,r,o=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:[],r=JSON.stringify({function:"add_liquidity",args:{market_id:t,weight_indication:a.length?a:null}}),new G.a("80000000000000000000000").mul(new G.a(a.length)),e.abrupt("return",this.contract.ft_transfer_call({receiver_id:X,amount:n,msg:r},$,new G.a(1)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Sa=new Map;function Pa(e){return Ma.apply(this,arguments)}function Ma(){return(Ma=Object(U.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Sa.get(t))){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,ve();case 5:return a=e.sent,r=new Ta(a.account(),t),Sa.set(t,r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,t,n){return Da.apply(this,arguments)}function Da(){return(Da=Object(U.a)(H.a.mark((function e(t,n,a){var r,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(n);case 2:r=e.sent,o=Ca(a.outcomePercentages.map((function(e){return Number(e)}))),r.addLiquidity(t,a.mainTokenInput,o.map((function(e){return e.toString()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ba(){return(Ba=Object(U.a)(H.a.mark((function e(t,n,a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(a);case 2:e.sent.addLiquidity(t,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ra(e,t){return Fa.apply(this,arguments)}function Fa(){return(Fa=Object(U.a)(H.a.mark((function e(t,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa();case 2:e.sent.exitPool(t,n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.createTokenContract=Pa;var qa=Object(Ke.a)({initialState:{marketLoading:!1,editLoading:!1,markets:[],pendingMarkets:[],escrowStatus:[],resolutingMarkets:[],tokenWhitelist:[]},name:"markets",reducers:{setMarketErrors:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{marketError:t.payload})},setTokenWhitelist:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{tokenWhitelist:t.payload})},setMarketLoading:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{marketLoading:t.payload})},setMarketEditLoading:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{editLoading:t.payload})},setPendingMarkets:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{pendingMarkets:t.payload})},appendPendingMarkets:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{pendingMarkets:[].concat(Object(ut.a)(t.payload),Object(ut.a)(e.pendingMarkets))})},setMarkets:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{markets:t.payload})},appendMarkets:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{markets:[].concat(Object(ut.a)(t.payload),Object(ut.a)(e.markets))})},setResolutingMarkets:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{resolutingMarkets:t.payload})},appendResolutingMarkets:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{resolutingMarkets:[].concat(Object(ut.a)(t.payload),Object(ut.a)(e.resolutingMarkets))})},setMarketDetail:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{marketDetail:t.payload})},setMarketDetailTokens:function(e,t){return e.marketDetail?Object(p.a)(Object(p.a)({},e),{},{marketDetail:Object(p.a)(Object(p.a)({},e.marketDetail),{},{outcomeTokens:t.payload})}):e},setMarketPoolTokenBalance:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{poolTokenBalance:t.payload})},setMarketEscrowStatus:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{escrowStatus:t.payload})}}}),Wa=qa.actions,La=Wa.setMarketErrors,Ha=Wa.setMarketLoading,Ua=Wa.setMarkets,za=Wa.setResolutingMarkets,Ya=Wa.setMarketDetail,Va=Wa.setMarketEditLoading,Ga=Wa.appendMarkets,Qa=Wa.setMarketPoolTokenBalance,Ja=Wa.setMarketDetailTokens,Za=Wa.setTokenWhitelist,Xa=Wa.appendPendingMarkets,Ka=Wa.setPendingMarkets,$a=Wa.appendResolutingMarkets,er=Wa.setMarketEscrowStatus,tr=qa.reducer;var nr=n(334),ar=n(548),rr=n.p+"static/media/circle-crypto.369b0cdb.png",or=n.p+"static/media/card-crypto.bf8db90b.png",cr=n.p+"static/media/icon-crypto.c48fc772.png",ir=n.p+"static/media/circle-esports.590ba279.png",sr=n.p+"static/media/card-esports.8d48d09a.png",lr=n.p+"static/media/icon-esports.e99b62e2.png",ur=n.p+"static/media/circle-meme.529c4322.png",dr=n.p+"static/media/card-meme.f06faaf2.png",pr=n.p+"static/media/icon-meme.3779da1b.png",mr=n.p+"static/media/circle-politics.1414be74.png",br=n.p+"static/media/card-politics.111b8d29.png",fr=n.p+"static/media/icon-politics.b9270914.png",jr=n.p+"static/media/circle-sports.33c5c70f.png",kr=n.p+"static/media/card-sports.33a1b431.png",vr=n.p+"static/media/icon-sports.ef9bf0ac.png",hr=n.p+"static/media/circle-startups.fbb6d89b.png",Or=n.p+"static/media/card-startups.5109215d.png",_r=n.p+"static/media/icon-startups.1be65d04.png",gr=n.p+"static/media/circle-stocks.45134b15.png",xr=n.p+"static/media/card-stockmarket.9a6bbb30.png",wr=n.p+"static/media/icon-stockmarket.3ae8c898.png",yr=n.p+"static/media/circle-viral.f35235ce.png",Nr=n.p+"static/media/card-viral.322ccb42.png",Ir=n.p+"static/media/icon-viral.4ba61e8a.png",Ar=n.p+"static/media/card-beer.6ac3cfd7.png",Cr=n.p+"static/media/circle-beer.a5c453f6.png",Tr=n.p+"static/media/icon-beer.6e18acab.svg";function Sr(e){switch(e){case ea.Crypto:return{circleIcon:rr,category:e,cardIcon:or,icon:cr,title:F("market.category.crypto"),color:"#5400FF"};case ea.Esports:return{circleIcon:ir,category:e,cardIcon:sr,icon:lr,title:F("market.category.esports"),color:"#4C6BF5"};case ea.Meme:return{circleIcon:ur,category:e,cardIcon:dr,icon:pr,title:F("market.category.meme"),color:"#FF00FD"};case ea.Politics:return{circleIcon:mr,category:e,cardIcon:br,icon:fr,title:F("market.category.politics"),color:"#0004FF"};case ea.Sports:return{circleIcon:jr,category:e,cardIcon:kr,icon:vr,title:F("market.category.sports"),color:"#FF1958"};case ea.Startups:return{circleIcon:hr,category:e,cardIcon:Or,icon:_r,title:F("market.category.startups"),color:"#7400DA"};case ea.Stocks:return{circleIcon:gr,category:e,cardIcon:xr,icon:wr,title:F("market.category.stocks"),color:"#C45DFF"};case ea.Viral:return{circleIcon:yr,category:e,cardIcon:Nr,icon:Ir,title:F("market.category.viral"),color:"#FF009C"};case ea.Beer:return{circleIcon:Cr,category:e,cardIcon:Ar,icon:Tr,title:F("market.category.beer"),color:"#47A8BD"};default:return{circleIcon:gr,category:ea.Unknown,cardIcon:xr,icon:wr,title:e,color:"#C45DFF"}}}var Pr=n(113),Mr=n.n(Pr);function Er(e){var t=e.category,n=e.onClick,r=e.active,o=void 0!==r&&r,c=e.type,i=void 0===c?"label":c,s=e.className,l=void 0===s?"":s,u=Sr(t),d=h()(Mr.a.root,l,Object(y.a)({},Mr.a["root--active"],o));return"button"===i?Object(a.jsxs)(M.a,{onClick:n,className:d,children:[Object(a.jsx)("span",{className:Mr.a.title,children:u.title}),Object(a.jsx)("img",{src:u.icon,alt:u.title,className:Mr.a.icon})]}):Object(a.jsxs)("div",{className:d,children:[Object(a.jsx)("span",{className:Mr.a.title,children:u.title}),Object(a.jsx)("img",{src:u.icon,alt:u.title,className:Mr.a.icon})]})}var Dr=n(133),Br=n.n(Dr);function Rr(e){var t=e.market,n=e.className,r=void 0===n?"":n,o=t.category.length?t.category.map((function(e){return Sr(e)})):[Sr()];return Object(a.jsxs)("div",{className:h()(Br.a.root,r),style:{backgroundColor:o[0].color},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:Br.a.categoryTitle,children:o.map((function(e){return e.title})).join(" | ")}),Object(a.jsx)("h2",{className:Br.a.title,children:t.description})]}),Object(a.jsx)("img",{className:Br.a.bubble,src:o[0].cardIcon,alt:t.category[0]}),Object(a.jsx)("div",{className:Br.a.resolutionInfo,children:Object(a.jsxs)("span",{children:[F("market.resolutionDate")," ",Object(a.jsx)("strong",{children:ga(t.resolutionDate)})]})})]})}var Fr=n(226),qr=n.n(Fr),Wr=n(227),Lr=n.n(Wr);function Hr(e){var t=e.weights,n=e.className,r=void 0===n?"":n;return Object(a.jsx)("div",{className:h()(Lr.a["token-weights-bar"],r),children:t.map((function(e,t){return Object(a.jsx)("span",{className:Lr.a["token-weights-bar__weight"],style:{width:"".concat(e,"%"),backgroundColor:"var(".concat(Fn(t),")")}},t)}))})}var Ur=n(72),zr=n.n(Ur);function Yr(e){var t,n=e.market;return Object(a.jsxs)("div",{className:zr.a.root,children:[Object(a.jsx)("h2",{className:zr.a.title,children:F("market.label.opinion")}),Object(a.jsx)(Hr,{weights:n.outcomeTokens.map((function(e){return 100*e.odds.toNumber()})),className:zr.a["token-weight-bar"]}),Object(a.jsx)("div",{className:zr.a["outcomes-wrapper"],children:n.outcomeTokens.map((function(e,t){return Object(a.jsxs)("div",{className:zr.a.outcome,children:[Object(a.jsxs)("div",{className:zr.a["outcome-label-wrapper"],children:[Object(a.jsx)("div",{style:{backgroundColor:"var(".concat(Fn(t),")")},className:zr.a.colorLabel}),Object(a.jsx)("span",{className:zr.a.tokenName,children:e.tokenName})]}),Object(a.jsxs)("span",{className:zr.a.percentage,children:[e.odds.mul(100).toNumber().toFixed(2),"%"]})]},e.outcomeId)}))}),Object(a.jsxs)("div",{className:zr.a["volume-wrapper"],children:[Object(a.jsx)("span",{children:F("market.label.totalVolume")}),Object(a.jsxs)("span",{children:[(t=ge(n.volume,n.collateralToken.decimals),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," ",n.collateralToken.tokenSymbol]})]})]})}function Vr(e){var t=e.market,n=e.href,r=e.className,o=void 0===r?"":r;return Object(a.jsxs)(s.b,{to:n,className:h()(qr.a.root,o),children:[Object(a.jsx)(Rr,{market:t,className:qr.a.infoCard}),Object(a.jsx)(Yr,{market:t})]})}var Gr=n(83),Qr=n.n(Gr);function Jr(e){var t=e.markets,n=e.onFilterChange,o=e.onRequestMoreMarkets,c=e.activeFilters,i=e.loading,s=e.hasMoreMarkets,l=Object(r.useMemo)((function(){return Object.values(ea).filter((function(e){return e!==ea.Unknown}))}),[]);return Object(a.jsxs)("div",{className:Qr.a.root,children:[Object(a.jsx)("div",{className:Qr.a.filters,children:l.map((function(e){var t;return Object(a.jsx)(Er,{className:Qr.a.filter,category:e,active:null===(t=c.categories)||void 0===t?void 0:t.includes(e),onClick:function(){return function(e){var t,a,r=c.categories;(null===(t=r)||void 0===t?void 0:t.includes(e))?r=r.filter((function(t){return t!==e})):null===(a=r)||void 0===a||a.push(e),n(Object(p.a)(Object(p.a)({},c),{},{categories:r}))}(e)},type:"button"},e)}))}),Object(a.jsx)(nr.a,{dataLength:t.length,next:o,hasMore:s,loader:Object(a.jsx)("div",{}),className:Qr.a.markets,children:t.map((function(e){return Object(a.jsx)(Vr,{href:Hi.marketDetail(e.id),className:Qr.a.market,market:e},e.id)}))}),Object(a.jsx)("div",{className:Qr.a.markets,children:i&&new Array(9).fill("").map((function(e,t){return Object(a.jsxs)("div",{className:Qr.a.market,children:[Object(a.jsx)(ar.a,{variant:"rect",height:288,className:Qr.a.skeleton}),Object(a.jsx)(ar.a,{variant:"rect",height:100,className:Qr.a.skeleton})]},t)}))})]})}function Zr(e){var t=e.rootPath,n=e.markets,o=e.defaultMarketFilters,c=e.onRequestFetchMarkets,s=Object(i.c)((function(e){return e.market.marketLoading})),l=Object(m.f)(),u=Object(m.g)(),d=Object(r.useRef)(0),b=Object(r.useState)(Object(p.a)({categories:[]},o)),f=Object(C.a)(b,2),j=f[0],k=f[1];return Object(r.useEffect)((function(){var e=new URLSearchParams(u.search),t=Object(p.a)(Object(p.a)({},j),{},{limit:re,categories:e.getAll("categories")});c(t,!1),k(t)}),[u]),Object(a.jsx)(Jr,{loading:s,markets:n,activeFilters:j,onFilterChange:function(e){var n,a=new URLSearchParams;(null===(n=e.categories)||void 0===n?void 0:n.length)&&e.categories.forEach((function(e){a.append("categories",e.toString())})),l.replace("".concat(t,"?").concat(a.toString()))},onRequestMoreMarkets:function(){d.current+=re;var e=Object(p.a)(Object(p.a)({},j),{},{offset:d.current,limit:re});c(e,!0)},hasMoreMarkets:n.length%re===0})}function Xr(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.market.resolutingMarkets})),n=Object(r.useCallback)((function(t,n){e(function(e,t){return function(){var n=Object(U.a)(H.a.mark((function n(a){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Ha(!0)),n.next=4,ka(Object(p.a)(Object(p.a)({},e),{},{expired:!0,finalized:!0}));case 4:r=n.sent,a(t?$a(r):za(r)),a(Ha(!1)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a(Ha(!1)),console.error("[fetchResolutingMarkets]",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}),[e]);return Object(a.jsx)(Zr,{markets:t,onRequestFetchMarkets:n,rootPath:Hi.resoluted(),defaultMarketFilters:{expired:!0,finalized:!0}})}function Kr(){return Object(a.jsxs)("section",{children:[Object(a.jsx)(ta.a,{children:Object(a.jsx)("title",{children:F("marketResolution.title.head",{appName:F("global.appName")})})}),Object(a.jsx)(Xr,{})]})}function $r(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.market.markets})),n=Object(r.useCallback)((function(t,n){e(function(e,t){return function(){var n=Object(U.a)(H.a.mark((function n(a){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Ha(!0)),n.next=4,ka(Object(p.a)(Object(p.a)({},e),{},{expired:!1}));case 4:r=n.sent,a(t?Ga(r):Ua(r)),a(Ha(!1)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a(Ha(!1)),console.error("[fetchMarkets]",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}),[e]);return Object(a.jsx)(Zr,{markets:t,onRequestFetchMarkets:n,rootPath:Hi.root(),defaultMarketFilters:{expired:!1}})}function eo(){return Object(a.jsxs)("section",{children:[Object(a.jsx)(ta.a,{children:Object(a.jsx)("title",{children:F("home.title.head",{appName:F("global.appName")})})}),Object(a.jsx)($r,{})]})}var to=n(556),no=n(335),ao=n.n(no);function ro(e){var t=e.value,n=e.onChange;return Object(a.jsx)(to.a,{inputVariant:"outlined",value:t,className:ao.a.root,ampm:!1,onChange:n})}var oo=n(336),co=n.n(oo);function io(e){var t=e.text;return Object(a.jsx)("label",{className:co.a.root,children:t})}var so=n(570),lo=n(337),uo=n.n(lo);function po(e){var t=e.labelA,n=e.labelB,r=e.onChange,o=e.value;return Object(a.jsxs)("span",{className:uo.a.root,children:[Object(a.jsx)("span",{children:t}),Object(a.jsx)(so.a,{value:o,onChange:function(e,t){return r(t)}}),Object(a.jsx)("span",{children:n})]})}var mo=n(559),bo=n(338),fo=n.n(bo);function jo(e){var t=e.multiline,n=e.value,r=e.required,o=e.onChange,c=void 0===o?function(){}:o,i=e.type,s=void 0===i?"text":i,l=Object(P.a)(e,["multiline","value","required","onChange","type"]);return Object(a.jsx)(mo.a,Object(p.a)(Object(p.a)({},l),{},{id:"outlined-multiline-flexible",multiline:t,variant:"outlined",className:fo.a.root,value:n,onChange:function(e){return c(e.target.value)},required:r,type:s}))}var ko=n(339),vo=n.n(ko),ho=n(134),Oo=n.n(ho);function _o(e){var t=e.onChange,n=e.values;function r(e,a){n[a]=e,t(n)}return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:Oo.a.inputs,children:n.map((function(e,o){return Object(a.jsxs)("div",{className:Oo.a.input,children:[Object(a.jsx)(io,{text:F("marketCreation.label.outcome",{number:(o+1).toString()})}),Object(a.jsxs)("div",{className:Oo.a.actions,children:[Object(a.jsx)(jo,{value:e,onChange:function(e){return r(e,o)}}),Object(a.jsx)(Ee.a,{"aria-label":"remove",className:Oo.a.removeIcon,onClick:function(){return function(e){n.splice(e,1),t(n)}(o)},children:Object(a.jsx)(vo.a,{})})]})]},o)}))}),Object(a.jsx)(B,{onClick:function(){n.push(""),t(n)},className:Oo.a.addMoreButton,children:F("marketCreation.label.addMoreOutcomes")})]})}var go=n(179);var xo=n(44),wo=n.n(xo),yo=n(562),No=n(228),Io=n.n(No);function Ao(e){var t=e.value,n=e.items,r=e.onChange;return Object(a.jsx)(yo.a,{className:Io.a.select,value:t,onChange:function(e){var t=e.target.value,a=n.find((function(e){return e.value===t}));a&&r(a)},classes:{icon:Io.a.icon},children:n.map((function(e){return Object(a.jsx)(S.a,{value:e.value,children:e.label},e.value)}))})}function Co(e){var t=e.open,n=e.tokenWhitelist,o=e.onRequestClose,c=e.onSubmit,i=Object(r.useRef)(null),s=Object(r.useState)({resolutionDate:Object(go.a)(new Date,1),categories:[],isCategoricalMarket:!1,outcomes:[""],description:"",extraInfo:"",collateralTokenId:"wnear.flux-dev"}),l=Object(C.a)(s,2),u=l[0],d=l[1],m=Object(r.useMemo)((function(){return Object.values(ea).filter((function(e){return e!==ea.Unknown}))}),[]);return Object(a.jsx)(xn,{open:t,title:"",onRequestClose:o,onSubmitClick:function(){c(u)},children:Object(a.jsxs)("form",{className:wo.a.filters,ref:i,children:[Object(a.jsxs)("div",{className:wo.a.inputsWrapper,children:[Object(a.jsx)("label",{className:wo.a.label,children:F("marketCreation.label.categorySelect")}),Object(a.jsx)("div",{className:wo.a.categories,children:m.map((function(e){return Object(a.jsx)(Er,{category:e,className:wo.a.filter,active:u.categories.includes(e),onClick:function(){return function(e){var t,n,a=u.categories;(null===(t=a)||void 0===t?void 0:t.includes(e))?a=a.filter((function(t){return t!==e})):null===(n=a)||void 0===n||n.push(e),d(Object(p.a)(Object(p.a)({},u),{},{categories:a}))}(e)},type:"button"},e)}))})]}),Object(a.jsxs)("div",{className:wo.a.inputsWrapper,children:[Object(a.jsx)("label",{className:wo.a.label,children:F("marketCreation.label.collateralToken")}),Object(a.jsx)(Ao,{onChange:function(e){d(Object(p.a)(Object(p.a)({},u),{},{collateralTokenId:e.value}))},value:u.collateralTokenId,items:n.map((function(e){return{label:e.symbol,value:e.collateralTokenId}}))})]}),Object(a.jsxs)("div",{className:wo.a.inputsWrapper,children:[Object(a.jsx)("label",{className:wo.a.label,children:F("marketCreation.label.description")}),Object(a.jsx)(jo,{required:!0,multiline:!0,onChange:function(e){d(Object(p.a)(Object(p.a)({},u),{},{description:e}))},value:u.description})]}),Object(a.jsxs)("div",{className:wo.a.inputsWrapper,children:[Object(a.jsx)("label",{className:wo.a.label,children:F("marketCreation.label.extraInfo")}),Object(a.jsx)(jo,{required:!0,multiline:!0,onChange:function(e){d(Object(p.a)(Object(p.a)({},u),{},{extraInfo:e}))},value:u.extraInfo})]}),Object(a.jsxs)("div",{className:wo.a.inputsWrapper,children:[Object(a.jsx)("label",{className:wo.a.label,children:F("marketCreation.label.marketType")}),Object(a.jsx)(po,{labelA:F("marketCreation.label.binary"),labelB:F("marketCreation.label.categorical"),onChange:function(e){d(Object(p.a)(Object(p.a)({},u),{},{isCategoricalMarket:e}))},value:u.isCategoricalMarket})]}),u.isCategoricalMarket&&Object(a.jsxs)("div",{className:wo.a.inputsWrapper,children:[Object(a.jsx)(io,{text:F("marketCreation.label.outcomes")}),Object(a.jsx)(_o,{onChange:function(e){d(Object(p.a)(Object(p.a)({},u),{},{outcomes:e}))},values:u.outcomes})]}),Object(a.jsxs)("div",{className:wo.a.inputsWrapper,children:[Object(a.jsx)("label",{className:wo.a.label,children:F("marketCreation.label.resolutionDate")}),Object(a.jsx)(ro,{value:u.resolutionDate,onChange:function(e){e&&d(Object(p.a)(Object(p.a)({},u),{},{resolutionDate:e}))}})]})]})})}function To(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.dialogs.isMarketCreationOpen})),n=Object(i.c)((function(e){return e.market.tokenWhitelist}));Object(r.useEffect)((function(){e(function(){var e=Object(U.a)(H.a.mark((function e(t){var n,a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ya();case 2:return n=e.sent,t(Za(n)),a=Object.values(n).map((function(e){return Te(e.collateralTokenId)})),e.next=7,Promise.all(a);case 7:r=e.sent,t(Za(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var o=Object(r.useCallback)((function(){e(tn(!1))}),[e]),c=Object(r.useCallback)((function(t){var n;e((n=t,function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Va(!0)),e.next=4,ma(n);case 4:t(Va(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t(Va(!1)),console.error("[createNewMarket]",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]);return Object(a.jsx)(Co,{tokenWhitelist:n,open:t,onRequestClose:o,onSubmit:c})}var So=n(184),Po=n.n(So),Mo=n(149),Eo=n.n(Mo);function Do(e){var t=e.onCreateMarketClick,n=e.account;return Object(a.jsxs)("div",{className:Eo.a.root,children:[Object(a.jsxs)("div",{className:Eo.a.titleWrapper,children:[Object(a.jsx)("h1",{className:Eo.a.title,children:F("home.title.welcome",{username:(null===n||void 0===n?void 0:n.accountId)||""})}),Object(a.jsx)("span",{className:Eo.a.subTitle,children:F("home.title.latestTrends")})]}),n&&Object(a.jsx)(B,{onClick:t,children:F("global.actions.createMarket")})]})}function Bo(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.account.account})),n=Object(r.useCallback)((function(){e(tn(!0))}),[e]);return Object(a.jsx)(Do,{onCreateMarketClick:n,account:t})}function Ro(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.market.pendingMarkets})),n=Object(r.useCallback)((function(t,n){e(function(e,t){return function(){var n=Object(U.a)(H.a.mark((function n(a){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(Ha(!0)),n.next=4,ka(Object(p.a)(Object(p.a)({},e),{},{expired:!0,finalized:!1}));case 4:r=n.sent,a(t?Xa(r):Ka(r)),a(Ha(!1)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a(Ha(!1)),console.error("[fetchPendingMarkets]",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}),[e]);return Object(a.jsx)(Zr,{markets:t,onRequestFetchMarkets:n,rootPath:Hi.pending(),defaultMarketFilters:{expired:!0,finalized:!1}})}function Fo(){return Object(a.jsxs)("section",{children:[Object(a.jsx)(ta.a,{children:Object(a.jsx)("title",{children:F("marketResolution.title.head",{appName:F("global.appName")})})}),Object(a.jsx)(Ro,{})]})}var qo=n(340),Wo=n.n(qo);function Lo(e){var t=e.children,n=e.href,r=e.className,o=void 0===r?"":r;Object(P.a)(e,["children","href","className"]);return Object(a.jsx)(s.b,{to:n,className:h()(Wo.a["link-button"],o),children:t})}var Ho=n(52),Uo=n.n(Ho);function zo(e){var t=e.market,n=e.className,r=void 0===n?"":n;return Object(a.jsx)("header",{className:h()(Uo.a.root,r),children:Object(a.jsxs)("div",{className:Uo.a.wrapper,children:[Object(a.jsxs)("div",{className:Uo.a.headerItem,children:[Object(a.jsx)(Lo,{className:Uo.a["market-header__back-button"],href:"/",children:F("navigation.back")}),t.category.length>0&&Object(a.jsx)(Er,{className:Uo.a.categoryTag,category:t.category[0]}),Object(a.jsx)("h1",{className:Uo.a.title,children:t.description}),t.creationDate&&Object(a.jsxs)("div",{className:Uo.a.resolutionDate,children:[Object(a.jsxs)("span",{className:Uo.a["market-header__resolution-date-title"],children:[F("market.startDate")," \u2014\xa0"]}),Object(a.jsx)("span",{className:Uo.a["market-header__resolution-date-stamp"],children:ga(t.creationDate)})]}),Object(a.jsxs)("div",{className:Uo.a.resolutionDate,children:[Object(a.jsxs)("span",{className:Uo.a["market-header__resolution-date-title"],children:[F("market.resolutionDate")," \u2014\xa0"]}),Object(a.jsx)("span",{className:Uo.a["market-header__resolution-date-stamp"],children:ga(t.resolutionDate)})]})]}),Object(a.jsx)("div",{className:h()(Uo.a.headerItem,Uo.a.opinionCardWrapper),children:Object(a.jsx)(Yr,{market:t})}),Object(a.jsx)("div",{className:Uo.a.bubble,style:{backgroundImage:"url(".concat(Sr(t.category[0]).circleIcon,")")}})]})})}var Yo=n(185),Vo=n.n(Yo);function Go(){return Object(a.jsx)("div",{className:Vo.a.root,children:Object(a.jsx)("div",{className:Vo.a.wrapper,children:Object(a.jsx)(ar.a,{height:300,className:Vo.a.skeleton})})})}function Qo(e){var t=e.className,n=Object(i.c)((function(e){return e.market.marketDetail}));return n?Object(a.jsx)(zo,{market:n,className:t}):Object(a.jsx)(Go,{})}var Jo=n(229),Zo=n.n(Jo);function Xo(e){var t=e.market;return Object(a.jsxs)("section",{className:Zo.a.root,children:[Object(a.jsx)("h2",{className:Zo.a.title,children:F("market.label.resolutionInfo")}),Object(a.jsx)("p",{children:t.extraInfo})]})}var Ko=n(341),$o=n.n(Ko);function ec(){return Object(a.jsx)("div",{children:Object(a.jsx)(ar.a,{height:200,className:$o.a.skeleton})})}function tc(){var e=Object(i.c)((function(e){return e.market.marketDetail}));return e?Object(a.jsx)(Xo,{market:e}):Object(a.jsx)(ec,{})}var nc=n(230),ac=n.n(nc),rc=n(342),oc=n.n(rc);function cc(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}function ic(e){var t=e.pricesHistory,n=Object(r.useRef)(null),o=He(),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){n.current&&(c.current=function(e){var t=e.getContext("2d");return t?new oc.a(t,{type:"line",options:{responsive:!0,legend:{display:!1},animation:{duration:0},elements:{line:{tension:0},point:{}},scales:{yAxes:[{type:"linear",gridLines:{color:"#d8d8d8",drawOnChartArea:!1,drawTicks:!1},ticks:{fontColor:cc("--c-text"),min:0,max:100,maxTicksLimit:6,stepSize:25,padding:10,callback:function(e){return(Number(e)/100).toFixed(2)}}}],xAxes:[{gridLines:{color:"#d8d8d8",drawOnChartArea:!1,drawTicks:!1},ticks:{fontColor:cc("--c-text"),padding:10}}]}}}):null}(n.current))}),[n,o]),Object(r.useEffect)((function(){c.current&&(c.current.data=function(e){var t=new Map;e.forEach((function(e){e.dataPoints.forEach((function(e){var n=t.get(e.outcome);Array.isArray(n)?n.push(100*Number(e.price)):t.set(e.outcome,[100*Number(e.price)])}))}));var n=[];return t.forEach((function(e,t){n.push({data:e,fill:!1,borderWidth:2,borderColor:"".concat(cc(Fn(t))),cubicInterpolationMode:"monotone"}),n.push({data:new Array(e.length).fill(e[e.length-1]),fill:!1,borderWidth:1,borderColor:"".concat(cc(Fn(t))),borderDash:[2,5],cubicInterpolationMode:"monotone",hidden:!1,pointHitRadius:0,pointHoverRadius:0,pointRadius:0,label:"",hideInLegendAndTooltip:!0})})),{labels:e.map((function(e){return e.pointKey})),datasets:n}}(t),c.current.update())}),[c,t,o]),Object(a.jsx)("canvas",{ref:n})}var sc=n(571),lc=n(553),uc=n(231),dc=n.n(uc);function pc(e){var t=e.items,n=e.value,r=e.onChange,o=e.exclusive;return Object(a.jsx)(sc.a,{exclusive:o,value:n,onChange:function(e,t){return r(t)},children:t.map((function(e){return Object(a.jsx)(lc.a,{className:dc.a.button,classes:{selected:dc.a.selected},value:e.id,children:e.text},e.id)}))})}var mc,bc=n(554),fc=n(567),jc=n(568);function kc(){var e=Object(dt.a)(["\n                query MarketPriceHistory($marketId: String!, $beginTimestamp: String!, $dateMetric: DateMetric) {\n                    history: getPriceHistory(poolId: $marketId, beginTimestamp: $beginTimestamp, dateMetric: $dateMetric) {\n                        pointKey\n                        dataPoints {\n                            outcome\n                            price\n                        }\n                    }\n                }\n            "]);return kc=function(){return e},e}function vc(e,t){return hc.apply(this,arguments)}function hc(){return(hc=Object(U.a)(H.a.mark((function e(t,n){var a,r,o,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=new Date,r=new Date,o="month",e.t0=n,e.next=e.t0===mc.OneDay?7:e.t0===mc.OneWeek?10:e.t0===mc.ThreeWeeks?13:e.t0===mc.OneMonth?16:e.t0===mc.All?19:22;break;case 7:return r=Object(bc.a)(a,1),o="hour",e.abrupt("break",22);case 10:return r=Object(fc.a)(a,1),o="day",e.abrupt("break",22);case 13:return r=Object(fc.a)(a,3),o="day",e.abrupt("break",22);case 16:return r=Object(jc.a)(a,1),o="day",e.abrupt("break",22);case 19:return r=new Date(0),o="week",e.abrupt("break",22);case 22:return e.next=24,vt.query({fetchPolicy:"network-only",query:Object(pt.gql)(kc()),variables:{marketId:t,beginTimestamp:r.getTime().toString(),dateMetric:o}});case 24:return c=e.sent,e.abrupt("return",c.data.history);case 28:return e.prev=28,e.t1=e.catch(0),console.error("[getMarketById]",e.t1),e.abrupt("return",[]);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}function Oc(e){var t=e.pricesHistory,n=e.onPeriodChange,r=e.period,o=void 0===r?mc.All:r,c=e.className,i=void 0===c?"":c;return Object(a.jsxs)("div",{className:h()(ac.a["market-statistics"],i),children:[Object(a.jsx)("div",{className:ac.a.timePeriodButtons,children:Object(a.jsx)(pc,{exclusive:!0,value:o,onChange:function(e){e&&n(e)},items:[{id:mc.OneDay,text:F("priceHistory.labels.1d")},{id:mc.OneWeek,text:F("priceHistory.labels.1w")},{id:mc.ThreeWeeks,text:F("priceHistory.labels.3w")},{id:mc.OneMonth,text:F("priceHistory.labels.1m")},{id:mc.All,text:F("priceHistory.labels.all")}]})}),Object(a.jsx)(ic,{pricesHistory:t})]})}!function(e){e.OneDay="1d",e.OneWeek="1w",e.OneMonth="1m",e.ThreeWeeks="3w",e.All="all"}(mc||(mc={}));var _c=Object(Ke.a)({initialState:{pricesHistory:[],pricesLoading:!1},name:"pools",reducers:{setPriceHistoryErrors:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{pricesError:t.payload})},setPriceHistoryLoading:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{pricesLoading:t.payload})},setPricesHistory:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{pricesHistory:t.payload})}}}),gc=_c.actions,xc=(gc.setPriceHistoryErrors,gc.setPriceHistoryLoading),wc=gc.setPricesHistory,yc=_c.reducer;function Nc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mc.All;return function(){var n=Object(U.a)(H.a.mark((function n(a){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(xc(!0)),n.next=4,vc(e,t);case 4:r=n.sent,a(wc(r)),a(xc(!1)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a(xc(!1)),console.error("[getPricesHistoryByMarketId]",n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}function Ic(e){var t=e.className,n=void 0===t?"":t,o=Object(i.c)((function(e){return e.priceHistory.pricesHistory})),c=Object(i.c)((function(e){return e.market.marketDetail})),s=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(c),l=Object(r.useRef)(),u=Object(r.useState)(localStorage.getItem(oe)),d=Object(C.a)(u,2),p=d[0],m=d[1],b=Object(i.b)();return Object(r.useEffect)((function(){return function(){clearInterval(l.current)}}),[]),Object(r.useEffect)((function(){c&&c.id!==(null===s||void 0===s?void 0:s.id)&&(clearInterval(l.current),b(Nc(c.id,p||void 0)),l.current=setInterval((function(){b(Nc(c.id,p||void 0))}),2e3))}),[c,b]),Object(a.jsx)(Oc,{pricesHistory:o,className:n,onPeriodChange:function(e){if(!c)throw new Error("ERR_NO_MARKET");localStorage.setItem(oe,e),m(e),clearInterval(l.current),b(Nc(c.id,e)),l.current=setInterval((function(){b(Nc(c.id,e))}),2e3)},period:p||void 0})}var Ac=n(56),Cc=n.n(Ac);function Tc(e){var t=e.formValues,n=function(e){if(""===e.amountIn||"0"===e.amountIn||"0"===e.amountOut||""===e.amountIn)return{rateInOut:"0",rateOutIn:"0",feePaid:"0"};var t=new Y.a("1e".concat(e.fromToken.decimals)),n=e.fromToken.isCollateralToken?e.fromToken:e.toToken,a=new Y.a(e.amountIn),r=new Y.a(e.amountOut),o=ge(a.mul(t.toString()).div(r).toString(),e.fromToken.decimals),c=ge(r.mul(t.toString()).div(a).toString(),e.toToken.decimals),i=e.type===ne?e.amountIn:e.amountOut;return{rateInOut:o,rateOutIn:c,feePaid:ge(new Y.a(i).mul(new Y.a(2)).div(new Y.a("100")).toString(),n.decimals)}}(t),r=t.fromToken.isCollateralToken?t.fromToken:t.toToken;return Object(a.jsxs)("div",{className:Cc.a["swap-overview"],children:[Object(a.jsxs)("div",{className:Cc.a["swap-overview__info-row"],children:[Object(a.jsx)("span",{className:Cc.a["swap-overview__info-key"],children:F("market.overview.rate")}),Object(a.jsxs)("span",{className:Cc.a["swap-overview__info-value"],children:[n.rateInOut," ",t.fromToken.tokenSymbol," / ",t.toToken.tokenSymbol]})]}),Object(a.jsxs)("div",{className:Cc.a["swap-overview__info-row"],children:[Object(a.jsx)("span",{className:Cc.a["swap-overview__info-key"],children:F("market.overview.inverseRate")}),Object(a.jsxs)("span",{className:Cc.a["swap-overview__info-value"],children:[n.rateOutIn," ",t.toToken.tokenSymbol," / ",t.fromToken.tokenSymbol]})]}),Object(a.jsxs)("div",{className:Cc.a["swap-overview__info-row"],children:[Object(a.jsx)("span",{className:Cc.a["swap-overview__info-key"],children:F("market.overview.estimatedFee")}),Object(a.jsxs)("span",{className:Cc.a["swap-overview__info-value"],children:[n.feePaid," ",r.tokenSymbol]})]}),Object(a.jsxs)("div",{className:Cc.a["swap-overview__info-row"],children:[Object(a.jsx)("span",{className:Cc.a["swap-overview__info-key"],children:F("market.overview.maxSlippage")}),Object(a.jsxs)("span",{className:Cc.a["swap-overview__info-value"],children:[2,"%"]})]})]})}var Sc=n(69),Pc=n.n(Sc);var Mc=new Y.a(0),Ec=function(e,t){return e.mod(t)===Mc?e.div(t):e.div(t).add(1)},Dc=function(e,t,n,a,r){if(t<0||t>=n.length)throw new Error("Outcome index '".concat(t,"' must be between 0 and '").concat(n.length-1,"'"));if(e.eq(0)||n.every((function(e){return e.eq(0)})))return Mc;var o=new Y.a("1e".concat(r)),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return new Y.a(e).mul(Math.round(t*n)).div(n)}(e,1-a),i=n.reduce((function(e,n,a){return a!==t?Ec(e.mul(n),n.add(c)):e.mul(n)}),o);return n[t].add(c).sub(Ec(i,o))},Bc=n(343);function Rc(e,t){if(!e.formattedAmountIn)return e;if(new Y.a(e.formattedAmountIn).lt(0))return Object(p.a)(Object(p.a)({},e),{},{formattedAmountIn:"0",amountIn:"0"});var n=t.map((function(e){return new Y.a(e.poolBalance.toString())})),a=!!e.fromToken.tokenAccountId,r=a?e.fromToken:e.toToken,o=a?Dc(new Y.a(e.amountIn),e.toToken.outcomeId,n,.02,r.decimals):function(e,t,n,a){if(t<0||t>=n.length)throw new Error("Outcome index '".concat(t,"' must be between 0 and '").concat(n.length-1,"'"));var r=n[t],o=n.filter((function(e,n){return t!==n})),c=Object(Bc.newtonRaphson)((function(t){var n=t.div(1-a),c=o.map((function(e){return e.minus(n)})).reduce((function(e,t){return e.mul(t)})),i=r.plus(e).minus(n),s=o.reduce((function(e,t){return e.mul(t)}),r);return c.mul(i).minus(s)}),0,{maxIterations:100});return c?new Y.a(c.toFixed(0)):null}(new Y.a(e.amountIn),e.fromToken.outcomeId,n,.02);return o?Object(p.a)(Object(p.a)({},e),{},{formattedAmountOut:ge(o.toString(),r.decimals),amountOut:o.round(0,0).toString()}):Object(p.a)(Object(p.a)({},e),{},{formattedAmountOut:"0",amountOut:"0"})}function Fc(e){var t,n,o=e.inputs,c=e.outputs,i=e.onConfirm,s=e.onRequestSwitchPairs,l=e.className,u=void 0===l?"":l,d=Object(r.useState)((t=o[0],n=c[0],{type:ne,fromToken:t,toToken:n,amountIn:"0",amountOut:"0",formattedAmountIn:"",formattedAmountOut:""})),m=Object(C.a)(d,2),b=m[0],f=m[1],j=1==o.length?o[0]:c[0];var k=c.length>1?c:o,v=Rc(b,k),O=function(e){var t={canSubmit:!0,message:""};return e.amountIn?(new Y.a(e.amountIn).gt(e.fromToken.balance)&&(t.message=F("swap.errors.notEnoughBalance"),t.canSubmit=!1),new Y.a(e.amountIn).lte(0)&&(t.canSubmit=!1)):t.canSubmit=!1,e.amountOut&&new Y.a(e.amountOut).lte(0)&&(t.canSubmit=!1),t}(v);return Object(a.jsxs)("form",{className:h()(Pc.a["token-swapper"],u),children:[Object(a.jsxs)("div",{className:Pc.a["token-swapper__token"],children:[Object(a.jsxs)("div",{className:h()(Pc.a.tokenHeader,Pc.a.noMargin),children:[Object(a.jsx)("span",{children:F("market.label.youPay")}),Object(a.jsxs)(jn,{onClick:function(){f(Object(p.a)(Object(p.a)({},b),{},{amountIn:b.fromToken.balance,formattedAmountIn:b.fromToken.balanceFormatted}))},className:Pc.a.balanceButton,children:[F("global.balance",{},!0),": ",v.fromToken.balanceFormatted]})]}),Object(a.jsx)(Hn,{onTokenSwitch:function(e){f(Object(p.a)(Object(p.a)({},b),{},{fromToken:e}))},value:v.formattedAmountIn,tokens:o,selectedToken:v.fromToken,onValueChange:function(e){return t=e,void f(Object(p.a)(Object(p.a)({},b),{},{formattedAmountIn:t,amountIn:t?xe(t,j.decimals):""}));var t}})]}),Object(a.jsx)("div",{className:Pc.a["token-swapper__switch-tokens"],children:Object(a.jsx)(mn,{onClick:function(){f(Object(p.a)(Object(p.a)({},b),{},{type:1===o.length?"SELL":ne,amountIn:b.amountOut,amountOut:b.amountIn,formattedAmountIn:b.formattedAmountOut,formattedAmountOut:b.formattedAmountIn,fromToken:b.toToken,toToken:b.fromToken})),s()},icon:Un,alt:F("market.action.switchTokens")})}),Object(a.jsxs)("div",{className:Pc.a["token-swapper__token"],children:[Object(a.jsx)("div",{className:Pc.a.tokenHeader,children:Object(a.jsx)("span",{children:F("market.label.youReceive")})}),Object(a.jsx)(Hn,{onTokenSwitch:function(e){f(Object(p.a)(Object(p.a)({},b),{},{toToken:e}))},value:v.formattedAmountOut,tokens:c,selectedToken:v.toToken,disabledInput:!0})]}),Object(a.jsxs)("div",{className:Pc.a["token-swapper__token"],children:[Object(a.jsx)("div",{className:Pc.a["token-swapper__token-header"],children:Object(a.jsx)("span",{children:F("market.label.overview",{},!0)})}),Object(a.jsx)(Tc,{formValues:v})]}),Object(a.jsx)(un,{error:O.message}),Object(a.jsx)(B,{disabled:!O.canSubmit,onClick:function(){i(v)},className:Pc.a["token-swapper__confirm"],children:F("market.action.confirmSwap")})]})}var qc=n(150),Wc=n.n(qc);function Lc(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ar.a,{height:106,className:Wc.a.skeleton}),Object(a.jsx)(ar.a,{height:106,className:Wc.a.skeleton}),Object(a.jsx)(ar.a,{height:130,className:Wc.a.skeleton}),Object(a.jsx)(ar.a,{height:60,className:Wc.a.skeleton})]})}function Hc(e){var t=e.className,n=Object(i.b)(),o=Object(r.useState)(!1),c=Object(C.a)(o,2),s=c[0],l=c[1],u=Object(i.c)((function(e){return e.market.marketDetail})),d=Object(r.useRef)();function p(){return(p=Object(U.a)(H.a.mark((function e(t){var n,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}throw new Error("Market is undefined");case 2:if(t.type!==ne){e.next=9;break}return e.next=5,Pa(t.fromToken.tokenAccountId||"");case 5:return n=e.sent,e.abrupt("return",n.buy(u.id,t));case 9:return e.next=11,sa();case 11:return a=e.sent,e.abrupt("return",a.sell(u.id,t));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(r.useEffect)((function(){return function(){clearInterval(d.current)}}),[]),Object(r.useEffect)((function(){if(u)return clearInterval(d.current),d.current=setInterval((function(){var e,t;n((e=u.id,t=u.collateralToken,function(){var n=Object(U.a)(H.a.mark((function n(a){var r;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ha(e,t);case 2:if(0!==(r=n.sent).length){n.next=5;break}return n.abrupt("return");case 5:a(Ja(r));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()))}),5e3),function(){clearInterval(d.current)}}),[u,n]),!u)return Object(a.jsx)(Lc,{});var m=[u.collateralToken];return Object(a.jsx)(Fc,{market:u,inputs:s?u.outcomeTokens:m,outputs:s?m:u.outcomeTokens,onConfirm:function(e){return p.apply(this,arguments)},onRequestSwitchPairs:function(){l(!s)},className:t})}var Uc=n(344),zc=n.n(Uc);function Yc(e){var t=e.children,n=e.className,r=void 0===n?"":n;return Object(a.jsx)("div",{className:h()(zc.a.root,r),children:t})}var Vc=n(345),Gc=n.n(Vc),Qc=n(232),Jc=n.n(Qc);function Zc(e){var t=e.items,n=Object(r.useState)(0),o=Object(C.a)(n,2),c=o[0],i=o[1],s=t.filter((function(e){return e.show})),l=s[c];return Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{items:s,variant:"fullWidth",onTabClick:function(e){var t=s.findIndex((function(t){return t.id===e.id}));i(t)},activeId:(null===l||void 0===l?void 0:l.id)||"",className:Jc.a.tabs,tabClassName:Jc.a.tab}),Object(a.jsx)(Gc.a,{index:c,onChangeIndex:function(e){i(e)},children:s.map((function(e){return e.element}))})]})}var Xc=n(151),Kc=n.n(Xc);function $c(e){var t=e.token,n=e.onSubmit,o=Object(r.useState)({liquidityAmountIn:"",liquidityAmountInFormatted:""}),c=Object(C.a)(o,2),i=c[0],s=c[1];var l=function(e,t){var n={canAddLiquidity:!0,liquidityAmountIn:""};if(e.liquidityAmountIn){var a=e.liquidityAmountIn;new Y.a(a).lte(0)&&(n.canAddLiquidity=!1),new Y.a(a).gt(t.balance)&&(n.liquidityAmountIn=F("liquidityProvider.errors.notEnoughBalance"),n.canAddLiquidity=!1)}else n.canAddLiquidity=!1;return n}(i,t);return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:F("liquidityProvider.description",{percentage:"2"})}),Object(a.jsxs)("div",{className:Kc.a.header,children:[Object(a.jsx)("span",{children:F("market.label.youPay")}),Object(a.jsxs)(jn,{onClick:function(){s(Object(p.a)(Object(p.a)({},i),{},{liquidityAmountIn:t.balance,liquidityAmountInFormatted:t.balanceFormatted}))},className:Kc.a.balanceButton,children:[F("global.balance",{},!0),": ",t.balanceFormatted]})]}),Object(a.jsx)(Hn,{value:i.liquidityAmountInFormatted,onValueChange:function(e){return n=e,void s(Object(p.a)(Object(p.a)({},i),{},{liquidityAmountIn:n?xe(n,t.decimals):"",liquidityAmountInFormatted:n}));var n},onTokenSwitch:function(){},selectedToken:t,tokens:[t],className:Kc.a.tokenSelect,placeholder:"1000"}),Object(a.jsx)(un,{error:l.liquidityAmountIn}),Object(a.jsx)(B,{disabled:!l.canAddLiquidity,onClick:function(){n(i)},className:Kc.a.confirm,children:F("market.action.confirmLiquidity")})]})}function ei(){var e=Object(i.c)((function(e){return e.market.marketDetail})),t=Object(r.useCallback)((function(t){e&&function(e,t,n){Ba.apply(this,arguments)}(e.id,t.liquidityAmountIn,e.collateralTokenId)}),[e]);return e?Object(a.jsx)($c,{token:e.collateralToken,onSubmit:t}):Object(a.jsx)("div",{})}var ti=n(233),ni=n.n(ti),ai=n(346),ri=n.n(ai);function oi(e){var t=e.market,n=t.payoutNumerator||[];return Object(a.jsx)("div",{children:Object(a.jsxs)("table",{className:ri.a.table,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:F("market.claimEarnings.label.outcome")}),Object(a.jsx)("th",{children:F("market.claimEarnings.label.payout")}),Object(a.jsx)("th",{children:F("market.claimEarnings.label.balance")})]})}),Object(a.jsx)("tbody",{children:n.map((function(e,n){var r=t.outcomeTokens.find((function(e){return e.outcomeId===n})),o=Fn(n);return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{color:"var(".concat(o,")")},children:null===r||void 0===r?void 0:r.tokenName}),Object(a.jsxs)("td",{children:[ge(e,t.collateralToken.decimals)," ",t.collateralToken.tokenSymbol]}),Object(a.jsxs)("td",{children:[null===r||void 0===r?void 0:r.balanceFormatted," ",null===r||void 0===r?void 0:r.tokenSymbol]})]},null===r||void 0===r?void 0:r.outcomeId)}))})]})})}function ci(e){var t=e.poolToken,n=e.market,r=e.escrowStatus,o=e.onClaim,c=function(e,t,n,a){var r=new Y.a(0);if(a&&(r=r.add(a.fees)),t){var o=n.find((function(e){return"valid_escrow"===e.type}));t.map((function(e){return new Y.a(e)})).forEach((function(t,n){var a=e.find((function(e){return e.outcomeId===n}));if(a){var o=new Y.a(a.balance).mul(t.div("1e".concat(a.decimals)));r=r.add(o)}})),o&&(r=r.add(o.total_amount))}return r}(n.outcomeTokens,n.payoutNumerator,r,t);return Object(a.jsxs)("div",{children:[n.invalid&&Object(a.jsx)("p",{children:F("market.claimEarnings.invalidMarket")}),!n.invalid&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:F("market.claimEarnings.validMarket")}),Object(a.jsx)(oi,{market:n})]}),n.claim&&Object(a.jsx)("p",{children:F("market.claimEarnings.alreadyClaimed",{payout:n.claim.payoutFormatted,tokenName:n.collateralToken.tokenSymbol})}),!n.claim&&!n.invalid&&Object(a.jsxs)("p",{children:[F("market.claimEarnings.label.claimable",{tokenName:n.collateralToken.tokenSymbol}),Object(a.jsxs)("span",{className:ni.a.claimable,children:[ge(c.toString(),n.collateralToken.decimals,8)," ",n.collateralToken.tokenSymbol]})]}),Object(a.jsx)(B,{disabled:Boolean(n.claim),onClick:o,className:ni.a.confirm,children:F("market.action.claimEarnings")})]})}function ii(){var e=Object(i.c)((function(e){return e.market.marketDetail})),t=Object(i.c)((function(e){return e.market.poolTokenBalance})),n=Object(i.c)((function(e){return e.market.escrowStatus})),o=Object(r.useCallback)((function(){e&&function(e){_a.apply(this,arguments)}(e.id)}),[e]);return e?Object(a.jsx)(ci,{poolToken:t,market:e,onClaim:o,escrowStatus:n}):Object(a.jsx)("div",{})}var si=n(551);var li=n(114),ui=n.n(li);function di(e){var t=e.market,n=(e.account,e.mainToken),o=e.onSeedPool,c=Object(r.useState)({outcomePercentages:[],mainTokenInput:"",mainTokenInputFormatted:""}),i=Object(C.a)(c,2),s=i[0],l=i[1];Object(r.useEffect)((function(){l(Object(p.a)(Object(p.a)({},s),{},{outcomePercentages:t.outcomeTokens.map((function(){return"0"}))}))}),[t.outcomeTokens]);var u=function(e,t){var n={outcomePercentages:[],canSeed:!0,message:"",mainTokenInput:""};n.outcomePercentages=e.outcomePercentages.map((function(e){var t=Number(e);return t<=0?F("seedPool.inputZero"):t>=100?F("seedPool.input100"):""}));var a=n.outcomePercentages.some((function(e){return""!==e})),r=e.outcomePercentages.map((function(e){return Number(e)})).reduce((function(e,t){return e+t}),0);if((a||100!==r)&&(n.canSeed=!1),100!==r&&(n.message=F("seedPool.not100Percent",{percentage:r.toString()})),e.mainTokenInput){var o=e.mainTokenInput;new Y.a(o).lte(0)&&(n.canSeed=!1),new Y.a(o).gt(t.collateralToken.balance)&&(n.mainTokenInput=F("seedPool.errors.notEnoughBalance"),n.canSeed=!1)}else n.canSeed=!1;return n}(s,t);return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{children:[Object(a.jsx)("p",{children:F("seedPool.explanation",{tokenName:n.tokenName})}),Object(a.jsxs)("div",{className:ui.a.inputWrapper,children:[Object(a.jsx)("div",{className:ui.a.tokenTitles,children:Object(a.jsxs)(jn,{onClick:function(){l(Object(p.a)(Object(p.a)({},s),{},{mainTokenInputFormatted:n.balanceFormatted,mainTokenInput:n.balance}))},className:ui.a.balanceButton,children:[F("global.balance",{},!0),": ",n.balanceFormatted]})}),Object(a.jsx)(Hn,{onTokenSwitch:function(){},value:s.mainTokenInputFormatted,tokens:[n],selectedToken:n,onValueChange:function(e){l(Object(p.a)(Object(p.a)({},s),{},{mainTokenInputFormatted:e,mainTokenInput:e?xe(e,n.decimals):""}))},placeholder:"1000"}),Object(a.jsx)(un,{error:u.mainTokenInput})]}),Object(a.jsx)("h3",{children:F("seedPool.weightsTitle")}),s.outcomePercentages.map((function(e,n){var r;return Object(a.jsxs)("div",{className:ui.a.inputWrapper,children:[Object(a.jsx)(io,{text:(null===(r=t.outcomeTokens.find((function(e){return e.outcomeId===n})))||void 0===r?void 0:r.tokenName)||""}),Object(a.jsx)(jo,{value:e,type:"number",onChange:function(e){return function(e,t){var n=s.outcomePercentages;n[e]=t,l(Object(p.a)(Object(p.a)({},s),{},{outcomePercentages:n}))}(n,e)},error:!!u.outcomePercentages[n],helperText:u.outcomePercentages[n],InputProps:{endAdornment:Object(a.jsx)(si.a,{position:"end",children:Object(a.jsx)("span",{className:ui.a.adornement,children:"%"})})}})]},n)})),!u.canSeed&&Object(a.jsx)("p",{children:u.message}),Object(a.jsx)(B,{className:ui.a.confirmButton,disabled:!u.canSeed,onClick:function(){return o(s)},children:F("seedPool.action.submit")})]})})}function pi(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.account.account})),n=Object(i.c)((function(e){return e.market.marketDetail})),o=Object(r.useCallback)((function(t){var a,r,o;n&&e((a=n.id,r=n.collateralTokenId,o=t,function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(a,r,o);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,n]);return n?Object(a.jsx)(di,{account:t,market:n,mainToken:n.collateralToken,onSeedPool:o}):Object(a.jsx)("div",{})}function mi(){return Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:F("marketClosed.description")})})}var bi=n(152),fi=n.n(bi);function ji(e){var t,n=e.market,o=e.poolToken,c=e.onExitPool,i=Object(r.useState)({amountIn:"",amountInFormatted:""}),s=Object(C.a)(i,2),l=s[0],u=s[1],d={balance:(t=o).balance,balanceFormatted:t.balanceFormatted,decimals:t.collateralTokenDecimals,odds:new Y.a(0),outcomeId:NaN,poolBalance:"0",poolWeight:new Y.a(0),price:0,priceSymbol:"$",priceSymbolPosition:"left",tokenName:F("global.poolToken"),tokenSymbol:"",weight:0,isCollateralToken:!1};var m=function(e,t){var n={canSubmit:!0,amountIn:""};return""!==e.amountIn?(new Y.a(t.balance).lt(e.amountIn)&&(n.amountIn=F("exitPool.validation.amountIn.tooHigh"),n.canSubmit=!1),new Y.a(e.amountIn).lte(0)&&(n.amountIn=F("exitPool.validation.amountIn.negative"),n.canSubmit=!1)):n.canSubmit=!1,n}(l,o);return Object(a.jsxs)("section",{children:[Object(a.jsx)("p",{children:F("exitPool.description")}),Object(a.jsxs)("div",{className:fi.a.header,children:[Object(a.jsx)("span",{children:F("exitPool.label.youInsert")}),Object(a.jsxs)(jn,{onClick:function(){u(Object(p.a)(Object(p.a)({},l),{},{amountIn:o.balance,amountInFormatted:o.balanceFormatted}))},className:fi.a.balanceButton,children:[F("global.balance",{},!0),": ",o.balanceFormatted]})]}),Object(a.jsx)(Hn,{value:l.amountInFormatted,onValueChange:function(e){u(Object(p.a)(Object(p.a)({},l),{},{amountIn:e?xe(e,o.collateralTokenDecimals):"",amountInFormatted:e}))},onTokenSwitch:function(){},selectedToken:d,tokens:[d],className:fi.a.tokenSelect,showPrice:!1}),Object(a.jsx)(un,{error:m.amountIn}),Object(a.jsx)("p",{children:F("exitPool.label.feesEarned",{amount:ge(o.fees,n.collateralToken.decimals,8),tokenSymbol:n.collateralToken.tokenSymbol})}),Object(a.jsx)(B,{onClick:function(){c(l)},className:fi.a.confirm,disabled:!m.canSubmit,children:F("exitPool.action.exitPool")})]})}function ki(){var e=Object(i.c)((function(e){return e.market.poolTokenBalance})),t=Object(i.c)((function(e){return e.market.marketDetail})),n=Object(i.b)(),o=Object(r.useCallback)((function(t){var a,r;e&&n((a=e.marketId,r=t.amountIn,function(){var e=Object(U.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra(a,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e,n]);return e&&t?Object(a.jsx)(ji,{poolToken:e,market:t,onExitPool:o}):Object(a.jsx)("div",{})}var vi=n(347),hi=n.n(vi);function Oi(e){var t=e.onLoginClick;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:F("notLoggedIn.title")}),Object(a.jsx)("p",{children:F("notLoggedIn.description")})]}),Object(a.jsx)(B,{className:hi.a.confirmButton,onClick:t,children:F("notLoggedIn.action.login")})]})}function _i(){var e=Object(i.b)(),t=Object(r.useCallback)((function(){e(Kt())}),[e]);return Object(a.jsx)(Oi,{onLoginClick:t})}var gi=n(115),xi=n.n(gi);var wi=n(186),yi=n.n(wi);function Ni(e){var t=e.market,n=e.account,r=e.onDialogOpenClick;return n?t.collateralTokenId!==K||"0"!==t.collateralToken.balance?null:Object(a.jsxs)(Yc,{className:yi.a.actionsCard,children:[Object(a.jsx)("img",{src:Oe,alt:"",className:yi.a.icon}),Object(a.jsxs)("div",{className:yi.a.content,children:[Object(a.jsx)("p",{children:F("noWrappedNear.description",{accountId:n.accountId})}),Object(a.jsx)(B,{onClick:r,children:F("noWrappedNear.action.openDialog")})]})]}):null}function Ii(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.market.marketDetail})),n=Object(i.c)((function(e){return e.account.account})),o=Object(r.useCallback)((function(){e(nn(!0))}),[e]);return t?Object(a.jsx)(Ni,{market:t,account:n,onDialogOpenClick:o}):null}var Ai=n(348),Ci=n.n(Ai);function Ti(e){var t=e.market,n=e.amountRedeemable,r=e.onRedeemClick;return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:F("redeem.description",{amount:be.a.utils.formatToken(n,t.collateralToken.decimals),tokenSymbol:t.collateralToken.tokenSymbol})}),Object(a.jsx)(B,{className:Ci.a.confirmButton,onClick:r,children:F("redeem.action.submit",{amount:be.a.utils.formatToken(n,t.collateralToken.decimals),tokenSymbol:t.collateralToken.tokenSymbol})})]})}function Si(){var e=Object(i.c)((function(e){return e.market.marketDetail})),t=function(e){if(!xa(e))return new Y.a(0);var t=new Y.a(e[0].balance);return e.forEach((function(e){var n=new Y.a(e.balance);n.lt(t)&&(t=n)})),t}((null===e||void 0===e?void 0:e.outcomeTokens)||[]),n=Object(r.useCallback)((function(){e&&function(e,t){wa.apply(this,arguments)}(e.id,t.toString())}),[e,t]);return e?Object(a.jsx)(Ti,{amountRedeemable:t.toString(),market:e,onRedeemClick:n}):Object(a.jsx)("div",{})}var Pi=n(73),Mi=n.n(Pi);function Ei(e){var t=e.poolTokens,n=e.className;return Object(a.jsxs)("section",{className:h()(Mi.a.root,n),children:[Object(a.jsx)("header",{className:Mi.a.header,children:F("feesEarned.title")}),Object(a.jsxs)("table",{className:Mi.a.table,children:[Object(a.jsx)("thead",{className:Mi.a.tableHead,children:Object(a.jsxs)("tr",{className:Mi.a.tableHeadRow,children:[Object(a.jsx)("th",{children:F("feesEarned.table.market")}),Object(a.jsx)("th",{children:F("feesEarned.table.balance")}),Object(a.jsx)("th",{children:F("feesEarned.table.feesEarned")})]})}),Object(a.jsx)("tbody",{children:t.map((function(e){return Object(a.jsxs)("tr",{className:Mi.a.tableRow,children:[Object(a.jsx)("td",{className:Mi.a.description,children:Object(a.jsx)(s.b,{to:Hi.marketDetail(e.marketId),className:Mi.a.link,children:e.marketDescription})}),Object(a.jsx)("td",{children:Object(a.jsx)(s.b,{to:Hi.marketDetail(e.marketId),className:Mi.a.link,children:ge(e.balance,e.collateralTokenDecimals)})}),Object(a.jsx)("td",{children:Object(a.jsx)(s.b,{to:Hi.marketDetail(e.marketId),className:Mi.a.link,children:ge(e.fees,e.collateralTokenDecimals)})})]},"".concat(e.marketId,"_").concat(e.outcomeId))}))})]})]})}function Di(e){var t=e.className,n=Object(i.c)((function(e){return e.account.poolTokens}));return Object(a.jsx)(Ei,{poolTokens:n,className:t})}var Bi=n(70),Ri=n.n(Bi);function Fi(e){var t=e.balances,n=e.className,r=void 0===n?"":n;return Object(a.jsxs)("section",{className:h()(Ri.a.root,r),children:[Object(a.jsx)("header",{className:Ri.a.header,children:F("userbalances.title")}),Object(a.jsxs)("table",{className:Ri.a.table,children:[Object(a.jsx)("thead",{className:Ri.a.tableHead,children:Object(a.jsxs)("tr",{className:Ri.a.tableHeadRow,children:[Object(a.jsx)("th",{children:F("userbalances.table.market")}),Object(a.jsx)("th",{children:F("userbalances.table.outcome")}),Object(a.jsx)("th",{children:F("userbalances.table.balance")}),Object(a.jsx)("th",{children:F("userbalances.table.status")})]})}),Object(a.jsx)("tbody",{children:t.filter((function(e){return e.outcomeTag})).map((function(e){return Object(a.jsxs)("tr",{className:Ri.a.tableRow,children:[Object(a.jsx)("td",{className:Ri.a.marketDescription,children:Object(a.jsx)(s.b,{to:Hi.marketDetail(e.marketId),className:Ri.a.link,children:e.marketDescription})}),Object(a.jsx)("td",{children:Object(a.jsx)(s.b,{to:Hi.marketDetail(e.marketId),className:Ri.a.link,children:e.outcomeTag})}),Object(a.jsx)("td",{children:Object(a.jsx)(s.b,{to:Hi.marketDetail(e.marketId),className:Ri.a.link,children:ge(e.balance,e.collateralTokenDecimals)})}),Object(a.jsx)("td",{children:Object(a.jsx)(s.b,{to:Hi.marketDetail(e.marketId),className:Ri.a.link,children:e.marketStatus})})]},"".concat(e.marketId,"_").concat(e.outcomeId))}))})]})]})}function qi(e){var t=e.className,n=Object(i.c)((function(e){return e.account.balances}));return Object(a.jsx)(Fi,{balances:n,className:t})}var Wi=n(153),Li=n.n(Wi);var Hi={root:function(){return"/"},profile:function(){return"/profile"},resoluted:function(){return"/resoluted"},pending:function(){return"/pending"},marketDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":marketId";return"/markets/".concat(e)}},Ui=[{component:function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.account.account})),n=Object(i.c)((function(e){return e.market.marketDetail})),o=Object(i.c)((function(e){return e.market.poolTokenBalance})),c=Object(m.h)().marketId;!function(e,t){var n=Object(m.h)(),a=He();Object(r.useEffect)((function(){if(t){window.disqus_config=function(){this.page.url=window.location.href,this.page.identifier="productiontestnetbeta-amm.flux-dev"+n[e]+"_0",this.page.title=t};try{DISQUS.reset({reload:!0,config:window.disqus_config})}catch(a){}}}),[n,e,t,a])}("marketId",null===n||void 0===n?void 0:n.description);var s="0"!==(null===n||void 0===n?void 0:n.poolTokenInfo.totalSupply),l=!!(null===n||void 0===n?void 0:n.resolutionDate)&&n.resolutionDate<=new Date,u=xa((null===n||void 0===n?void 0:n.outcomeTokens)||[]);return Object(r.useEffect)((function(){var t;return e((t=c,function(){var e=Object(U.a)(H.a.mark((function e(n){var a,r,o,c,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(Ha(!0)),n(Ya(void 0)),n(Qa(void 0)),n(er([])),e.next=7,fa(t);case 7:if(a=e.sent){e.next=11;break}return n(La(["Could not find market"])),e.abrupt("return");case 11:return e.next=13,wt();case 13:if(!(r=e.sent)){e.next=24;break}return o=Ia(t,r.accountId),e.next=18,Pt(r.accountId,t);case 18:return c=e.sent,e.next=21,o;case 21:i=e.sent,n(er(i)),c&&n(Qa(c));case 24:n(Ya(a)),n(Ha(!1)),e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),n(Ha(!1)),console.error("[loadMarket]",e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}())),function(){e(Ya(void 0))}}),[e,c]),Object(a.jsxs)($n,{hasNavigation:!0,size:"unrestricted",className:xi.a.root,children:[Object(a.jsx)(ta.a,{children:Object(a.jsx)("title",{children:F("market.title.head",{appName:F("global.appName"),description:(null===n||void 0===n?void 0:n.description)||""})})}),Object(a.jsx)(Qo,{}),Object(a.jsxs)("div",{className:xi.a.details,children:[Object(a.jsxs)("div",{className:xi.a.infoWrapper,children:[Object(a.jsx)(Ic,{className:xi.a.stats}),Object(a.jsx)(tc,{})]}),Object(a.jsxs)("div",{className:xi.a.actionsWrapper,children:[Object(a.jsx)(Ii,{}),Object(a.jsx)(Yc,{children:Object(a.jsx)(Zc,{items:[{element:Object(a.jsx)(Hc,{},"tokenswapper"),label:F("market.label.swap"),show:null!==t&&!1===(null===n||void 0===n?void 0:n.finalized)&&!l&&s,id:"0"},{element:Object(a.jsx)(ei,{},"liquidity"),label:F("market.label.liquidity"),show:null!==t&&!1===(null===n||void 0===n?void 0:n.finalized)&&!l&&s,id:"1"},{element:Object(a.jsx)(ii,{},"claimEarnings"),label:F("market.label.claimEarnings"),show:null!==t&&!0===(null===n||void 0===n?void 0:n.finalized),id:"2"},{element:Object(a.jsx)(pi,{},"seedpool"),label:F("market.label.seedPool"),show:null!==t&&!1===(null===n||void 0===n?void 0:n.finalized)&&!l&&!s,id:"3"},{element:Object(a.jsx)(mi,{},"marketClosed"),label:F("market.label.marketClosed"),show:!1===(null===n||void 0===n?void 0:n.finalized)&&l,id:"4"},{element:Object(a.jsx)(ki,{},"exitPool"),label:F("market.label.exitPool"),show:null!==t&&s&&!!o&&!l,id:"5"},{element:Object(a.jsx)(_i,{},"notloggedin"),label:F("market.label.notLoggedIn"),show:null===t,id:"6"},{element:Object(a.jsx)(Si,{},"redeem"),label:F("market.label.redeem"),show:null!==t&&s&&!1===(null===n||void 0===n?void 0:n.finalized)&&u,id:"7"}]})})]})]}),Object(a.jsxs)("div",{className:xi.a.comments,children:[Object(a.jsx)("h2",{children:F("global.comments")}),Object(a.jsx)("div",{id:"disqus_thread"})]})]})},exact:!0,inNavigation:!1,key:"market",label:"Market",path:Hi.marketDetail()},{component:function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.account.account}));return Object(r.useEffect)((function(){var n;t&&e((n=t.accountId,function(){var e=Object(U.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(at(!0)),e.next=4,At(n);case 4:a=e.sent,t(rt(a.poolTokens)),t(ot(a.marketBalances)),t(at(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(at(!1)),console.error("[getPoolTokensForAccount]",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,t]),Object(a.jsxs)($n,{className:Li.a.root,bodyClassName:Li.a.pageBody,size:"large",children:[Object(a.jsx)(qi,{className:Li.a.userBalances}),Object(a.jsx)(Di,{className:Li.a.feesEarned})]})},exact:!0,inNavigation:!1,key:"home",label:"Home",path:Hi.profile()},{component:function(){var e=Object(b.a)("(min-width: 1024px)"),t=Object(m.f)(),n=Object(m.g)(),o=Object(r.useCallback)((function(e){t.push(e.id)}),[t]);return Object(a.jsxs)($n,{className:Po.a.homePage,bodyClassName:Po.a.homePageBody,size:"large",hasNavigation:!0,children:[Object(a.jsx)(k,{}),Object(a.jsx)(Bo,{}),Object(a.jsx)(w,{className:Po.a.tabBar,activeId:n.pathname,onTabClick:o,variant:e?"standard":"fullWidth",items:[{id:Hi.root(),label:F("pages.marketOverview"),show:!0},{id:Hi.pending(),label:F("pages.pendingOverview"),show:!0},{id:Hi.resoluted(),label:F("pages.resoluteOverview"),show:!0}]}),Object(a.jsx)(To,{}),Object(a.jsxs)(m.c,{children:[Object(a.jsx)(m.a,{exact:!0,path:Hi.root(),component:eo}),Object(a.jsx)(m.a,{exact:!0,path:Hi.resoluted(),component:Kr}),Object(a.jsx)(m.a,{exact:!0,path:Hi.pending(),component:Fo})]})]})},exact:!1,inNavigation:!1,key:"home",label:"Home",path:Hi.root()}];var zi=function(){return Object(m.f)().listen((function(e){window&&window.gtag&&window.gtag("config","G-1KN2SW2G2Y",{page_path:e.pathname+e.search})})),Object(a.jsx)(m.c,{children:Ui.map((function(e){return Object(r.createElement)(m.a,Object(p.a)(Object(p.a)({},e),{},{key:e.key}))}))})},Yi=n(41),Vi=n(349),Gi=n(129),Qi=Object(Ke.a)({initialState:{poolLoading:!1,pools:[]},name:"pools",reducers:{setPoolErrors:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{poolError:t.payload})},setPoolLoading:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{poolLoading:t.payload})},setPools:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{pools:t.payload})}}}),Ji=Qi.actions,Zi=(Ji.setPoolErrors,Ji.setPoolLoading,Ji.setPools,Qi.reducer),Xi=Object(Yi.combineReducers)({account:lt,pools:Zi,market:tr,priceHistory:yc,dialogs:an}),Ki=function(){return"production"!==Object({NODE_ENV:"production",PUBLIC_URL:"https://fluxprotocol.github.io/beta",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.flux.xyz/graphql",REACT_APP_COINGECKO_API_URL:"https://api.coingecko.com/api/v3/",REACT_APP_PROTOCOL_ACCOUNT_ID:"beta-amm.flux-dev",REACT_APP_FUNGIBLE_TOKEN_ACCOUNT_ID:"wnear.flux-dev",REACT_APP_GA_ID:"G-1KN2SW2G2Y",REACT_APP_NETWORK:"testnet",REACT_APP_WRAPPED_NEAR_ACCOUNT_ID:"wnear.flux-dev",REACT_APP_NULL_CONTRACT:"null_contract.flux-dev",REACT_APP_BANANAS_ACCOUNT_ID:"berryclub.ek.near"}).REACT_APP_APP_ENV?Object(Vi.composeWithDevTools)(Object(Yi.applyMiddleware)(Gi.a)):Object(Yi.applyMiddleware)(Gi.a)};n(506);var $i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ki();return Object(Yi.createStore)(Xi,e,t)}({});c.a.render(Object(a.jsx)(i.a,{store:$i,children:Object(a.jsx)(s.a,{basename:"/beta",hashType:"hashbang",children:Object(a.jsx)(u.a,{utils:d.a,children:Object(a.jsx)(l.b,{injectFirst:!0,children:Object(a.jsx)(zi,{})})})})}),document.getElementById("root"))},52:function(e,t,n){e.exports={root:"MarketHeader_root__3D1Vw",wrapper:"MarketHeader_wrapper__2d74u",title:"MarketHeader_title__2Xliv",resolutionDate:"MarketHeader_resolutionDate__2TtDh",headerItem:"MarketHeader_headerItem__MJJc3",categoryTag:"MarketHeader_categoryTag__QLYfv",bubble:"MarketHeader_bubble__uH7BP",opinionCardWrapper:"MarketHeader_opinionCardWrapper__WzifQ","market-header__back-button":"MarketHeader_market-header__back-button__1U-Qq","market-header__resolution-date-title":"MarketHeader_market-header__resolution-date-title__3IhYu","market-header__resolution-date-stamp":"MarketHeader_market-header__resolution-date-stamp__1BcaE"}},56:function(e,t,n){e.exports={"swap-overview":"SwapOverview_swap-overview__tofCH","swap-overview__info-row":"SwapOverview_swap-overview__info-row__18KCF","swap-overview__info-key":"SwapOverview_swap-overview__info-key__3q7nI"}},68:function(e,t,n){e.exports={"token-select":"TokenSelect_token-select__27VH9","token-select__info":"TokenSelect_token-select__info__9n_YI","token-select__token-icon":"TokenSelect_token-select__token-icon__29BF7","token-select__inputs":"TokenSelect_token-select__inputs__odDi4","token-select__inputs-info":"TokenSelect_token-select__inputs-info__3KZ0Q","token-select__token-name":"TokenSelect_token-select__token-name__25V3B","token-select__input":"TokenSelect_token-select__input__2V0Jg",price:"TokenSelect_price__jCfUr","price--symbol-right":"TokenSelect_price--symbol-right__1le8k",priceSymbol:"TokenSelect_priceSymbol__2o40N",changePairButton:"TokenSelect_changePairButton__3NfkS"}},69:function(e,t,n){e.exports={"token-swapper":"TokenSwapper_token-swapper__2wj13","token-swapper__confirm":"TokenSwapper_token-swapper__confirm__2yAvV","token-swapper__token":"TokenSwapper_token-swapper__token__oio0-","token-swapper__switch-tokens":"TokenSwapper_token-swapper__switch-tokens__3Ltrn",tokenHeader:"TokenSwapper_tokenHeader__3G1KB",balanceButton:"TokenSwapper_balanceButton__WXZ3p",noMargin:"TokenSwapper_noMargin__RYFwE"}},70:function(e,t,n){e.exports={root:"UserBalancesOverview_root__3reWC",header:"UserBalancesOverview_header__2kUYq",table:"UserBalancesOverview_table__3DImk",tableHeadRow:"UserBalancesOverview_tableHeadRow__3X1FY",tableRow:"UserBalancesOverview_tableRow__2crSB",link:"UserBalancesOverview_link__GWe9h",marketDescription:"UserBalancesOverview_marketDescription__2QGff"}},72:function(e,t,n){e.exports={root:"MarketOpinionCard_root__388St",title:"MarketOpinionCard_title__13oRu","token-weight-bar":"MarketOpinionCard_token-weight-bar__WMDV0","volume-wrapper":"MarketOpinionCard_volume-wrapper__1vdNR","outcomes-wrapper":"MarketOpinionCard_outcomes-wrapper__3YEfQ",outcome:"MarketOpinionCard_outcome__1sfEO","outcome-label-wrapper":"MarketOpinionCard_outcome-label-wrapper__3C8cG",colorLabel:"MarketOpinionCard_colorLabel__36lqG",tokenName:"MarketOpinionCard_tokenName__QSp7n"}},73:function(e,t,n){e.exports={root:"FeesEarnedOverview_root__1jp6H",header:"FeesEarnedOverview_header__2dL1Y",table:"FeesEarnedOverview_table__8FrdZ",tableHeadRow:"FeesEarnedOverview_tableHeadRow__1pB3N",tableRow:"FeesEarnedOverview_tableRow__1ANv1",link:"FeesEarnedOverview_link__HVlWT",description:"FeesEarnedOverview_description__3sY7t"}},82:function(e,t,n){e.exports={"token-dropdown":"TokenDropdown_token-dropdown__3e5w-","token-dropdown__fake-top":"TokenDropdown_token-dropdown__fake-top__1JOt5","token-dropdown__balance":"TokenDropdown_token-dropdown__balance__3p3cW","token-dropdown__tokens":"TokenDropdown_token-dropdown__tokens__1Nca2","token-dropdown__token":"TokenDropdown_token-dropdown__token__2PGWR","token-dropdown__token-info":"TokenDropdown_token-dropdown__token-info__SPch6","token-dropdown__token-icon":"TokenDropdown_token-dropdown__token-icon__P6DUY","token-dropdown__token-balance":"TokenDropdown_token-dropdown__token-balance__3oRns"}},83:function(e,t,n){e.exports={root:"MarketOverview_root__3Omus",filters:"MarketOverview_filters__2uQkg",filter:"MarketOverview_filter__15PLr",market:"MarketOverview_market__1-Nmd",markets:"MarketOverview_markets__3zaEa",skeleton:"MarketOverview_skeleton__23k8G"}}},[[507,1,2]]]);
//# sourceMappingURL=main.b60d7c90.chunk.js.map