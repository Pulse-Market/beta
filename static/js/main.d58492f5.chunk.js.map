{"version":3,"sources":["components/MarketInfoCard/MarketInfoCard.module.scss","components/Overview/Overview.module.scss","pages/MarketPage/MarketPage.module.scss","containers/AddableInputs/AddableInputs.module.scss","containers/NoBalanceCard/NoBalanceCard.module.scss","containers/Page/Page.module.scss","containers/TokenSwapper/TokenSwapperLoader.module.scss","containers/SeedPool/SeedPool.module.scss","containers/SeedScalarMarket/SeedScalarMarket.module.scss","containers/TabBar/TabBar.module.scss","components/Button/Button.module.scss","components/DarkmodeButton/DarkmodeButton.module.scss","containers/LabeledTokenSelect/LabeledTokenSelect.module.scss","containers/DisclaimerDialog/DisclaimerDialog.module.scss","pages/HomePage/HomePage.module.scss","containers/MarketHeader/MarketHeaderLoader.module.scss","containers/TabbedViews/TabbedViews.module.scss","pages/ProfilePage/sub-pages/BalancesOverviewPage/BalancesOverviewPage.module.scss","pages/ProfilePage/ProfilePage.module.scss","components/TextButton/TextButton.module.scss","components/Token/Token.module.scss","compositions/MarketCard/MarketCard.module.scss","components/TokenWeightsBar/TokenWeightsBar.module.scss","components/Select/Select.module.scss","components/ToggleButtons/ToggleButtons.module.scss","containers/MarketResolutionInfo/MarketResolutionInfo.module.scss","containers/MarketStatistics/MarketStatistics.module.scss","containers/LiquidityProvider/LiquidityProvider.module.scss","containers/ClaimEarnings/ClaimEarnings.module.scss","containers/ExitPool/ExitPool.module.scss","containers/NoBalanceDialog/NoBalanceDialog.module.scss","components/BackgroundWave/BackgroundWave.module.scss","containers/Menu/components/AccountButton/AccountButton.module.scss","components/Error/Error.module.scss","components/IconButton/IconButton.module.scss","components/NonLinkButton/NonLinkButton.module.scss","components/Icon/Icon.module.scss","compositions/MarketOpinionCard/MarketOpinionCard.module.scss","components/DateTimePicker/DateTimePicker.module.scss","components/Label/Label.module.scss","components/TextInput/TextInput.module.scss","containers/MarketResolutionInfo/MarketResolutionInfoLoader.module.scss","components/ActionsCard/ActionCard.module.scss","containers/ClaimEarnings/components/FinalizedMarketOutcomes/FinalizedMarketOutcomes.module.scss","containers/NotLoggedIn/NotLoggedIn.module.scss","containers/Redeem/Redeem.module.scss","containers/MarketCreationDialog/MarketCreationDialog.module.scss","containers/UserBalancesOverview/UserBalancesOverview.module.scss","containers/MarketHeader/MarketHeader.module.scss","containers/TransactionsOverview/TransactionsOverview.module.scss","redux/account/account.ts","models/PoolBalance.ts","models/FetchResult.ts","config.ts","utils/cache.ts","services/TokenPriceService.ts","services/WalletService.ts","assets/images/icons/wrapped-near.svg","assets/images/icons/banana-token.svg","assets/images/icons/dai-token.svg","services/CollateralTokenService.ts","models/Market.ts","translation/trans.ts","models/Claim.ts","models/EscrowStatus.ts","services/MarketService.ts","utils/getColorForOutcome.ts","models/TokenViewModel.ts","utils/emojiSlice.ts","models/PoolToken.ts","models/UserBalance.ts","models/ParticipatedMarket.ts","services/AccountService.ts","assets/images/icons/near-icon.png","services/contracts/WrappedNearContract.ts","services/NearService.ts","models/Transaction.ts","services/TransactionService.ts","redux/account/accountActions.ts","components/BackgroundWave/BackgroundWave.tsx","containers/TabBar/TabBar.tsx","containers/Footer/Footer.tsx","assets/images/icons/twitter_logo.png","assets/images/icons/telegram_logo.png","components/Button/Button.tsx","utils/hooks/useInterval.ts","utils/darkmode.ts","components/DarkmodeButton/DarkmodeButton.tsx","containers/Menu/components/AccountButton/AccountButton.tsx","containers/Menu/Menu.tsx","redux/dialogs/dialogs.ts","connectors/MenuConnector/MenuConnector.tsx","components/Error/Error.tsx","components/IconButton/IconButton.tsx","compositions/Dialog/Dialog.tsx","components/TextButton/TextButton.tsx","components/Token/Token.tsx","components/NonLinkButton/NonLinkButton.tsx","containers/TokenSelect/components/TokenDropdown/TokenDropdown.tsx","containers/TokenSelect/TokenSelect.tsx","containers/LabeledTokenSelect/LabeledTokenSelect.tsx","components/Icon/Icon.tsx","components/Icon/set/IconSwap.tsx","containers/WrapNearDialog/WrapNearDialog.tsx","containers/WrapNearDialog/utils/createDefaultWrapNearFormValues.ts","containers/WrapNearDialog/utils/validateWrapNearFormValues.ts","connectors/WrapNearDialogConnector/WrapNearDialogConnector.tsx","containers/DisclaimerDialog/DisclaimerDialog.tsx","connectors/DisclaimerDialogConnector/DisclaimerDialogConnector.tsx","containers/Page/Page.tsx","services/PoolService.ts","redux/market/market.ts","assets/images/circle-crypto.png","assets/images/card-crypto.png","assets/images/icons/icon-crypto.png","assets/images/circle-esports.png","assets/images/card-esports.png","assets/images/icons/icon-esports.png","assets/images/circle-meme.png","assets/images/card-meme.png","assets/images/icons/icon-meme.png","assets/images/circle-politics.png","assets/images/card-politics.png","assets/images/icons/icon-politics.png","assets/images/circle-sports.png","assets/images/card-sports.png","assets/images/icons/icon-sports.png","assets/images/circle-startups.png","assets/images/card-startups.png","assets/images/icons/icon-startups.png","assets/images/circle-stocks.png","assets/images/card-stockmarket.png","assets/images/icons/icon-stockmarket.png","assets/images/circle-viral.png","assets/images/card-viral.png","assets/images/icons/icon-viral.png","utils/getCategoryInfo.ts","components/Tag/Tag.tsx","components/MarketInfoCard/MarketInfoCard.tsx","components/TokenWeightsBar/TokenWeightsBar.tsx","utils/prettyFormatNumber.ts","compositions/MarketOpinionCard/components/CategoricalOpinionCard/CategoricalOpinionCard.tsx","compositions/MarketOpinionCard/components/ScalarOpinionCard/ScalarOpinionCard.tsx","compositions/MarketOpinionCard/MarketOpinionCard.tsx","compositions/MarketCard/MarketCard.tsx","containers/MarketOverview/MarketOverview.tsx","connectors/MarketOverviewConnector/MarketOverviewConnector.tsx","connectors/FinalizedMarketsOverviewConnector/FinalizedMarketsOverviewConnector.tsx","redux/market/marketActions.ts","pages/HomePage/sub-pages/ResolutionPage/ResolutionPage.tsx","connectors/TradeableMarketsOverviewConnector/TradeableMarketsOverviewConnector.tsx","pages/HomePage/sub-pages/MarketsOverviewPage/MarketsOverviewPage.tsx","components/DateTimePicker/DateTimePicker.tsx","components/Label/Label.tsx","components/TextInput/TextInput.tsx","containers/AddableInputs/AddableInputs.tsx","components/Select/Select.tsx","components/ToggleButtons/ToggleButtons.tsx","containers/MarketCreationDialog/MarketCreationDialog.tsx","containers/MarketCreationDialog/utils/createDefaultMarketFormValues.ts","containers/MarketCreationDialog/utils/validateMarketFormValues.ts","connectors/MarketCreationDialogConnector/MarketCreationDialogConnector.tsx","containers/HomeHeader/HomeHeader.tsx","connectors/HomeHeaderConnector/HomeHeaderConnector.tsx","connectors/PendingMarketsOverviewConnector/PendingMarketsOverviewConnector.tsx","pages/HomePage/sub-pages/PendingPage/PendingPage.tsx","containers/MarketHeader/MarketHeader.tsx","containers/MarketHeader/MarketHeaderLoader.tsx","connectors/MarketHeaderConnector/MarketHeaderConnector.tsx","containers/MarketResolutionInfo/MarketResolutionInfo.tsx","containers/MarketResolutionInfo/MarketResolutionInfoLoader.tsx","connectors/MarketResolutionInfoConnector/MarketResolutionInfoConnector.tsx","utils/getCssVariableValue.ts","containers/LineChart/utils/generateLineChart.ts","containers/LineChart/LineChart.tsx","containers/LineChart/utils/containsNewChartData.ts","services/PricesHistoryService.ts","containers/MarketStatistics/MarketStatistics.tsx","redux/priceHistory/priceHistory.ts","redux/priceHistory/priceHistoryActions.ts","connectors/MarketStatisticsConnector/MarketStatisticsConnector.tsx","utils/hooks/usePrevious.ts","services/PriceService.ts","components/Overview/Overview.tsx","containers/TokenSwapper/components/SwapOverview/SwapOverview.tsx","containers/TokenSwapper/components/SwapOverview/utils/overviewMutation.ts","containers/TokenSwapper/utils/validateSwapFormValues.ts","containers/TokenSwapper/TokenSwapper.tsx","containers/TokenSwapper/utils/createDefaultSwapFormValues.ts","utils/storage.ts","containers/TokenSwapper/utils/formValuesMutation.ts","containers/TokenSwapper/TokenSwapperLoader.tsx","connectors/TokenSwapperConnector/TokenSwapperConnector.tsx","components/ActionsCard/ActionsCard.tsx","containers/TabbedViews/TabbedViews.tsx","containers/LiquidityProvider/components/LiquidityOverview/LiquidityOverview.tsx","containers/LiquidityProvider/LiquidityProvider.tsx","containers/LiquidityProvider/services/validateLiquidityProviderFormValues.ts","connectors/LiquidityProviderConnector/LiquidityProviderConnector.tsx","containers/ClaimEarnings/components/FinalizedMarketOutcomes/FinalizedMarketOutcomes.tsx","containers/ClaimEarnings/ClaimEarnings.tsx","containers/ClaimEarnings/services/calculatePayout.ts","connectors/ClaimEarningsConnector/ClaimEarningsConnector.tsx","containers/SeedPool/SeedPool.tsx","containers/SeedPool/services/createDefaultSeedPoolFormValues.ts","containers/SeedPool/services/validateSeedPool.ts","connectors/SeedPoolConnector/SeedPoolConnector.tsx","containers/MarketClosed/MarketClosed.tsx","containers/ExitPool/components/ExitOverview/ExitOverview.tsx","containers/ExitPool/ExitPool.tsx","containers/ExitPool/services/createDefaultExitPoolFormValues.ts","containers/ExitPool/services/validateExitPool.ts","connectors/ExitPoolConnector/ExitPoolConnector.tsx","containers/NotLoggedIn/NotLoggedIn.tsx","connectors/NotLoggedInConnector/NotLoggedInConnector.tsx","containers/NoBalanceCard/NoBalanceCard.tsx","connectors/NoBalanceCardConnector/NoBalanceCardConnector.tsx","containers/Redeem/components/RedeemOverview/RedeemOverview.tsx","containers/Redeem/Redeem.tsx","connectors/RedeemConnector/RedeemConnector.tsx","containers/NotInWhitelistCard/NotInWhitelistCard.tsx","compositions/LabeledTextInput/LabeledTextInput.tsx","containers/SeedScalarMarket/SeedScalarMarket.tsx","containers/SeedScalarMarket/utils/createDefaultSeedScalarFormValues.ts","containers/SeedScalarMarket/utils/validateSeedScalarMarket.ts","connectors/SeedScalarMarketConnector/SeedScalarMarketConnector.tsx","connectors/MarketCommentsConnector/MarketCommentsConnector.tsx","containers/NoBalanceDialog/NoBalanceDialog.tsx","connectors/NoBalanceDialogConnector/NoBalanceDialogConnector.tsx","services/DateService.ts","containers/TransactionsOverview/TransactionRows/AddLiquidityTransactionRow/AddLiquidityTransactionRow.tsx","containers/TransactionsOverview/TransactionRows/BuyTransactionRow/BuyTransactionRow.tsx","containers/TransactionsOverview/TransactionRows/SellTransactionRow/SellTransactionRow.tsx","containers/TransactionsOverview/TransactionRows/RemoveLiquidityTransactionRow/RemoveLiquidityTransactionRow.tsx","containers/TransactionsOverview/TransactionRows/RedeemTransactionRow/RedeemTransactionRow.tsx","containers/TransactionsOverview/TransactionRows/ClaimEarningsTransactionRow/ClaimEarningsTransactionRow.tsx","containers/TransactionsOverview/TransactionsOverview.tsx","connectors/AccountTransactionsConnector/AccountTransactionsConnector.tsx","pages/ProfilePage/sub-pages/TransactionsOverviewPage/TransactionsOverviewPage.tsx","containers/EscrowStatusOverview/EscrowStatusOverview.tsx","connectors/EscrowOverviewConnector/EscrowOverviewConnector.tsx","containers/FeesEarnedOverview/FeesEarnedOverview.tsx","connectors/FeesEarnedOverviewConnector/FeesEarnedOverviewConnector.tsx","containers/UserBalancesOverview/UserBalancesOverview.tsx","connectors/UserBalancesOverviewConnector/UserBalancesOverviewConnector.tsx","pages/ProfilePage/sub-pages/BalancesOverviewPage/BalancesOverviewPage.tsx","containers/ParticipatedMarketsOverview/ParticipatedMarketsOverview.tsx","connectors/ParticipatedMarketsConnector/ParticipatedMarketsConnector.tsx","pages/ProfilePage/sub-pages/ParticipatedMarketsOverviewPage/ParticipatedMarketsOverviewPage.tsx","routes.ts","pages/MarketPage/MarketPage.tsx","pages/ProfilePage/ProfilePage.tsx","pages/HomePage/HomePage.tsx","App.tsx","redux/pools/pools.ts","redux/reducers.ts","redux/store.ts","index.tsx","containers/TokenSelect/TokenSelect.module.scss","compositions/MarketOpinionCard/components/CategoricalOpinionCard/CategoricalOpinionCard.module.scss","containers/EscrowStatusOverview/EscrowStatusOverview.module.scss","containers/FeesEarnedOverview/FeesEarnedOverview.module.scss","containers/TokenSelect/components/TokenDropdown/TokenDropdown.module.scss","containers/MarketOverview/MarketOverview.module.scss","containers/ParticipatedMarketsOverview/ParticipatedMarketsOverview.module.scss","containers/Menu/Menu.module.scss","components/Tag/Tag.module.scss","containers/HomeHeader/HomeHeader.module.scss","compositions/MarketOpinionCard/components/ScalarOpinionCard/ScalarOpinionCard.module.scss","containers/TokenSwapper/TokenSwapper.module.scss","containers/Footer/Footer.module.scss","compositions/Dialog/Dialog.module.scss","containers/WrapNearDialog/WrapNearDialog.module.scss"],"names":["module","exports","accountSlice","createSlice","initialState","account","loading","poolTokenLoading","poolTokens","errors","balances","escrowStatus","accountSummary","unrealizedPnl","totalSpent","priceSymbol","accountTransactions","transactions","total","accountParticipatedMarkets","participatedMarkets","name","reducers","setAccount","state","action","payload","setNearToken","nearToken","setWrappedNearToken","wrappedNearToken","setRequiredWrappedNearDeposit","requiredWrappedNearDeposit","setAccountPoolTokens","setAccountLoading","setAccountPoolTokenLoading","setAccountBalances","setEscrowStatus","setUnrealizedPnl","setTotalSpent","setPriceSymbol","setAccountErrors","setAccountTransactions","setTotalAccountTransactions","setAccountTransactionsLoading","setAccountParticipatedMarkets","setTotalAccountParticipatedMarkets","setAccountParticipatedMarketsLoading","actions","transformToPoolBalanceViewModel","response","outcomeTags","length","map","poolBalance","poolWeight","Big","weight","outcomeId","outcome_id","outcomeLabel","price","balance","odds","sort","a","b","tag","index","FetchResultType","NULL_CONTRACT","process","COINGECKO_API_URL","PROTOCOL_ACCOUNT_ID","WRAPPED_NEAR_ACCOUNT_ID","DAI_NEAR_ACCOUNT_ID","PRICING_CACHE_TTL","MAX_GAS","BN","BUY","NETWORK","SELECTED_OUTCOME_TOKEN_STORAGE_KEY","DEFAULT_LIMIT","isFetchResultSuccesful","result","type","Success","PE","cacheStorage","Map","creationPromises","cache","id","createCallback","ttl","item","get","onGoingRequest","createRequest","set","createdItem","setTimeout","delete","getTokenPriceByTicker","ticker","currency","fetch","json","data","market_data","current_price","status","console","error","Error","sdkInstance","FluxSdk","network","protocolContractId","nullContractId","graphApiUrl","connectSdk","connect","connectWallet","sdk","walletConnection","formatCollateralToken","amount","decimals","dp","denominator","pow","div","toFixed","toCollateralToken","mul","getCollateralTokenBalance","tokenAccountId","accountId","getTokenBalance","getCollateralTokenPrice","getTokenImageByCollateralAccountId","collateralTokenId","wrappedNearIcon","bananaTokenIcon","daiTokenIcon","createDefaultTokenMetadata","reference","symbol","version","tokenImage","getCollateralTokenMetadata","defaultMetadata","getTokenMetadata","metadata","MarketCategory","MarketType","trans","key","attributes","uppercaseFirstLetter","translations","text","resultWithAttributes","label","options","replace","word","undefined","replaceAttributes","charAt","toUpperCase","substring","transformToClaimViewModel","graphData","collateralToken","payout","payoutFormatted","transformToMarketViewModel","graphResponse","userBalances","tokensInfo","pool","tokens_info","poolTokenInfo","find","info","is_pool_token","payoutNumerator","payout_numerator","marketType","is_scalar","Scalar","Categorical","formattedVolume","utils","formatToken","volume","volumeInMoney","toString","formattedLiquidity","liquidity","liquidityInMoney","category","categories","creationDate","creation_date","Date","Number","description","extraInfo","extra_info","finalized","owner","resolutionDate","parseInt","end_time","collateral_token_id","invalid","claim","claimed_earnings","outcomeTokens","transformToTokenViewModels","outcome_tags","pool_balances","totalSupply","total_supply","getMarketStatusTranslation","endTime","now","getTime","transformEscrowStatusViewModel","escrowStatusResponse","d","market","collateralTokenMetaData","push","totalAmount","total_amount","marketId","marketDescription","createOutcomes","values","outcomes","lowerBound","upperBound","createMarket","tokenMetadata","endDate","isScalar","swapFee","buyShares","buy","toToken","amountIn","amountOut","slippage","value","sellShares","sell","fromToken","getMarketById","isSignedIn","getAccountId","getBalancesForMarketByAccount","transformToMainTokenViewModel","getMarkets","filters","markets","marketsPromises","items","mark","Promise","all","getMarketOutcomeTokens","getMarketPoolBalances","claimEarnings","formatResolutionDate","format","isEligibleForRedeeming","tokens","some","token","toBurn","burnOutcomeTokensRedeemCollateral","getTokenWhiteListWithDefaultMetadata","getTokenWhitelist","whitelist","tokenId","getEscrowStatus","getScalarBounds","bounds","sortedBounds","sortBig","getScalarLongShortTokens","t","bound","longToken","eq","shortToken","COLORS","getColorForOutcome","generateTokenName","tokenName","str","start","end","splitted","split","match","slice","join","tags","poolBalanceData","isCollateralToken","poolBalances","outcome","userBalance","scalarName","balanceFormatted","tokenSymbol","priceSymbolPosition","spent","colorVar","collateralTokenAccountId","fetchPrice","metadataRequest","NaN","transformToPoolToken","collateralTokenMetadata","fees","poolId","collateralTokenDecimals","getMarketStatus","transformToUserBalance","outcomeTag","outcomePrice","pb","avgPaidPrice","payoutNumeratorForOutcome","currentPrice","profitPercentage","gt","minus","round","pool_id","marketStatus","transformToParticipatedMarket","participated_date","signUserIn","signIn","getAccountInfo","canUseApp","auth","isAuthenticated","getNearBalance","available","fetchEscrowStatus","onlyActive","signUserOut","signOut","getAccountBalancesInfo","removeClaimedBalances","removeZeroBalances","accountBalances","allCollateralTokenIds","earned_fees","filter","tokensMetadata","marketBalances","getAccountBalancesSummary","accountBalancesInfo","totalAvgPaidPrice","totalOutcomePrice","i","add","collateralTokenPrice","String","getAccountBalancesForMarket","colletaralTokenIds","x","getPoolBalanceForMarketByAccount","getPoolTokenBalance","getParticipatedMarkets","limit","offset","WrappedNearContract","contract","this","Contract","changeMethods","viewMethods","near_deposit","near_withdraw","account_id","storage_deposit","storage_balance_of","ft_balance_of","storage_minimum_balance","createWrappedNearContract","wallet","getNearToken","defaults","nearIcon","getWrappedNearToken","wNearContract","getBalance","wrapNear","unwrapNear","depositStorage","transformToTransaction","tx","FluxTransactionType","AddLiquidity","RemoveLiquidity","Redeem","market_id","date","input","output","getTransactionsForAccount","getTransactions","dispatch","loadAccountTransactions","reset","getState","currentLoadedTransactions","offest","loadAccountParticipatedMarkets","currentLoadedMarkets","BackgroundWave","className","s","TabBar","onTabClick","activeId","variant","tabClassName","Tabs","classes","indicator","classnames","root","tab","show","Tab","onClick","Footer","wrapper","logo","socials","href","social","rel","target","src","alt","Button","children","props","classname","button","useInterval","callback","delay","savedCallbackRef","useRef","useEffect","current","intervalId","setInterval","clearInterval","darkmodeStorageLabel","themeAttribute","modeChangeListener","getStoredDarkmode","localStorage","getItem","checkIfDarkmodeIsActive","darkmodeInDocumentTheme","document","documentElement","getAttribute","darkmodeInStorage","setDarkmode","darkmodeIsStored","storedDarkmodeSetting","siteTheme","setAttribute","useDarkmode","useState","active","setActive","newActive","DarkmodeButton","isDarkmodeActive","handleButtonClick","useCallback","setItem","IconButton","aria-label","icon","AccountButton","iconButton","Menu","onLoginClick","onLogoutClick","onProfileClick","onWrapNearClick","wrappedNear","menuAnchorEl","setMenuAnchorEl","handleMenuClose","menu","menu__items","menu__item","to","menu__logoWrapper","menu__logo","accountName","event","currentTarget","anchorEl","keepMounted","open","Boolean","onClose","disabled","dialogsSlice","isMarketCreationOpen","isWrappingNearOpen","noBalanceDialog","setMarketCreationDialogOpen","setWrappingNearDialogOpen","setNoBalanceDialog","MenuConnector","useDispatch","history","useHistory","accountInfo","useSelector","store","accountLoading","handleLoginClick","handleLogoutClick","handleProfileClick","routePaths","profile","handleWrapNearClick","iconComponent","Dialog","title","isInfoDialog","onRequestClose","onSubmitClick","canSubmit","hideButtons","paperClassName","paper","DialogTitle","DialogContent","content","DialogActions","cancelButton","confirmButton","TextButton","buttonClassName","Token","style","backgroundColor","NonLinkButton","TokenDropdown","onTokenClick","TokenSelect","selectedToken","onTokenSwitch","newPrice","onValueChange","showPrice","placeholder","disabledInput","isDropdownOpen","setDropdownOpen","handleChangePairClick","handleTokenClick","priceClassName","priceChangeWrapper","changePairButton","onChange","e","LabeledTokenSelect","onBalanceClick","tokenHeader","noMargin","balanceButton","icons","swap","viewBox","Icon","accentClassName","IconComponent","WrapNearDialog","onRequestSwitchPairs","onSubmit","requiredDeposit","onDepositClick","amountInFormatted","formValues","setFormValues","inputToken","lte","validateWrapNearFormValues","v","switchTokens","wrapType","swapIcon","depositButtons","depositCancelButton","WrapNearDialogConnector","switched","setSwitched","isDialogOpen","dialogs","handleRequestCloseDialog","nearTokenRequest","wrappedNeartokenRequest","handleRequestSwitchPairs","handleSubmit","handleDepositClick","depositWrappedNearStorage","DisclaimerDialog","dialog","DISCLAIMER_STORAGE_KEY","DisclaimerDialogConnector","setOpen","handleClose","Page","hasNavigation","hasFooter","size","bodyClassName","pageBodyClassName","styles","page__body","page","seedPool","addLiquidity","mainTokenInput","outcomePercentages","p","seedScalarMarket","weightsInPercentages","calcScalarDistributionPercentages","initialValue","exitPool","marketsSlice","marketLoading","editLoading","pendingMarkets","resolutingMarkets","tokenWhitelist","setMarketErrors","marketError","setTokenWhitelist","setMarketLoading","setMarketEditLoading","setPendingMarkets","appendPendingMarkets","setMarkets","appendMarkets","setResolutingMarkets","appendResolutingMarkets","setMarketDetail","marketDetail","setMarketDetailTokens","setMarketPoolTokenBalance","poolTokenBalance","setMarketEscrowStatus","getCategoryInfo","Crypto","circleIcon","circleCrypto","cardIcon","cardCrypto","iconCrypto","color","Esports","circleEsports","cardEsports","iconEsports","Meme","circleMeme","cardMeme","iconMeme","Politics","circlePolitics","cardPolitics","iconPolitics","Sports","circleSports","cardSports","iconSports","Startups","circleStartups","cardStartups","iconStartups","Stocks","circleStocks","cardStocks","iconStocks","Viral","circleViral","cardViral","iconViral","Unknown","Tag","categoryInfo","rootClassName","cardImage","MarketInfoCard","categoryTitle","bubble","bubbleIcon","resolutionInfo","TokenWeightsBar","width","prettyFormatNumber","num","CategoricalOpinionCard","showAllInfo","colorLabel","percentage","toNumber","volumeWrapper","ScalarOpinionCard","scalarTokens","scalarValue","calcScalarValue","rangeWrapper","estimateWrapper","MarketOpinionCard","MarketCard","pathname","canGoBack","infoCard","MarketOverview","onFilterChange","onRequestMoreMarkets","activeFilters","hasMoreMarkets","marketCategories","useMemo","Object","includes","activeCategories","cat","handleCategoryClick","dataLength","next","hasMore","loader","Array","fill","_","Skeleton","height","skeleton","MarketOverviewConnector","rootPath","defaultMarketFilters","onRequestFetchMarkets","location","useLocation","setFilters","queryParams","URLSearchParams","search","newActiveFilters","getAll","newFilters","forEach","append","FinalizedMarketsOverviewConnector","handleFetchMarkets","expired","fetchResolutingMarkets","resoluted","ResolutionPage","Helmet","appName","TradeableMarketsOverviewConnector","fetchMarkets","MarketsOverviewPage","DateTimePicker","helperText","inputVariant","ampm","Label","TextInput","multiline","required","TextField","AddableInputs","handleInputChange","inputs","number","removeIcon","splice","handleRemoveClick","addMoreButton","Select","select","MenuItem","ToggleButtons","exclusive","selectedClassName","ToggleButtonGroup","selected","MarketCreationDialog","formRef","Binary","addDays","isCategoricalMarket","o","trim","validateMarketFormValues","ref","inputsWrapper","MarketCreationDialogConnector","metadataPromises","realMetadata","handleRequestClose","HomeHeader","onCreateMarketClick","titleWrapper","username","subTitle","right","stats","link__green","link__red","HomeHeaderConnector","handleCreateMarketClick","PendingMarketsOverviewConnector","fetchPendingMarkets","pending","PendingPage","MarketHeader","onGoBackClick","headerItem","categoryTag","opinionCardWrapper","MarketHeaderLoader","MarketHeaderConnector","handleGoBackClick","goBack","MarketResolutionInfo","MarketResolutionInfoLoader","MarketResolutionInfoConnector","getCssVariableValue","getComputedStyle","getPropertyValue","generateChartData","priceHistoryData","outcomeData","dataSets","scalarData","historyData","longPriceOutcome","dataPoints","borderWidth","borderColor","cubicInterpolationMode","generateScalarChartData","outcomePriceData","outcomeDataPoints","isArray","outcomeToken","showLine","hidden","pointRadius","borderDash","pointHitRadius","pointHoverRadius","hideInLegendAndTooltip","labels","point","pointKey","datasets","LineChart","pricesHistory","canvas","previousChartData","chart","context","getContext","min","max","chartConfig","responsive","legend","display","animation","duration","elements","line","tension","tooltips","mode","intersect","callbacks","tooltipItem","dataSet","datasetIndex","scales","yAxes","gridLines","drawOnChartArea","drawTicks","ticks","fontColor","maxTicksLimit","stepSize","padding","xAxes","outcomeTokenNames","itemsData","itemValue","Chart","generateLineChart","prev","prevItem","currItem","pricesIndex","prevDataPoint","currDataPoint","containsNewChartData","update","Period","getAllHistoryMetric","diffDays","differenceInDays","DateMetric","week","day","hour","getPricesHistoryByMarketId","period","chosenPeriondDate","metric","month","OneDay","OneWeek","ThreeWeeks","OneMonth","All","subDays","subWeeks","subMonths","getPriceHistoryByMarketId","beginDate","MarketStatistics","onPeriodChange","timePeriodButtons","pricesHistorySlice","pricesLoading","setPriceHistoryErrors","pricesError","setPriceHistoryLoading","setPricesHistory","fetchPricesHistoryByMarketId","MarketStatisticsConnector","priceHistory","previousMarket","usePrevious","setPeriod","SwapType","Overview","header","getPricesAfterTrade","Buy","newPoolBalances","computeBalanceAfterSharePurchase","DEFAULT_FEE","calcPrice","computeBalanceAfterShareSale","SwapOverview","formattedFormValues","rateInOut","rateOutIn","feePaid","one","amountInBN","amountOutBN","feedAmount","mutateFormValues","divisor","overViewData","formattedAmountOut","avgSellPrice","spendAtAvgSellPrice","spendAtAvgPaidPrice","escrowInvalid","formattedEscrowInvalid","formattedOutNow","validateSwapFormValues","message","swapType","params","isTradePossible","TokenSwapper","outputs","onConfirm","rememberedOutcome","storage","parsedNum","isNaN","getNumberFromStorage","sessionStorage","formattedAmountIn","newPrices","mutation","lt","calcBuyAmountInShares","calcSellAmountInCollateral","newEstimate","receiveInputs","newEstimateWrapper","newEstimateText","TokenSwapperLoader","TokenSwapperConnector","ActionsCard","TabbedView","setActiveId","availableItems","activeItem","itemIndex","findIndex","tabs","onChangeIndex","view","element","LiquidityOverview","maxBalance","reduce","collateralIn","lpTokensOut","newTotalSupply","prependData","LiquidityProvider","liquidityAmountIn","liquidityAmountInFormatted","canAddLiquidity","inputAmount","validateLiquidityProviderFormValues","tokenSelect","confirm","LiquidityProviderConnector","onJoinPool","joinPool","FinalizedMarketOutcomes","table","numerator","ClaimFees","poolToken","onClaim","poolTokenTotalSupply","claimable","escrowValidMarket","n","bal","ts","claimableThroughExit","calculatePayout","ClaimEarningsConnector","handleClaim","claimEarningsForMarket","SeedPool","mainToken","onSeedPool","mainTokenInputFormatted","canSeed","percentageRaw","hasOutcomeErrors","percentageTogether","cur","validateSeedPool","inputWrapper","percentages","handlePercentageChange","InputProps","endAdornment","InputAdornment","position","adornement","SeedPoolConnector","handleSeedPool","MarketClosed","ExitOverview","relativeBal","tokenData","ExitPool","pooltoken","onExitPool","validateExitPool","ExitPoolConnector","handleExitPool","NotLoggedIn","NotLoggedInConnector","NoBalanceCard","onDialogOpenClick","actionsCard","NoWrappedNearCardConnector","handleOpenDialogClick","amountRedeemable","totalAvgPrice","sum","avgSpent","priceDelta","formattedToEscrow","toEscrow","onRedeemClick","RedeemConnector","toRedeem","lowestBalance","getEligibleAmountForRedeeming","handleRedeemClick","NotInWhitelistCard","LabeledTextInput","SeedScalarMarket","calcMedian","createDefaultSeedScalarFormValues","validateSeedScalarMarket","settedValue","SeedScalarMarketConnector","seedScalarMarketAction","MarketCommentsConnector","window","DISQUS","reload","shortname","config","identifier","NODE_ENV","url","NoBalanceDialog","linkButton","NoBalanceDialogconnector","prettyFormatDate","AddLiquidityTransactionRow","transaction","linkClassName","BuyTransactionRow","SellTransactionRow","RemoveLiquidityTransactionRow","RedeemTransactionRow","ClaimEarningsTransactionRow","TransactionsOverview","hasMoreTransactions","onRequestMoreTransactions","tableWrapper","tableHeadRow","tableRow","link","Sell","ClaimEarnings","AccountTransactionsConnector","accountTransactionsTotal","handleRequestMoreTransactions","TransactionsOverviewPage","EscrowStatusOverview","tableHead","marketDescriptionCell","EscrowOwerviewConnector","FeesEarnedOverview","descriptionCell","FeesEarnedOverviewConnector","UserBalancesOverview","profitLinkClassName","UserBalancesOverviewConnector","BalancesOverviewPage","feesEarned","ParticipatedMarketsOverview","ParticipatedMarketsConnector","handleRequestMoreMarkets","ParticipatedMarketsOverviewPage","profileTransactions","profileParticipated","routes","component","useParams","hasMarketLiquidity","isExpired","canRedeem","escrowStatusRequest","details","infoWrapper","actionsWrapper","comments","exact","inNavigation","path","isLargeScreen","useMediaQuery","pageBody","tabBar","accountBalancesSummary","homePage","homePageBody","App","route","poolsSlice","poolLoading","pools","setPoolErrors","poolError","setPoolLoading","setPools","combineReducers","createEnhancer","REACT_APP_APP_ENV","composeWithDevTools","applyMiddleware","thunk","preloadedState","enhancer","createStore","configureStore","ReactDOM","render","basename","hashType","DateFnsUtils","StylesProvider","injectFirst","getElementById","log","packageJson"],"mappings":"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","file":"static/js/main.d58492f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketInfoCard_root__2FEW4\",\"title\":\"MarketInfoCard_title__2n1-R\",\"bubble\":\"MarketInfoCard_bubble__1odeX\",\"bubbleIcon\":\"MarketInfoCard_bubbleIcon__20p89\",\"resolutionInfo\":\"MarketInfoCard_resolutionInfo__3OcCd\",\"categoryTitle\":\"MarketInfoCard_categoryTitle__3uYSK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overview\":\"Overview_overview__1wKTJ\",\"overview__container\":\"Overview_overview__container__WlsJY\",\"overview__info-row\":\"Overview_overview__info-row__rgR2G\",\"overview__info-key\":\"Overview_overview__info-key__2rp5i\",\"header\":\"Overview_header__1pgz6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketPage_root__3LPOC\",\"details\":\"MarketPage_details__3pbkK\",\"infoWrapper\":\"MarketPage_infoWrapper__1ZdyC\",\"actionsWrapper\":\"MarketPage_actionsWrapper__JWwEw\",\"stats\":\"MarketPage_stats__arHt3\",\"comments\":\"MarketPage_comments__2mb0X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addMoreButton\":\"AddableInputs_addMoreButton__2k3JV\",\"input\":\"AddableInputs_input__2fSt_\",\"inputs\":\"AddableInputs_inputs__3gwjp\",\"actions\":\"AddableInputs_actions__14mC0\",\"removeIcon\":\"AddableInputs_removeIcon__3xKav\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actionsCard\":\"NoBalanceCard_actionsCard__c2TbU\",\"content\":\"NoBalanceCard_content__1MlDb\",\"icon\":\"NoBalanceCard_icon__TcaVn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__1vav1\",\"page__body\":\"Page_page__body__3V8v2\",\"page__body--large\":\"Page_page__body--large__27pTP\",\"page__body--unrestricted\":\"Page_page__body--unrestricted__3wRih\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skeleton\":\"TokenSwapperLoader_skeleton__19zxP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"SeedPool_inputWrapper__1iNWT\",\"confirmButton\":\"SeedPool_confirmButton__2E-cv\",\"adornement\":\"SeedPool_adornement__2s7XG\",\"tokenTitles\":\"SeedPool_tokenTitles__12Whr\",\"balanceButton\":\"SeedPool_balanceButton__3R1WM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"SeedScalarMarket_inputWrapper__1tGFj\",\"tokenTitles\":\"SeedScalarMarket_tokenTitles__1aCdd\",\"balanceButton\":\"SeedScalarMarket_balanceButton__skdSy\",\"bounds\":\"SeedScalarMarket_bounds__1ZJ5Z\",\"confirmButton\":\"SeedScalarMarket_confirmButton__1ZOMm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TabBar_root__djI5v\",\"tab\":\"TabBar_tab__1berB\",\"indicator\":\"TabBar_indicator__2t7kc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Lf63\",\"button--text\":\"Button_button--text__1fOOx\",\"button--outlined\":\"Button_button--outlined__1yYVj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DarkmodeButton_root__2Vz6z\",\"icon\":\"DarkmodeButton_icon__2I4vN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tokenHeader\":\"LabeledTokenSelect_tokenHeader__1xCbR\",\"balanceButton\":\"LabeledTokenSelect_balanceButton__1RE2w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DisclaimerDialog_dialog__3rljq\",\"description\":\"DisclaimerDialog_description__3rCL0\",\"button\":\"DisclaimerDialog_button__Hmpr6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"HomePage_homePage__1J6Li\",\"homePageBody\":\"HomePage_homePageBody__1soNb\",\"tabBar\":\"HomePage_tabBar__1DeXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketHeaderLoader_root__2LBTq\",\"wrapper\":\"MarketHeaderLoader_wrapper__1Gjam\",\"skeleton\":\"MarketHeaderLoader_skeleton__o_qZI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"TabbedViews_tabs__OJlbM\",\"tab\":\"TabbedViews_tab__38YT2\",\"view\":\"TabbedViews_view__1X6gU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userBalances\":\"BalancesOverviewPage_userBalances__3DKGd\",\"feesEarned\":\"BalancesOverviewPage_feesEarned__1eD0X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ProfilePage_root__2aAdj\",\"pageBody\":\"ProfilePage_pageBody__3-nCN\",\"userBalances\":\"ProfilePage_userBalances__2nnA0\",\"feesEarned\":\"ProfilePage_feesEarned__1UCF4\",\"tabBar\":\"ProfilePage_tabBar__16OC7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TextButton_root__1-4XU\",\"disabled\":\"TextButton_disabled__3WZUn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token\":\"Token_token__3WyPN\",\"tokenImage\":\"Token_tokenImage__2PzVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketCard_root__h9Hyf\",\"infoCard\":\"MarketCard_infoCard__1rzGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-weights-bar\":\"TokenWeightsBar_token-weights-bar__m-jIF\",\"token-weights-bar__weight\":\"TokenWeightsBar_token-weights-bar__weight__dLbBM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__JK0vz\",\"icon\":\"Select_icon__2tpm0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ToggleButtons_button__3I0Ud\",\"selected\":\"ToggleButtons_selected__DQend\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketResolutionInfo_root__2t0wL\",\"title\":\"MarketResolutionInfo_title__Sb4IU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timePeriodButtons\":\"MarketStatistics_timePeriodButtons__315vn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"LiquidityProvider_confirm__uAEJF\",\"tokenSelect\":\"LiquidityProvider_tokenSelect__145e7\",\"header\":\"LiquidityProvider_header__3s-_C\",\"balanceButton\":\"LiquidityProvider_balanceButton__2If4o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"ClaimEarnings_confirm__3mCYg\",\"claimable\":\"ClaimEarnings_claimable__2-bQN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirm\":\"ExitPool_confirm__1B_mc\",\"tokenSelect\":\"ExitPool_tokenSelect__1Slsh\",\"header\":\"ExitPool_header__MxyTH\",\"balanceButton\":\"ExitPool_balanceButton__M8N-z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"linkButton\":\"NoBalanceDialog_linkButton__1bxkN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background-wave\":\"BackgroundWave_background-wave__2kjEj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"accountMenuButton\":\"AccountButton_accountMenuButton__KooJW\",\"iconButton\":\"AccountButton_iconButton__coipq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__T_9Pn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon-button\":\"IconButton_icon-button__2Mu5G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"non-link-button\":\"NonLinkButton_non-link-button__1th1A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__2Th0s\",\"stroke\":\"Icon_stroke__lrqeC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketOpinionCard_root__388St\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DateTimePicker_root__2vHn-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Label_root__ppqno\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TextInput_root__1xHrc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skeleton\":\"MarketResolutionInfoLoader_skeleton__2_ygu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ActionCard_root__2bQ7m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"FinalizedMarketOutcomes_table__1Sj0h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirmButton\":\"NotLoggedIn_confirmButton__11_az\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirmButton\":\"Redeem_confirmButton__7E_AB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"MarketCreationDialog_filters__1wQ7F\",\"filter\":\"MarketCreationDialog_filter__rL3p7\",\"inputsWrapper\":\"MarketCreationDialog_inputsWrapper__kSF9k\",\"categories\":\"MarketCreationDialog_categories__3I7_N\",\"label\":\"MarketCreationDialog_label__QojXy\",\"marketType\":\"MarketCreationDialog_marketType__3aOaA\",\"marketType--selected\":\"MarketCreationDialog_marketType--selected___aiij\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"UserBalancesOverview_root__3reWC\",\"header\":\"UserBalancesOverview_header__2kUYq\",\"tableWrapper\":\"UserBalancesOverview_tableWrapper__6m6ae\",\"table\":\"UserBalancesOverview_table__3DImk\",\"tableHeadRow\":\"UserBalancesOverview_tableHeadRow__3X1FY\",\"tableRow\":\"UserBalancesOverview_tableRow__2crSB\",\"link\":\"UserBalancesOverview_link__GWe9h\",\"link__green\":\"UserBalancesOverview_link__green__11rAR\",\"link__red\":\"UserBalancesOverview_link__red__d3m7m\",\"marketDescriptionCell\":\"UserBalancesOverview_marketDescriptionCell__27mR3\",\"marketDescription\":\"UserBalancesOverview_marketDescription__2QGff\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketHeader_root__3D1Vw\",\"wrapper\":\"MarketHeader_wrapper__2d74u\",\"title\":\"MarketHeader_title__2Xliv\",\"resolutionDate\":\"MarketHeader_resolutionDate__2TtDh\",\"headerItem\":\"MarketHeader_headerItem__MJJc3\",\"categoryTag\":\"MarketHeader_categoryTag__QLYfv\",\"bubble\":\"MarketHeader_bubble__uH7BP\",\"bubbleIcon\":\"MarketHeader_bubbleIcon__RlLsy\",\"opinionCardWrapper\":\"MarketHeader_opinionCardWrapper__WzifQ\",\"market-header__back-button\":\"MarketHeader_market-header__back-button__1U-Qq\",\"market-header__resolution-date-title\":\"MarketHeader_market-header__resolution-date-title__3IhYu\",\"market-header__resolution-date-stamp\":\"MarketHeader_market-header__resolution-date-stamp__1BcaE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"TransactionsOverview_header__2OYei\",\"tableWrapper\":\"TransactionsOverview_tableWrapper__2TVso\",\"table\":\"TransactionsOverview_table__314PW\",\"tableHeadRow\":\"TransactionsOverview_tableHeadRow__3y1QY\",\"tableRow\":\"TransactionsOverview_tableRow__8wsDh\",\"link\":\"TransactionsOverview_link__2w-OO\",\"marketDescription\":\"TransactionsOverview_marketDescription__2hFoW\"};","import Big from \"big.js\";\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Account } from '../../models/Account';\nimport { EscrowStatus } from '../../models/EscrowStatus';\nimport { ParticipatedMarket } from '../../models/ParticipatedMarket';\nimport { PoolToken } from '../../models/PoolToken';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { Transaction } from '../../models/Transaction';\nimport { UserBalance } from '../../models/UserBalance';\n\nexport type AccountState = Readonly<{\n    account: Account | null;\n    loading: boolean;\n    poolTokens: PoolToken[];\n    balances: UserBalance[];\n    poolTokenLoading: boolean;\n    nearToken?: TokenViewModel;\n    wrappedNearToken?: TokenViewModel;\n    requiredWrappedNearDeposit?: string;\n    errors: string[];\n    escrowStatus: EscrowStatus[];\n    accountSummary: {\n        unrealizedPnl: Big | null;\n        totalSpent: string | null;\n        priceSymbol: string | null;\n    };\n    accountTransactions: {\n        loading: boolean;\n        transactions: Transaction[];\n        total: number;\n    };\n    accountParticipatedMarkets: {\n        loading: boolean;\n        participatedMarkets: ParticipatedMarket[];\n        total: number;\n    }\n}>;\n\nconst initialState: AccountState = {\n    account: null,\n    loading: false,\n    poolTokenLoading: false,\n    poolTokens: [],\n    errors: [],\n    balances: [],\n    escrowStatus: [],\n    accountSummary: {\n        unrealizedPnl: null,\n        totalSpent: null,\n        priceSymbol: null,\n    },\n    accountTransactions: {\n        loading: false,\n        transactions: [],\n        total: 1000,\n    },\n    accountParticipatedMarkets: {\n        loading: false,\n        participatedMarkets: [],\n        total: 1000,\n    }\n};\n\nconst accountSlice = createSlice({\n    initialState,\n    name: 'account',\n    reducers: {\n        setAccount(state: AccountState, action: PayloadAction<Account | null>): AccountState {\n            return ({\n                ...state,\n                account: action.payload,\n            });\n        },\n        setNearToken(state: AccountState, action: PayloadAction<TokenViewModel | undefined>): AccountState {\n            return ({\n                ...state,\n                nearToken: action.payload,\n            });\n        },\n        setWrappedNearToken(state: AccountState, action: PayloadAction<TokenViewModel | undefined>): AccountState {\n            return ({\n                ...state,\n                wrappedNearToken: action.payload,\n            });\n        },\n        setRequiredWrappedNearDeposit(state: AccountState, action: PayloadAction<string | undefined>): AccountState {\n            return ({\n                ...state,\n                requiredWrappedNearDeposit: action.payload,\n            });\n        },\n        setAccountPoolTokens(state: AccountState, action: PayloadAction<PoolToken[]>): AccountState {\n            return ({\n                ...state,\n                poolTokens: action.payload,\n            });\n        },\n        setAccountLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                loading: action.payload,\n            });\n        },\n        setAccountPoolTokenLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                poolTokenLoading: action.payload,\n            });\n        },\n        setAccountBalances(state: AccountState, action: PayloadAction<UserBalance[]>): AccountState {\n            return ({\n                ...state,\n                balances: action.payload,\n            });\n        },\n        setEscrowStatus(state: AccountState, action: PayloadAction<EscrowStatus[]>): AccountState {\n            return ({\n                ...state,\n                escrowStatus: action.payload,\n            });\n        },\n        setUnrealizedPnl(state: AccountState, action: PayloadAction<Big>): AccountState {\n            return ({\n                ...state,\n                accountSummary: {\n                    ...state.accountSummary,\n                    unrealizedPnl: action.payload,\n                }\n            });\n        },\n        setTotalSpent(state: AccountState, action: PayloadAction<string>): AccountState {\n            return ({\n                ...state,\n                accountSummary: {\n                    ...state.accountSummary,\n                    totalSpent: action.payload,\n                }\n            });\n        },\n        setPriceSymbol(state: AccountState, action: PayloadAction<string>): AccountState {\n            return ({\n                ...state,\n                accountSummary: {\n                    ...state.accountSummary,\n                    priceSymbol: action.payload,\n                }\n            });\n        },\n        setAccountErrors(state: AccountState, action: PayloadAction<string[]>): AccountState {\n            return ({\n                ...state,\n                errors: action.payload,\n            });\n        },\n        setAccountTransactions(state: AccountState, action: PayloadAction<Transaction[]>): AccountState {\n            return ({\n                ...state,\n                accountTransactions: {\n                    ...state.accountTransactions,\n                    transactions: action.payload,\n                }\n            });\n        },\n        setTotalAccountTransactions(state: AccountState, action: PayloadAction<number>): AccountState {\n            return ({\n                ...state,\n                accountTransactions: {\n                    ...state.accountTransactions,\n                    total: action.payload,\n                }\n            });\n        },\n        setAccountTransactionsLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                accountTransactions: {\n                    ...state.accountTransactions,\n                    loading: action.payload,\n                }\n            });\n        },\n        setAccountParticipatedMarkets(state: AccountState, action: PayloadAction<ParticipatedMarket[]>): AccountState {\n            return ({\n                ...state,\n                accountParticipatedMarkets: {\n                    ...state.accountParticipatedMarkets,\n                    participatedMarkets: action.payload,\n                }\n            });\n        },\n        setTotalAccountParticipatedMarkets(state: AccountState, action: PayloadAction<number>): AccountState {\n            return ({\n                ...state,\n                accountParticipatedMarkets: {\n                    ...state.accountParticipatedMarkets,\n                    total: action.payload,\n                }\n            });\n        },\n        setAccountParticipatedMarketsLoading(state: AccountState, action: PayloadAction<boolean>): AccountState {\n            return ({\n                ...state,\n                accountParticipatedMarkets: {\n                    ...state.accountParticipatedMarkets,\n                    loading: action.payload,\n                }\n            });\n        }\n    },\n});\n\nexport const {\n    setAccount,\n    setAccountErrors,\n    setAccountLoading,\n    setAccountPoolTokenLoading,\n    setAccountPoolTokens,\n    setAccountBalances,\n    setNearToken,\n    setWrappedNearToken,\n    setRequiredWrappedNearDeposit,\n    setEscrowStatus,\n    setUnrealizedPnl,\n    setTotalSpent,\n    setPriceSymbol,\n    setAccountTransactions,\n    setTotalAccountTransactions,\n    setAccountTransactionsLoading,\n    setAccountParticipatedMarkets,\n    setAccountParticipatedMarketsLoading,\n    setTotalAccountParticipatedMarkets,\n} = accountSlice.actions;\n\nexport default accountSlice.reducer;\n","import Big from \"big.js\";\nexport interface PoolBalanceViewModel {\n    outcomeId: number;\n    price: number;\n    weight: number;\n    poolWeight: Big;\n    outcomeLabel: string;\n    poolBalance: string;\n    odds: Big;\n}\n\nexport interface PoolBalanceGraphData {\n    id: string;\n    pool_id: string;\n    outcome_id: number;\n    account_id: string;\n    balance: string;\n    price: number;\n    weight: string;\n    odds: string;\n}\n\nexport function transformToPoolBalanceViewModel(response: PoolBalanceGraphData[], outcomeTags: string[]): PoolBalanceViewModel[] {\n    if (!response.length) {\n        return outcomeTags.map((tag, index) => ({\n            outcomeId: index,\n            outcomeLabel: tag,\n            poolWeight: new Big('0'),\n            price: 0,\n            weight: 0,\n            poolBalance: \"0\",\n            odds: new Big(0),\n        }));\n    }\n\n    return response.map((poolBalance) => {\n        const poolWeight = new Big(poolBalance.weight);\n\n        return {\n            outcomeId: poolBalance.outcome_id,\n            outcomeLabel: outcomeTags[poolBalance.outcome_id],\n            price: poolBalance.price,\n            poolWeight,\n            poolBalance: poolBalance.balance,\n            weight: 0,\n            odds: new Big(poolBalance.odds),\n        };\n    }).sort((a, b) => a.outcomeId - b.outcomeId);\n}\n","export enum FetchResultType {\n    Error = 'error',\n    Success = 'success',\n}\n\nexport interface SuccessfulFetchResult<T> {\n    status: number;\n    data: T;\n    type: FetchResultType.Success;\n}\n\nexport interface UnsuccessfulFetchResult<E> {\n    status: number;\n    error: E;\n    type: FetchResultType.Error;\n}\n\nexport type FetchResult<T, E> = SuccessfulFetchResult<T> | UnsuccessfulFetchResult<E>;\n\nexport function isFetchResultSuccesful<T, E>(result: FetchResult<T, E>): result is SuccessfulFetchResult<T> {\n    return result.type === FetchResultType.Success;\n}\n","import BN from 'bn.js';\nimport Big from 'big.js';\nexport const API_URL = process.env.REACT_APP_API_URL || '';\nexport const NULL_CONTRACT = process.env.REACT_APP_NULL_CONTRACT ?? 'null_contract.flux-dev';\nexport const COINGECKO_API_URL = process.env.REACT_APP_COINGECKO_API_URL || '';\nexport const PROTOCOL_ACCOUNT_ID = process.env.REACT_APP_PROTOCOL_ACCOUNT_ID || 'amm.flux-dev';\nexport const FUNGIBLE_TOKEN_ACCOUNT_ID = process.env.REACT_APP_FUNGIBLE_TOKEN_ACCOUNT_ID || 'ft.flux-dev';\nexport const WRAPPED_NEAR_ACCOUNT_ID = process.env.REACT_APP_WRAPPED_NEAR_ACCOUNT_ID || 'wrap.near';\nexport const BANANAS_NEAR_ACCOUNT_ID = process.env.REACT_APP_BANANAS_ACCOUNT_ID || 'berryclub.ek.near';\nexport const DAI_NEAR_ACCOUNT_ID = process.env.REACT_APP_DAI_ACCOUNT_ID || '6b175474e89094c44da98b954eedeac495271d0f.factory.bridge.near';\nexport const AUTH_ACCOUNT_ID = process.env.REACT_APP_AUTH_ACCOUNT_ID || '';\nexport const ENABLE_WHITELIST = process.env.REACT_APP_ENABLE_WHITELIST === 'true';\nexport const DUST_AMOUNT = 10000000000;\nexport const PRICING_CACHE_TTL = 5000;\nexport const MAX_GAS = new BN(\"200000000000000\");\nexport const STORAGE_DEFAULT = new BN(\"300800000000000000000000\");\nexport const STORAGE_BASE = new BN('30000000000000000000000');\nexport const ZERO = new BN(\"0\");\nexport const BUY = \"BUY\";\nexport const SELL = \"SELL\";\nexport const DEFAULT_FEE = 2; // 2%\nexport const DEFAULT_SLIPPAGE = 2; // 2%\nexport const NODE_ENV = process.env.NODE_ENV;\nexport const NETWORK: 'testnet' | 'mainnet' | 'custom' = process.env.REACT_APP_NETWORK as any || 'testnet';\nexport const SCALAR_VALUE_DECIMALS = 2;\nexport const SELECTED_OUTCOME_TOKEN_STORAGE_KEY = `flux_selected_outcome_${NETWORK}_`;\nexport const REF_FINANCE_LINK = 'https://app.ref.finance/';\nexport const RAINBOW_BRIDGE_LINK = 'https://ethereum.bridgetonear.org/';\n\n\nexport const DEFAULT_LIMIT = 100;\n\nBig.PE = 1000000;\n","const cacheStorage = new Map<string, any>();\nconst creationPromises = new Map<string, Promise<any>>();\n\n/**\n * Caches an item by it's id and returns it if it's requested again.\n * If it does not exist it asks you to create the item\n *\n * @export\n * @template T\n * @param {string} id\n * @param {() => Promise<T>} createCallback\n * @return {Promise<T>}\n */\nexport default async function cache<T>(id: string, createCallback: () => Promise<T>, ttl?: number): Promise<T> {\n    const item = cacheStorage.get(id);\n    if (item) return item;\n\n    // No need to create another item when the request is already going\n    // Instead we just redirect the promise back to this call\n    // Caching will be handled by the iniator\n    const onGoingRequest = creationPromises.get(id);\n    if (onGoingRequest) return onGoingRequest;\n\n    // Keep track of all ongoing promises\n    const createRequest = createCallback();\n    creationPromises.set(id, createRequest);\n\n    try {\n        const createdItem = await createRequest;\n        cacheStorage.set(id, createdItem);\n\n        if (ttl) {\n            setTimeout(() => {\n                cacheStorage.delete(id);\n            }, ttl);\n        }\n\n        return createdItem;\n    } catch (error) {\n        throw error;\n    } finally {\n        creationPromises.delete(id);\n    }\n}\n","import { COINGECKO_API_URL } from \"../config\";\nimport { FetchResult, FetchResultType } from \"../models/FetchResult\";\n\nexport async function getTokenPriceByTicker(ticker: string, currency = 'usd'): Promise<FetchResult<number, string>> {\n    try {\n        const response = await fetch(`${COINGECKO_API_URL}/coins/${ticker}?localization=false`);\n        const data = await response.json();\n\n        return {\n            type: FetchResultType.Success,\n            data: data.market_data.current_price[currency],\n            status: response.status,\n        }\n    } catch (error) {\n        console.error('[getCurrentMainTokenPrice]', error);\n\n        return {\n            type: FetchResultType.Error,\n            error,\n            status: 500,\n        }\n    }\n}\n\n\n","import {\n    Near,\n    WalletConnection,\n} from \"near-api-js\";\n\nimport FluxSdk from '@fluxprotocol/amm-sdk';\n\nimport { API_URL, NETWORK, NULL_CONTRACT, PROTOCOL_ACCOUNT_ID } from '../config';\n\nlet sdkInstance = new FluxSdk({\n    network: NETWORK,\n    protocolContractId: PROTOCOL_ACCOUNT_ID,\n    nullContractId: NULL_CONTRACT,\n    graphApiUrl: API_URL,\n});\n\nexport async function connectSdk(): Promise<FluxSdk> {\n    await sdkInstance.connect();\n    return sdkInstance;\n}\n\nexport async function connectNear(): Promise<Near> {\n    const sdk = await connectSdk();\n    return sdk.near!;\n}\n\nexport async function connectWallet(): Promise<WalletConnection> {\n    const sdk = await connectSdk();\n    return sdk.walletConnection!;\n}\n\n\n\n\n","export default __webpack_public_path__ + \"static/media/wrapped-near.8b3a5e4b.svg\";","export default __webpack_public_path__ + \"static/media/banana-token.1f4ead34.svg\";","export default __webpack_public_path__ + \"static/media/dai-token.1096719c.svg\";","// import { utils } from 'near-api-js';\nimport Big from 'big.js';\n\nimport { BANANAS_NEAR_ACCOUNT_ID, WRAPPED_NEAR_ACCOUNT_ID, DAI_NEAR_ACCOUNT_ID, PRICING_CACHE_TTL } from \"../config\";\nimport { isFetchResultSuccesful } from \"../models/FetchResult\";\nimport { TokenMetadata } from '../models/TokenMetadata';\nimport cache from '../utils/cache';\nimport { getTokenPriceByTicker } from \"./TokenPriceService\";\nimport { connectSdk } from \"./WalletService\";\nimport wrappedNearIcon from '../assets/images/icons/wrapped-near.svg';\nimport bananaTokenIcon from '../assets/images/icons/banana-token.svg';\nimport daiTokenIcon from '../assets/images/icons/dai-token.svg';\n\nexport function formatCollateralToken(amount: string, decimals: number, dp = 2): string {\n    const denominator = new Big(10).pow(decimals);\n    return new Big(amount).div(denominator).toFixed(dp);\n}\n\nexport function toCollateralToken(amount: string, decimals: number): string {\n    const denominator = new Big(10).pow(decimals);\n    return new Big(amount).mul(denominator).toFixed(0);\n}\n\nexport interface AccountTokenBalance {\n    balance: string;\n    balanceFormatted: string;\n}\n\nexport async function getCollateralTokenBalance(tokenAccountId: string, accountId: string): Promise<string> {\n    try {\n        const sdk = await connectSdk();\n        const balance = await sdk.getTokenBalance(tokenAccountId, accountId);\n\n        return balance;\n    } catch (error) {\n        console.error('[getCollateralTokenBalance]', error);\n        return '0';\n    }\n}\n\nexport async function getCollateralTokenPrice(tokenAccountId: string): Promise<number> {\n    if (tokenAccountId === WRAPPED_NEAR_ACCOUNT_ID) {\n        return cache(`${tokenAccountId}_price`, async () => {\n            const response = await getTokenPriceByTicker('near');\n\n            if (isFetchResultSuccesful(response)) {\n                return response.data;\n            }\n\n            return 0;\n        }, PRICING_CACHE_TTL);\n    } else if (tokenAccountId === DAI_NEAR_ACCOUNT_ID) {\n        return cache(`${tokenAccountId}_price`, async () => {\n            const response = await getTokenPriceByTicker('dai');\n\n            if (isFetchResultSuccesful(response)) {\n                return response.data;\n            }\n\n            return 0;\n        }, PRICING_CACHE_TTL);\n    }\n\n    return 0;\n}\n\nexport function getTokenImageByCollateralAccountId(collateralTokenId: string): string | undefined {\n    if (collateralTokenId === WRAPPED_NEAR_ACCOUNT_ID) {\n        return wrappedNearIcon;\n    } else if (collateralTokenId === BANANAS_NEAR_ACCOUNT_ID) {\n        return bananaTokenIcon;\n    } else if (collateralTokenId === DAI_NEAR_ACCOUNT_ID) {\n        return daiTokenIcon;\n    }\n\n    return undefined;\n}\n\nexport function createDefaultTokenMetadata(collateralTokenId: string): TokenMetadata {\n    return {\n        decimals: collateralTokenId === WRAPPED_NEAR_ACCOUNT_ID ? 24 : 18,\n        name: collateralTokenId,\n        reference: '',\n        symbol: collateralTokenId,\n        version: '0',\n        collateralTokenId,\n        tokenImage: getTokenImageByCollateralAccountId(collateralTokenId),\n    };\n}\n\nexport async function getCollateralTokenMetadata(collateralTokenId: string): Promise<TokenMetadata> {\n    const defaultMetadata = createDefaultTokenMetadata(collateralTokenId);\n\n    try {\n        if (!collateralTokenId) return defaultMetadata;\n\n        const metadata = await cache(`metadata_${collateralTokenId}`, async () => {\n            const sdk = await connectSdk();\n            return sdk.getTokenMetadata(collateralTokenId);\n        });\n\n        return {\n            ...defaultMetadata,\n            ...metadata,\n            collateralTokenId,\n        };\n    } catch (error) {\n        console.error('[getCollateralTokenMetadata]', error);\n\n        return defaultMetadata;\n    }\n}\n","import FluxSdk from \"@fluxprotocol/amm-sdk\";\nimport Big from \"big.js\";\nimport trans from \"../translation/trans\";\nimport { ClaimViewModel, GraphClaimResponse, transformToClaimViewModel } from \"./Claim\";\nimport { TokenViewModel, transformToTokenViewModels } from \"./TokenViewModel\";\nimport { UserBalance } from \"./UserBalance\";\n\nexport enum MarketCategory {\n    Stocks = 'stocks',\n    Esports = 'esports',\n    Meme = 'meme',\n    Politics = 'politics',\n    Viral = 'viral',\n    Crypto = 'crypto',\n    Sports = 'sports',\n    Startups = 'startups',\n    Unknown = 'unknown',\n}\n\nexport enum MarketType {\n    Binary = 'binary',\n    Categorical = 'categorical',\n    Scalar = 'scalar',\n}\n\nexport interface GraphMarketResponse {\n    creation_date: string | null;\n    description: string;\n    outcome_tags: string[];\n    end_time: string;\n    extra_info: string;\n    finalized: boolean;\n    id: string;\n    volume: string;\n    liquidity: string | null;\n    categories: string[];\n    payout_numerator?: string[] | null;\n    claimed_earnings?: GraphClaimResponse;\n    is_scalar?: boolean;\n    pool: {\n        owner: string;\n        collateral_token_id: string;\n        pool_balances: {\n            weight: string;\n            outcome_id: number;\n            balance: string;\n            price: number;\n        }[];\n        tokens_info?: {\n            is_pool_token: boolean;\n            total_supply: string;\n        }[];\n    }\n}\n\nexport interface MarketViewModel {\n    id: string;\n    finalized: boolean;\n    creationDate?: Date;\n    owner: string;\n    description: string;\n    resolutionDate: Date;\n    volume: string;\n    volumeInMoney: string;\n    liquidity: string;\n    liquidityInMoney: string;\n    category: (MarketCategory | string)[];\n    extraInfo: string;\n    collateralTokenId: string;\n    outcomeTokens: TokenViewModel[];\n    collateralToken: TokenViewModel;\n    invalid: boolean;\n    payoutNumerator: string[] | null;\n    claim?: ClaimViewModel;\n    type: MarketType;\n    poolTokenInfo: {\n        totalSupply: string;\n    };\n}\n\nexport async function transformToMarketViewModel(\n    graphResponse: GraphMarketResponse,\n    collateralToken: TokenViewModel,\n    userBalances: UserBalance[] = [],\n): Promise<MarketViewModel> {\n    const tokensInfo = graphResponse.pool.tokens_info || [];\n    const poolTokenInfo = tokensInfo.find(info => info.is_pool_token);\n    const payoutNumerator = graphResponse.payout_numerator ? graphResponse.payout_numerator : null;\n    const marketType = graphResponse.is_scalar ? MarketType.Scalar : MarketType.Categorical;\n\n    const formattedVolume = FluxSdk.utils.formatToken(graphResponse.volume, collateralToken.decimals);\n    const volumeInMoney = new Big(formattedVolume).mul(collateralToken.price).toString();\n    const formattedLiquidity = FluxSdk.utils.formatToken(graphResponse.liquidity ?? '0', collateralToken.decimals);\n    const liquidityInMoney = new Big(formattedLiquidity).mul(collateralToken.price).toString();\n\n    return {\n        id: graphResponse.id,\n        type: marketType,\n        category: graphResponse.categories || [],\n        creationDate: graphResponse.creation_date ? new Date(Number(graphResponse.creation_date)) : undefined,\n        description: graphResponse.description,\n        extraInfo: graphResponse.extra_info,\n        finalized: graphResponse.finalized,\n        owner: graphResponse.pool.owner,\n        resolutionDate: new Date(parseInt(graphResponse.end_time)),\n        volume: graphResponse.volume,\n        volumeInMoney,\n        liquidity: graphResponse.liquidity ?? '0',\n        liquidityInMoney,\n        collateralTokenId: graphResponse.pool.collateral_token_id,\n        collateralToken,\n        invalid: graphResponse.finalized && payoutNumerator === null,\n        payoutNumerator,\n        claim: graphResponse.claimed_earnings ? transformToClaimViewModel(graphResponse.claimed_earnings, collateralToken) : undefined,\n        outcomeTokens: transformToTokenViewModels(\n            graphResponse.outcome_tags,\n            graphResponse.pool.pool_balances as any,\n            userBalances,\n            marketType,\n            false,\n            collateralToken,\n        ),\n        poolTokenInfo: {\n            totalSupply: poolTokenInfo?.total_supply || '0',\n        }\n    }\n}\n\n\nexport function getMarketStatusTranslation(endTime: number, payoutNumerator: string[] | null, finalized: boolean): string {\n    const now = new Date();\n\n    if (finalized && payoutNumerator !== null) {\n        return trans('marketStatus.finalized');\n    } else if (finalized && payoutNumerator === null) {\n        return trans('marketStatus.invalid');\n    } else if (!finalized && now.getTime() >= endTime) {\n        return trans('marketStatus.resoluting');\n    } else {\n        return trans('marketStatus.ongoing');\n    }\n}\n","import translations from './lang/translations.eng.json';\n\ninterface Attributes {\n    [key: string]: string;\n}\n\nfunction replaceAttributes(label: string, options: Attributes = {}): string {\n    // Replaces any \":key\" with a value in the options\n    return label.replace(/:(\\w+)/gi, (word) => {\n        const key = word.replace(/^:/, '');\n\n        if (options[key] === undefined || options[key] === null) {\n            return '';\n        }\n\n        return options[key];\n    });\n}\n\nexport function ucFirstLetter(text: string): string {\n    return text.charAt(0).toUpperCase() + text.substring(1);\n}\n\n\nexport default function trans(key: string, attributes?: Attributes, uppercaseFirstLetter?: boolean): string {\n    // @ts-ignore\n    const result: string = translations[key];\n\n    if (!result) {\n        return key;\n    }\n\n    const resultWithAttributes = replaceAttributes(result, attributes);\n    return uppercaseFirstLetter ? ucFirstLetter(resultWithAttributes) : resultWithAttributes;\n}\n\nexport function booleanToYesNo(bool = false): string {\n    return bool ? trans('global.yes') : trans('global.no');\n}\n","import { formatCollateralToken } from \"../services/CollateralTokenService\";\nimport { TokenViewModel } from \"./TokenViewModel\";\n\nexport interface GraphClaimResponse {\n    payout: string;\n}\n\nexport interface ClaimViewModel {\n    payout: string;\n    payoutFormatted: string;\n}\n\nexport function transformToClaimViewModel(graphData: GraphClaimResponse, collateralToken: TokenViewModel): ClaimViewModel {\n    return {\n        payout: graphData.payout,\n        payoutFormatted: formatCollateralToken(graphData.payout, collateralToken.decimals),\n    }\n}\n","import { getCollateralTokenMetadata } from \"../services/CollateralTokenService\";\nimport { TokenMetadata } from \"./TokenMetadata\";\n\nexport interface EscrowStatusResponse {\n    total_amount: string;\n    type: 'valid_escrow' | 'invalid_escrow';\n    market: {\n        id: string,\n        description: string,\n        pool: {\n            collateral_token_id: string\n        }\n    }\n}\n\nexport interface EscrowStatus {\n    totalAmount: string;\n    type: 'valid_escrow' | 'invalid_escrow';\n    marketId: string,\n    marketDescription: string,\n    collateralToken: TokenMetadata\n}\n\nexport async function transformEscrowStatusViewModel(escrowStatusResponse: EscrowStatusResponse[]) : Promise<EscrowStatus[]> {\n    const escrowStatus = [];\n    for await (const d of escrowStatusResponse) {\n        let collateralTokenMetaData = await getCollateralTokenMetadata(d.market.pool.collateral_token_id);\n        escrowStatus.push({\n            totalAmount: d.total_amount,\n            type: d.type,\n            marketId: d.market.id,\n            marketDescription: d.market.description,\n            collateralToken: collateralTokenMetaData\n        })\n    }\n    return escrowStatus;\n}","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\nimport { format } from 'date-fns';\nimport { DEFAULT_FEE, DEFAULT_SLIPPAGE } from '../config';\nimport { Account } from '../models/Account';\nimport { EscrowStatus, transformEscrowStatusViewModel } from \"../models/EscrowStatus\";\n\nimport { MarketCategory, MarketType, MarketViewModel, transformToMarketViewModel } from '../models/Market';\nimport { TokenMetadata } from '../models/TokenMetadata';\nimport { TokenViewModel, transformToMainTokenViewModel, transformToTokenViewModels } from '../models/TokenViewModel';\nimport { UserBalance } from '../models/UserBalance';\nimport trans from '../translation/trans';\nimport cache from '../utils/cache';\nimport { getBalancesForMarketByAccount } from './AccountService';\nimport { createDefaultTokenMetadata, getCollateralTokenMetadata } from './CollateralTokenService';\nimport { SwapFormValues } from './SwapService';\nimport { connectSdk } from './WalletService';\n\nexport interface MarketFormValues {\n    type: MarketType;\n    isCategoricalMarket: boolean;\n    categories: MarketCategory[];\n    resolutionDate: Date;\n    description: string;\n    outcomes: string[];\n    extraInfo: string;\n    collateralTokenId: string;\n    lowerBound: Big;\n    upperBound: Big;\n}\n\nfunction createOutcomes(values: MarketFormValues): string[] {\n    if (values.type === MarketType.Categorical) {\n        return values.outcomes;\n    }\n\n    if (values.type === MarketType.Scalar) {\n        return [\n            values.lowerBound.toString(),\n            values.upperBound.toString(),\n        ];\n    }\n\n    return [\n        trans('market.outcomes.yes'),\n        trans('market.outcomes.no'),\n    ];\n}\n\nexport async function createMarket(values: MarketFormValues): Promise<void> {\n    try {\n        const sdk = await connectSdk();\n        const outcomes = createOutcomes(values);\n        const tokenMetadata = await getCollateralTokenMetadata(values.collateralTokenId);\n        const formattedFee = 100 / DEFAULT_FEE;\n\n        sdk.createMarket({\n            description: values.description,\n            endDate: values.resolutionDate,\n            extraInfo: values.extraInfo,\n            outcomes,\n            categories: values.categories,\n            collateralTokenId: values.collateralTokenId,\n            isScalar: values.type === MarketType.Scalar,\n            swapFee: new Big(`1e${tokenMetadata.decimals}`).div(formattedFee).toString(),\n        });\n    } catch (error) {\n        console.error('[createMarket]', error);\n    }\n}\n\nexport async function buyShares(market: MarketViewModel, values: SwapFormValues): Promise<void> {\n    const sdk = await connectSdk();\n\n    sdk.buy({\n        marketId: market.id,\n        collateralTokenId: market.collateralTokenId,\n        outcomeId: values.toToken.outcomeId,\n        amountIn: values.amountIn,\n        amountOut: values.amountOut,\n        slippage: DEFAULT_SLIPPAGE,\n    }, {\n        // can be removed once fees aren't funded\n        value: '1'\n    });\n}\n\nexport async function sellShares(market: MarketViewModel, values: SwapFormValues) {\n    const sdk = await connectSdk();\n\n    sdk.sell({\n        marketId: market.id,\n        amountIn: values.amountIn,\n        amountOut: values.amountOut,\n        outcomeId: values.fromToken.outcomeId,\n        slippage: DEFAULT_SLIPPAGE,\n    }, {\n        // can be removed once fees aren't funded\n        value: '1',\n    });\n}\n\nexport async function getMarketById(marketId: string): Promise<MarketViewModel | null> {\n    try {\n        const sdk = await connectSdk();\n        let accountId: string | undefined = undefined;\n\n        if (sdk.isSignedIn()) {\n            accountId = sdk.getAccountId();\n        }\n\n        const market = await sdk.getMarketById(marketId, accountId);\n        let balances: UserBalance[] = [];\n\n        if (accountId) {\n            balances = await getBalancesForMarketByAccount(accountId, marketId);\n        }\n\n        const collateralToken = await transformToMainTokenViewModel(market.pool.collateral_token_id, accountId);\n        return transformToMarketViewModel(market, collateralToken, balances);\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return null;\n    }\n\n}\n\nexport interface MarketFilters {\n    categories?: MarketCategory[];\n    expired?: boolean;\n    finalized?: boolean;\n    limit?: number;\n    offset?: number;\n}\n\nexport async function getMarkets(filters: MarketFilters): Promise<MarketViewModel[]> {\n    try {\n        const sdk = await connectSdk();\n        const markets = await sdk.getMarkets(filters);\n        const marketsPromises = markets.items.map(async (market) => {\n            const collateralToken = await transformToMainTokenViewModel(market.pool.collateral_token_id);\n            return transformToMarketViewModel(market, collateralToken);\n        });\n\n        return Promise.all(marketsPromises);\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n\nexport async function getMarketOutcomeTokens(marketId: string, collateralToken?: TokenViewModel, account?: Account): Promise<TokenViewModel[]> {\n    try {\n        const sdk = await connectSdk();\n        const result = await sdk.getMarketPoolBalances(marketId);\n        const accountId = account?.accountId;\n        let balances: UserBalance[] = [];\n\n        if (accountId) {\n            balances = await getBalancesForMarketByAccount(accountId, marketId);\n        }\n\n        return transformToTokenViewModels(\n            result.outcome_tags,\n            result.pool.pool_balances as any,\n            balances,\n            result.is_scalar ? MarketType.Scalar : MarketType.Categorical,\n            false,\n            collateralToken,\n        );\n    } catch (error) {\n        console.error('[getMarketOutcomeTokens]', error);\n        return [];\n    }\n}\n\nexport async function getResolutingMarkets(): Promise<MarketViewModel[]> {\n    try {\n        return getMarkets({\n            expired: true,\n            finalized: true,\n        });\n    } catch (error) {\n        console.error('[getMarketById]', error);\n        return [];\n    }\n}\n\nexport async function claimEarningsForMarket(marketId: string) {\n    const sdk = await connectSdk();\n    sdk.claimEarnings(marketId);\n}\n\nexport function formatResolutionDate(resolutionDate: Date): string {\n    return format(resolutionDate, 'MMMM d, yyyy HH:mm');\n}\n\n/**\n * Checks whether or not user is eligible for swapping their shares for a collateral token\n *\n * @export\n * @param {TokenViewModel[]} tokens\n * @return {boolean}\n */\nexport function isEligibleForRedeeming(tokens: TokenViewModel[]): boolean {\n    return !tokens.some(token => token.balance === '0');\n}\n\nexport function getEligibleAmountForRedeeming(tokens: TokenViewModel[]): Big {\n    if (!isEligibleForRedeeming(tokens)) {\n        return new Big(0);\n    }\n\n    let lowestBalance = new Big(tokens[0].balance);\n\n    tokens.forEach((token) => {\n        const balance = new Big(token.balance);\n\n        if (balance.lt(lowestBalance)) {\n            lowestBalance = balance;\n        }\n    });\n\n    return lowestBalance;\n}\n\nexport async function burnOutcomeTokensRedeemCollateral(marketId: string, toBurn: string) {\n    const sdk = await connectSdk();\n    await sdk.burnOutcomeTokensRedeemCollateral(marketId, toBurn);\n}\n\nexport async function getTokenWhiteListWithDefaultMetadata(): Promise<TokenMetadata[]> {\n    const sdk = await connectSdk();\n    return cache('token_whitelist', async () => {\n        const whitelist = await sdk.getTokenWhitelist();\n        return whitelist.map(token => createDefaultTokenMetadata(token.tokenId));\n    });\n}\n\nexport async function getEscrowStatus(marketId: string, accountId: string): Promise<EscrowStatus[]> {\n    const sdk = await connectSdk();\n    const escrowStatus = await sdk.getEscrowStatus(accountId, marketId)\n    return transformEscrowStatusViewModel(escrowStatus);\n}\n\nexport function getScalarBounds(bounds: Big[]): { lowerBound: Big, upperBound: Big } {\n    const sortedBounds = FluxSdk.utils.sortBig(bounds);\n\n    return {\n        lowerBound: sortedBounds[0],\n        upperBound: sortedBounds[sortedBounds.length - 1],\n    }\n}\n\ninterface ScalarLongShortTokensResult {\n    longToken: TokenViewModel,\n    shortToken: TokenViewModel,\n    lowerBound: Big,\n    upperBound: Big,\n}\n\nexport function getScalarLongShortTokens(tokens: TokenViewModel[]): ScalarLongShortTokensResult {\n    const bounds = getScalarBounds(tokens.map(t => t.bound));\n\n    return {\n        longToken: tokens.find(t => t.bound.eq(bounds.upperBound)) as TokenViewModel,\n        shortToken: tokens.find(t => t.bound.eq(bounds.lowerBound)) as TokenViewModel,\n        lowerBound: bounds.lowerBound,\n        upperBound: bounds.upperBound,\n    }\n}\n","const COLORS = [\n    '--c-option-1',\n    '--c-option-2',\n    '--c-option-3',\n    '--c-option-4',\n    '--c-option-5',\n    '--c-option-6',\n    '--c-option-7',\n    '--c-option-8',\n];\n\nexport function getColorForOutcome(outcomeId: number, isScalar = false) {\n    if (isScalar && outcomeId === 0) {\n        return COLORS[1];\n    }\n\n    if (isScalar && outcomeId === 1) {\n        return COLORS[0];\n    }\n\n\n    return COLORS[outcomeId];\n}\n","import Big from \"big.js\";\n\nimport { PoolBalanceGraphData, transformToPoolBalanceViewModel } from \"./PoolBalance\";\nimport { formatCollateralToken, getCollateralTokenBalance, getCollateralTokenMetadata, getCollateralTokenPrice } from '../services/CollateralTokenService';\nimport { UserBalance } from \"./UserBalance\";\nimport emojiSlice from \"../utils/emojiSlice\";\nimport { MarketType } from \"./Market\";\nimport { getScalarBounds } from \"../services/MarketService\";\nimport trans from \"../translation/trans\";\nimport { getColorForOutcome } from \"../utils/getColorForOutcome\";\n\nexport interface TokenViewModel {\n    tokenImage?: string;\n    tokenName: string;\n    balance: string;\n    balanceFormatted: string;\n    price: number;\n    priceSymbol: string;\n    priceSymbolPosition: 'left' | 'right';\n    tokenSymbol: string;\n    outcomeId: number;\n    tokenAccountId?: string;\n    poolWeight: Big;\n    poolBalance: string;\n    weight: number;\n    spent: string,\n    odds: Big;\n    decimals: number;\n    isCollateralToken: boolean;\n    bound: Big;\n    colorVar: string;\n}\n\n/**\n * Generates a short token name (max 3 characters) for a token\n *\n * @export\n * @param {string} tokenName\n * @return {string}\n */\nexport function generateTokenName(tokenName: string): string {\n    if (tokenName.length <= 3) {\n        return tokenName.toUpperCase();\n    }\n\n    const splitted = tokenName.split(' ');\n\n    if (splitted.length === 2) {\n        // Takes the first character of every spaced word\n        // so for Kanye West it would be KW\n        return (splitted[0][0] + splitted[1][0]).toUpperCase();\n    } else if (splitted.length === 3) {\n        // Same but for 3 letters\n        return (splitted[0][0] + splitted[1][0] + splitted[2][0]).toUpperCase();\n    }\n\n    return emojiSlice(tokenName, 0, 3).toUpperCase();\n}\n\n/**\n * Transforms to a tokenview model shape\n *\n * @export\n * @param {string[]} tags\n * @param {PoolBalanceGraphData[]} [poolBalanceData=[]]\n * @param {UserBalance[]} userBalances\n * @return {TokenViewModel[]}\n */\nexport function transformToTokenViewModels(\n    tags: string[],\n    poolBalanceData: PoolBalanceGraphData[] = [],\n    userBalances: UserBalance[],\n    type: MarketType,\n    isCollateralToken = false,\n    collateralToken?: TokenViewModel,\n): TokenViewModel[] {\n    const poolBalances = transformToPoolBalanceViewModel(poolBalanceData, tags);\n    const bounds = type === MarketType.Scalar ? getScalarBounds(tags.map(t => new Big(t))) : undefined;\n\n    return tags.map((outcome, outcomeId) => {\n        const poolBalance = poolBalances.find(poolBalance => poolBalance.outcomeId === outcomeId);\n        const userBalance = userBalances.find(userBalance => userBalance.outcomeId === outcomeId);\n        const bound = type === MarketType.Scalar ? new Big(outcome) : new Big(0);\n        const scalarName = bounds?.lowerBound.eq(bound) ? trans('market.outcomes.short') : trans('market.outcomes.long');\n\n        return {\n            balance: userBalance?.balance || '0',\n            balanceFormatted: formatCollateralToken(userBalance?.balance ?? '0', collateralToken?.decimals ?? 18),\n            outcomeId,\n            price: poolBalance?.price || 0,\n            priceSymbol: collateralToken?.tokenSymbol || '$',\n            priceSymbolPosition: 'right',\n            tokenSymbol: type === MarketType.Scalar ? scalarName : generateTokenName(outcome),\n            tokenName: type === MarketType.Scalar ? scalarName : outcome,\n            poolBalance: poolBalance?.poolBalance || \"0\",\n            poolWeight: poolBalance?.poolWeight || new Big(0),\n            weight: poolBalance?.weight || 0,\n            spent: userBalance?.spent ?? \"0\",\n            decimals: collateralToken?.decimals ?? 18,\n            odds: poolBalance?.odds || new Big(0),\n            isCollateralToken,\n            bound,\n            colorVar: getColorForOutcome(outcomeId, type === MarketType.Scalar),\n        };\n    });\n}\n\n/**\n * Used for the collateralToken fills some information to keep the shape of TokenViewModel\n *\n * @export\n * @param {string} collateralTokenAccountId\n * @param {string} [accountId]\n * @param {boolean} [fetchPrice=true]\n * @return {Promise<TokenViewModel>}\n */\nexport async function transformToMainTokenViewModel(\n    collateralTokenAccountId: string,\n    accountId?: string,\n    fetchPrice = true\n): Promise<TokenViewModel> {\n    let balance = '0';\n\n    const metadataRequest = getCollateralTokenMetadata(collateralTokenAccountId);\n\n    if (accountId) {\n        balance = await getCollateralTokenBalance(collateralTokenAccountId, accountId);\n    }\n\n    const metadata = await metadataRequest;\n\n    return {\n        balance,\n        balanceFormatted: formatCollateralToken(balance, metadata.decimals),\n        decimals: metadata.decimals,\n        outcomeId: NaN,\n        poolWeight: new Big(0),\n        price: fetchPrice ? await getCollateralTokenPrice(collateralTokenAccountId) : 0,\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        tokenName: metadata.name,\n        tokenSymbol: metadata.symbol,\n        spent: \"0\",\n        poolBalance: \"\",\n        weight: 0,\n        tokenAccountId: collateralTokenAccountId,\n        odds: new Big(0),\n        isCollateralToken: true,\n        tokenImage: metadata.tokenImage,\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    };\n}\n","/**\n * slices a string and assumes that an emoji is 1 character instead of a unicode string\n *\n * @export\n * @param {string} str\n * @param {number} start\n * @param {number} end\n * @return {string}\n */\nexport default function emojiSlice(str: string, start: number, end: number): string {\n    var arr = str.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[^\\uD800-\\uDFFF]/g) || [];\n    return arr.slice(start, end).join('');\n};\n","import Big from 'big.js';\nimport { formatCollateralToken } from '../services/CollateralTokenService';\nimport trans from '../translation/trans';\nimport { TokenMetadata } from './TokenMetadata';\nimport { TokenViewModel } from './TokenViewModel';\nimport { GraphUserBalancesItem } from './UserBalance';\n\nexport interface EarnedFeesGraphData {\n    fees: string;\n    outcomeId: number;\n    poolId: string;\n    balance: string;\n    market?: {\n        description: string;\n        pool: {\n            collateral_token_id: string;\n        }\n    }\n}\n\nexport interface GraphAcountBalancesResponse {\n    earned_fees: EarnedFeesGraphData[];\n    balances: GraphUserBalancesItem[];\n}\n\nexport interface PoolToken {\n    outcomeId: number;\n    poolId: string;\n    fees: string;\n    collateralTokenDecimals: number;\n    balance: string;\n    balanceFormatted: string;\n    marketDescription: string;\n    marketId: string;\n}\n\nexport function transformToPoolToken(graphData: EarnedFeesGraphData, collateralTokenMetadata: TokenMetadata): PoolToken {\n    return {\n        balanceFormatted: formatCollateralToken(graphData.balance, collateralTokenMetadata.decimals),\n        balance: graphData.balance,\n        fees: graphData.fees,\n        marketDescription: graphData.market?.description ?? '',\n        marketId: graphData.poolId,\n        outcomeId: graphData.outcomeId,\n        poolId: graphData.poolId,\n        collateralTokenDecimals: collateralTokenMetadata.decimals ?? 18,\n    }\n}\n\nexport function transformPoolTokenToTokenViewModel(pooltoken: PoolToken): TokenViewModel {\n    return {\n        balance: pooltoken.balance,\n        balanceFormatted: pooltoken.balanceFormatted,\n        decimals: pooltoken.collateralTokenDecimals,\n        odds: new Big(0),\n        outcomeId: NaN,\n        poolBalance: '0',\n        poolWeight: new Big(0),\n        price: 0,\n        spent: \"0\",\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        tokenName: trans('global.poolToken'),\n        tokenSymbol: '',\n        weight: 0,\n        isCollateralToken: false,\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    };\n}\n","import Big from \"big.js\";\nimport { formatCollateralToken } from \"../services/CollateralTokenService\";\nimport trans from \"../translation/trans\";\nimport { TokenMetadata } from \"./TokenMetadata\";\n\nexport interface UserBalance {\n    outcomeId: number;\n    balance: string;\n    marketId: string;\n    marketDescription: string;\n    marketStatus: string;\n    outcomeTag: string;\n    collateralTokenMetadata: TokenMetadata;\n    spent: string;\n    avgPaidPrice: Big;\n    profitPercentage: Big;\n    outcomePrice: number;\n    payoutNumerator: string[] | null;\n}\n\nexport interface GraphUserBalancesItem {\n    balance: string;\n    outcome_id: number;\n    pool_id: string;\n    spent?: string;\n    market?: {\n        description: string;\n        outcome_tags: string[];\n        finalized: boolean;\n        end_time: string;\n        payout_numerator: string[] | null;\n        is_scalar: boolean;\n        pool: {\n            collateral_token_id: string;\n            pool_balances?: {\n                outcome_id: number,\n                price: number\n            }[];\n        }\n    }\n}\n\nexport interface GraphUserBalanceResponse {\n    balances: GraphUserBalancesItem[];\n}\n\nexport function getMarketStatus(data: GraphUserBalancesItem['market']) {\n    if (!data) {\n        return trans('marketStatus.uknown');\n    }\n\n    const endTime = new Date(parseInt(data.end_time));\n    const now = new Date();\n\n    if (data.finalized && data.payout_numerator !== null) {\n        return trans('marketStatus.finalized');\n    } else if (data.finalized && data.payout_numerator === null) {\n        return trans('marketStatus.invalid');\n    } else if (!data.finalized && now.getTime() >= endTime.getTime()) {\n        return trans('marketStatus.resoluting');\n    } else {\n        return trans('marketStatus.ongoing');\n    }\n}\n\nexport function transformToUserBalance(graphData: GraphUserBalancesItem, collateralTokenMetadata: TokenMetadata): UserBalance {\n    const isScalar = graphData.market?.is_scalar;\n    let outcomeTag = graphData.market?.outcome_tags[graphData.outcome_id] ?? '';\n    const outcomeId = graphData.outcome_id;\n    const outcomePrice = graphData.market?.pool.pool_balances?.find(pb => pb.outcome_id === graphData.outcome_id)?.price ?? 0;\n    const spent = new Big(graphData.spent ?? '0');\n    const payoutNumerator = graphData.market?.payout_numerator || null;\n    const avgPaidPrice = graphData.balance === '0' ? new Big(0) : spent.div(graphData.balance);\n    const payoutNumeratorForOutcome = payoutNumerator && payoutNumerator[outcomeId] ? payoutNumerator[outcomeId] : '0';\n    const currentPrice = payoutNumerator ? formatCollateralToken(payoutNumeratorForOutcome, collateralTokenMetadata.decimals) : outcomePrice.toString();\n    const profitPercentage = avgPaidPrice.gt(\"0\") ? new Big(currentPrice).minus(avgPaidPrice).div(avgPaidPrice).mul(100).round(2) : new Big(\"0\");\n\n    if (isScalar) {\n        if (graphData.outcome_id === 0) {\n            outcomeTag = trans('market.outcomes.short');\n        } else {\n            outcomeTag = trans('market.outcomes.long');\n        }\n    }\n\n    return {\n        avgPaidPrice,\n        balance: graphData.balance,\n        outcomeId,\n        spent: spent.toString(),\n        marketId: graphData.pool_id,\n        marketDescription: graphData.market?.description || '',\n        marketStatus: getMarketStatus(graphData.market),\n        outcomeTag,\n        collateralTokenMetadata,\n        outcomePrice,\n        payoutNumerator,\n        profitPercentage,\n    }\n}\n","import { ParticipatedMarket as FluxParticipatedMarket } from '@fluxprotocol/amm-sdk';\nimport { getMarketStatusTranslation } from './Market';\n\nexport interface ParticipatedMarket {\n    participated_date: Date;\n    marketId: string;\n    marketDescription: string;\n    marketStatus: string;\n}\n\nexport function transformToParticipatedMarket(item: FluxParticipatedMarket): ParticipatedMarket {\n    return {\n        participated_date: new Date(Number(item.participated_date)),\n        marketDescription: item.market.description,\n        marketId: item.market.id,\n        marketStatus: getMarketStatusTranslation(\n            Number(item.market.end_time),\n            item.market.payout_numerator,\n            item.market.finalized\n        ),\n    }\n}\n","import Big from \"big.js\";\nimport { Account } from \"../models/Account\";\nimport { transformToMainTokenViewModel } from \"../models/TokenViewModel\";\nimport { PoolToken, transformToPoolToken } from \"../models/PoolToken\";\nimport { transformToUserBalance, UserBalance } from \"../models/UserBalance\";\nimport { getCollateralTokenMetadata, formatCollateralToken } from \"./CollateralTokenService\";\nimport createAuthContract from \"./contracts/AuthContract\";\nimport { connectSdk } from \"./WalletService\";\nimport { ENABLE_WHITELIST } from \"../config\";\nimport { EscrowStatus, transformEscrowStatusViewModel } from \"../models/EscrowStatus\";\nimport { ParticipatedMarket, transformToParticipatedMarket } from \"../models/ParticipatedMarket\";\nimport { Pagination } from \"@fluxprotocol/amm-sdk/dist/models/Pagination\";\n\nexport async function signUserIn() {\n    const sdk = await connectSdk();\n    sdk.signIn();\n}\n\nexport async function getAccountId(): Promise<string | null> {\n    const sdk = await connectSdk();\n    return sdk.getAccountId() ?? null;\n}\n\nexport async function getAccountInfo(): Promise<Account | null> {\n    const sdk = await connectSdk();\n\n    if (!sdk.isSignedIn()) {\n        return null;\n    }\n\n    let canUseApp = true;\n    const accountId = sdk.getAccountId() ?? '';\n\n    if (ENABLE_WHITELIST) {\n        const auth = await createAuthContract();\n        canUseApp = await auth.isAuthenticated(accountId);\n    }\n\n    return {\n        accountId,\n        balance: (await sdk.getNearBalance()).available,\n        canUseApp,\n    };\n}\n\n\nexport async function fetchEscrowStatus(accountId: string): Promise<EscrowStatus[]> {\n    const sdk = await connectSdk();\n\n    const escrowStatus = await sdk.getEscrowStatus(accountId, undefined, {\n        onlyActive: true,\n    });\n\n    return transformEscrowStatusViewModel(escrowStatus);\n};\n\nexport async function signUserOut() {\n    const sdk = await connectSdk();\n    sdk.signOut();\n}\n\ninterface AccountBalancesInfo {\n    poolTokens: PoolToken[];\n    marketBalances: UserBalance[];\n}\n\ninterface AccountBalancesSummary {\n    unrealizedPnl: Big;\n    totalSpent: string;\n    priceSymbol: string;\n}\n\nexport async function getAccountBalancesInfo(accountId: string): Promise<AccountBalancesInfo> {\n    try {\n        const sdk = await connectSdk();\n        const accountBalances = await sdk.getAccountInfo(accountId, {\n            removeClaimedBalances: true,\n            removeZeroBalances: true,\n        });\n\n        // Find all collateral tokens\n        let allCollateralTokenIds: string[] = accountBalances.earned_fees.map(item => item.market?.pool.collateral_token_id || '');\n        allCollateralTokenIds.push(...accountBalances.balances.map(item => item.market?.pool.collateral_token_id || ''));\n        allCollateralTokenIds = allCollateralTokenIds.filter(item => item);\n\n        // Fetch all token metadata\n        const tokensMetadata = await Promise.all(allCollateralTokenIds.map(item => getCollateralTokenMetadata(item)));\n\n        // Transform the fees\n        const poolTokens = accountBalances.earned_fees.map((data) => {\n            const tokenMetadata = tokensMetadata.find(metadata => metadata.collateralTokenId === data.market?.pool.collateral_token_id);\n            return transformToPoolToken(data, tokenMetadata!);\n        });\n\n        // Transform the balances\n        const marketBalances = accountBalances.balances.map((data) => {\n            const tokenMetadata = tokensMetadata.find(metadata => metadata.collateralTokenId === data.market?.pool.collateral_token_id);\n            return transformToUserBalance(data, tokenMetadata!);\n        }).sort((a, b) => {\n            if (a.profitPercentage.gt(b.profitPercentage)) return -1;\n            if (a.profitPercentage.eq(b.profitPercentage)) return 0;\n            return 1;\n        });\n\n        return {\n            poolTokens,\n            marketBalances,\n        };\n    } catch (error) {\n        console.error('[getPoolTokensByAccountId]', error);\n        return {\n             poolTokens: [],\n             marketBalances: [],\n        };\n    }\n}\n\nexport async function getAccountBalancesSummary(accountId: string): Promise<AccountBalancesSummary> {\n    let accountBalancesInfo = await getAccountBalancesInfo(accountId);\n\n    if (accountBalancesInfo.marketBalances.length === 0) {\n        return {\n            unrealizedPnl: new Big(\"0\"),\n            totalSpent: \"\",\n            priceSymbol: \"\",\n        }\n    }\n\n    let totalAvgPaidPrice = new Big(\"0\");\n    let totalOutcomePrice = 0;\n    let spent = \"0.00\";\n    let priceSymbol = \"\";\n    let account = await getAccountId();\n\n    // loop through each market balance to find collateral token balances\n    for (let i = 0; i < accountBalancesInfo.marketBalances.length; i++) {\n        totalAvgPaidPrice = accountBalancesInfo.marketBalances[i].avgPaidPrice.add(totalAvgPaidPrice);\n        totalOutcomePrice += accountBalancesInfo.marketBalances[i].outcomePrice;\n\n        let collateralToken = await transformToMainTokenViewModel(accountBalancesInfo.marketBalances[i].collateralTokenMetadata.collateralTokenId, account!);\n\n        // calculate the price of the collateral token and add it to the total spent\n        let collateralTokenPrice = Number(formatCollateralToken(accountBalancesInfo.marketBalances[i].spent, collateralToken.decimals)) * collateralToken.price;\n        spent = String(\n            (Number(spent) + collateralTokenPrice).toFixed(2)\n        );\n\n        // assume same price symbol for all tokens (usually $ for USD)\n        if (i === 0) {\n            priceSymbol = collateralToken.priceSymbol;\n        }\n    }\n\n    const unrealizedPnl = totalAvgPaidPrice.gt(\"0\") ? new Big(totalOutcomePrice).minus(totalAvgPaidPrice).div(totalAvgPaidPrice).mul(100).round(2) : new Big(\"0\");\n    const totalSpent = String(spent);\n\n    return {\n        unrealizedPnl,\n        totalSpent,\n        priceSymbol,\n    };\n}\n\nexport async function getBalancesForMarketByAccount(accountId: string, marketId: string): Promise<UserBalance[]> {\n    try {\n        const sdk = await connectSdk();\n        const balances = await sdk.getAccountBalancesForMarket(marketId, accountId);\n        const colletaralTokenIds = balances.map(item => item.market?.pool.collateral_token_id || '').filter(x => x);\n        const tokenMetadata = await Promise.all(colletaralTokenIds.map(id => getCollateralTokenMetadata(id)));\n\n        return balances.map((balance) => {\n            const metadata = tokenMetadata.find(metadata => metadata.collateralTokenId === balance.market?.pool.collateral_token_id);\n            return transformToUserBalance(balance, metadata!)\n        });\n} catch (error) {\n    console.error('[getBalancesForMarketByAccount]', error);\n        return [];\n    }\n}\n\nexport async function getPoolBalanceForMarketByAccount(accountId: string, marketId: string): Promise<PoolToken | null> {\n    try {\n        const sdk = await connectSdk();\n        const data = await sdk.getPoolTokenBalance(accountId, marketId);\n\n        if (!data) {\n            return null;\n        }\n\n        const collateralTokenMetadata = await getCollateralTokenMetadata(data.market?.pool.collateral_token_id || '');\n        return transformToPoolToken(data, collateralTokenMetadata);\n    } catch (error) {\n        console.error('[getBalancesForMarketByAccount]', error);\n        return null;\n    }\n}\n\nexport async function getParticipatedMarkets(accountId: string, limit: number, offset: number): Promise<Pagination<ParticipatedMarket>> {\n    const sdk = await connectSdk();\n    const result = await sdk.getParticipatedMarkets(accountId, {\n        limit,\n        offset,\n    });\n\n    if (!result) return {\n        total: 0,\n        items: []\n    }\n\n    const participatedMarkets = result.items.map((item) => {\n        return transformToParticipatedMarket(item);\n    });\n\n    return {\n        items: participatedMarkets,\n        total: result.total,\n    }\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAHlBMVEXi4uLJysvx8fGqq6z///9ydHaQkpNPUVQxNDckJyrxLYRSAAADBUlEQVR42u3a2RbiIAwG4CwEyPu/8Fy4gWVrp4aZc9JrsZ/Y36Q2EP7JA5zlLGc5y1nOcpaznOUsZznLWc5ylrOc5SxnOctZf8UCZGbGC58EmOOpdeuvBcmqqqpZTsIwPdfh/SzWz5H5jCp+FvLdrFJ15v1DkHJdvJcFtUozXtgrVVW8lSX67YJLu6xCN7K+N0tV09L7Y/5eBzey+MhSWXn3g2rxqoQrF8jq5Qvpyqq/ZE0/OCXdwZrFUXQLaxLH9iID1jCOnLexBnHElPM2VvcsmFJuumxYnTiSpI7LiNWMI8WUOi4jVjOOUUQ+rmzByjKNI0cpXLnK5M9YIJOuAGOUwsVgwzoUlfpUEGPpisGIdSzBXN9OcOGKZMY6tFFFHAkfrKdLKNixDpXlHUdC5NJFwZJ1+Ml4xRGwckGwZR26lkd1JMDCFSFYs5pxJILShcGc1Y4jEcD7e8SwgdWOY7FfGLawDvdDGcr9wrCJ1Y7ja7/CNlY7jo/9ChtZ7epIBEA7WcfbZn64KGxldaojhc2sfnXcy+pWx82sMGtWN7Emzeou1rhZ3ccaNau7WDSP4wYWAdEsjvYsAgCiEGgUR/uaiPhyDeJozSLEt2sQR2MWMReufhxtWcRcubj3V44pizjG2tW9d7RkcYylq3/vaMpikdJFg+poyEKR0vVsktvNqh0LU6pcNKqOZixIqXLRsFm1+9stVy4YN6tmf1LmnAoXTJpVI1ZSzfmzXzhrVm1Yoqr62S8e3lGoqkYL1kv33K9I02bV9CnGk0Xrz+xsHq7knFPngWLcyNKcU+exMMlG1mDWpvn03Io1OAWkbazhgEYvjj9nTcZleA8rwaUt/vXP6Xzlz8cz+PTESDeOd47+4PpPw7A6Ls+VLU6HpUtfRSOOKdzJwvOzW+3qeO8QXn35Lk7SNcJy88hiVeVOqL5cyyvXJ1v5eX2lU0On72FYVU0/GIcNgTCKRKRw8iDkR3N9YqVPgDvLWc5ylrOc5SxnOctZznKWs5zlLGc5y1nOctZ/w/oDdfKVy4bajDUAAAAASUVORK5CYII=\"","import { Account, Contract } from \"near-api-js\";\nimport { MAX_GAS, WRAPPED_NEAR_ACCOUNT_ID } from \"../../config\";\nimport cache from \"../../utils/cache\";\nimport { connectWallet } from \"../WalletService\";\n\nexport class WrappedNearContract {\n    contract: Contract;\n\n    constructor(account: Account) {\n        this.contract = new Contract(account, WRAPPED_NEAR_ACCOUNT_ID, {\n            changeMethods: ['near_deposit', 'near_withdraw', 'storage_deposit'],\n            viewMethods: ['storage_balance_of', 'storage_minimum_balance', 'ft_balance_of'],\n        });\n    }\n\n    wrapNear(amountIn: string) {\n        // @ts-ignore\n        this.contract.near_deposit({}, MAX_GAS, amountIn);\n    }\n\n    unwrapNear(amountIn: string) {\n        // @ts-ignore\n        this.contract.near_withdraw({\n            amount: amountIn,\n        }, MAX_GAS, '1');\n    }\n\n    depositStorage(amountIn: string, account_id?: string) {\n        // @ts-ignore\n        return this.contract.storage_deposit({ account_id }, MAX_GAS, amountIn);\n    }\n\n    getStorageBalance(accountId: string): Promise<{ total: string, available: string }> {\n        // @ts-ignore\n        return this.contract.storage_balance_of({\n            account_id: accountId,\n        });\n    }\n\n    getBalance(accountId: string): Promise<string> {\n        // @ts-ignore\n        return this.contract.ft_balance_of({\n            account_id: accountId,\n        });\n    }\n\n    getMinimumRequiredStorageBalance(): Promise<string> {\n        // @ts-ignore\n        return this.contract.storage_minimum_balance({});\n    }\n}\n\nexport default async function createWrappedNearContract(): Promise<WrappedNearContract> {\n    return cache('wrapped_near_contract', async () => {\n        const wallet = await connectWallet();\n\n        return new WrappedNearContract(wallet.account());\n    });\n}\n","import Big from \"big.js\";\n\nimport { TokenViewModel } from \"../models/TokenViewModel\";\nimport { formatCollateralToken } from \"./CollateralTokenService\";\nimport { connectSdk } from \"./WalletService\";\nimport wrappedNearIcon from '../assets/images/icons/wrapped-near.svg';\nimport nearIcon from '../assets/images/icons/near-icon.png';\nimport createWrappedNearContract from \"./contracts/WrappedNearContract\";\nimport cache from \"../utils/cache\";\n\nexport async function getNearToken(): Promise<TokenViewModel> {\n    const defaults: TokenViewModel = {\n        decimals: 24,\n        isCollateralToken: false,\n        odds: new Big(0),\n        outcomeId: NaN,\n        poolBalance: '0',\n        poolWeight: new Big(0),\n        tokenName: 'NEAR',\n        price: 0,\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        tokenSymbol: 'NEAR',\n        spent: \"0\",\n        weight: 0,\n        balance: '0',\n        balanceFormatted: '0',\n        tokenImage: nearIcon,\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    }\n\n    try {\n        const sdk = await connectSdk();\n        const balance = await sdk.getNearBalance();\n\n        return {\n            ...defaults,\n            balance: balance.available,\n            balanceFormatted: formatCollateralToken(balance.available, 24),\n        }\n    } catch (error) {\n        console.error('[getNearToken]', error);\n        return defaults;\n    }\n}\n\nexport async function getWrappedNearToken(): Promise<TokenViewModel> {\n    const defaults: TokenViewModel = {\n        decimals: 24,\n        isCollateralToken: false,\n        odds: new Big(0),\n        outcomeId: NaN,\n        poolBalance: '0',\n        poolWeight: new Big(0),\n        tokenName: 'wNEAR',\n        price: 0,\n        priceSymbol: '$',\n        priceSymbolPosition: 'left',\n        spent: \"0\",\n        tokenSymbol: 'wNEAR',\n        tokenImage: wrappedNearIcon,\n        weight: 0,\n        balance: '0',\n        balanceFormatted: '0',\n        bound: new Big(0),\n        colorVar: '--c-blue',\n    }\n\n    try {\n        const wNearContract = await createWrappedNearContract();\n        const sdk = await connectSdk();\n        const accountId = sdk.getAccountId();\n\n        if (accountId) {\n            const balance = await wNearContract.getBalance(accountId);\n\n            return {\n                ...defaults,\n                balance,\n                balanceFormatted: formatCollateralToken(balance, 24),\n            }\n        }\n\n        return defaults;\n    } catch (error) {\n        console.error('[getWrappedNearToken]', error);\n        return defaults;\n    }\n}\n\nexport interface WrapNearFormValues {\n    amountIn: string;\n    amountInFormatted: string;\n    type: 'wrap' | 'unwrap';\n}\n\nexport async function wrapNear(amountIn: string) {\n    const wNearContract = await createWrappedNearContract();\n    wNearContract.wrapNear(amountIn);\n}\n\nexport async function unwrapNear(amountIn: string) {\n    const wNearContract = await createWrappedNearContract();\n    wNearContract.unwrapNear(amountIn);\n}\n\nexport async function getWrappedNearStorageBalance(): Promise<{ total: string, available: string }> {\n    const wNearContract = await createWrappedNearContract();\n    const sdk = await connectSdk();\n    const accountId = sdk.getAccountId();\n\n    if (!accountId) {\n        return {\n            total: '0',\n            available: '0',\n        }\n    }\n\n    const result = await cache('wrapped_near_storage_balance', async () => {\n        return wNearContract.getStorageBalance(accountId)\n    });\n\n    if (!result) {\n        return {\n            total: '0',\n            available: '0',\n        };\n    }\n\n    return result;\n}\n\nexport async function getRequiredWrappedNearStorageDeposit() {\n    const wNearContract = await createWrappedNearContract();\n    return wNearContract.getMinimumRequiredStorageBalance();\n}\n\nexport async function depositWrappedNearStorage(amount: string, accountId?: string) {\n    const wNearContract = await createWrappedNearContract();\n    return wNearContract.depositStorage(amount, accountId);\n}\n","import { FluxTransaction, FluxTransactionType } from \"@fluxprotocol/amm-sdk\";\nimport trans from \"../translation/trans\";\nimport { generateTokenName, TokenViewModel } from \"./TokenViewModel\";\n\nexport interface Transaction {\n    id: string;\n    accountId: string;\n    input: string;\n    output: string;\n    marketId: string;\n    outcomeId: string;\n    date: Date;\n    type: FluxTransactionType;\n    collateralToken: TokenViewModel;\n    marketDescription: string;\n    tokenName: string;\n}\n\nexport function transformToTransaction(tx: FluxTransaction, collateralToken: TokenViewModel): Transaction {\n    let tokenName = tx.market.outcome_tags[Number(tx.outcome_id)];\n\n    if (tx.type === FluxTransactionType.AddLiquidity || tx.type === FluxTransactionType.RemoveLiquidity) {\n        tokenName = generateTokenName(trans('global.poolToken'));\n    } else if (tx.type === FluxTransactionType.Redeem) {\n        tokenName = trans('transaction.tokenNames.ofEachShare')\n    } else if (tx.market.is_scalar) {\n        tokenName = tx.outcome_id === '0' ? trans('market.outcomes.short') : trans('market.outcomes.long')\n    }\n\n    return {\n        id: `${tx.account_id}${tx.market_id}${tx.date}${tx.type}`,\n        accountId: tx.account_id,\n        marketId: tx.market_id,\n        date: new Date(Number(tx.date)),\n        input: tx.input,\n        outcomeId: tx.outcome_id,\n        output: tx.output,\n        type: tx.type,\n        collateralToken,\n        marketDescription: tx.market.description,\n        tokenName,\n    }\n}\n","import { Pagination } from \"@fluxprotocol/amm-sdk/dist/models/Pagination\";\nimport { transformToMainTokenViewModel } from \"../models/TokenViewModel\";\nimport { Transaction, transformToTransaction } from \"../models/Transaction\";\nimport { connectSdk } from \"./WalletService\";\n\n/**\n * Gets all the transactions a user has done on Flux\n *\n * @export\n * @param {string} accountId\n * @return {Promise<Pagination<Transaction>>}\n */\nexport async function getTransactionsForAccount(accountId: string, limit: number, offset: number): Promise<Pagination<Transaction>> {\n    const sdk = await connectSdk();\n\n    const result = await sdk.getTransactions({\n        accountId,\n        limit,\n        offset,\n    });\n\n    if (!result) return {\n        total: 0,\n        items: []\n    }\n\n    const transactions = result.items.map(async (tx) => {\n        const collateralToken = await transformToMainTokenViewModel(tx.pool.collateral_token_id);\n        return transformToTransaction(tx, collateralToken);\n    });\n\n    return {\n        total: result.total,\n        items: await Promise.all(transactions),\n    }\n}\n","import {\n    setAccount,\n    setAccountBalances,\n    setAccountLoading,\n    setAccountPoolTokenLoading,\n    setAccountPoolTokens,\n    setNearToken,\n    setWrappedNearToken,\n    setEscrowStatus,\n    setUnrealizedPnl,\n    setTotalSpent,\n    setPriceSymbol,\n    setAccountTransactions,\n    setTotalAccountTransactions,\n    setAccountTransactionsLoading,\n    setAccountParticipatedMarketsLoading,\n    setTotalAccountParticipatedMarkets,\n    setAccountParticipatedMarkets,\n} from \"./account\";\nimport {\n    signUserIn,\n    getAccountInfo,\n    signUserOut,\n    getAccountBalancesInfo,\n    getAccountBalancesSummary,\n    fetchEscrowStatus,\n    getParticipatedMarkets\n} from '../../services/AccountService';\nimport { getNearToken, getWrappedNearToken } from \"../../services/NearService\";\nimport { getTransactionsForAccount } from '../../services/TransactionService';\nimport { Reducers } from \"../reducers\";\n\nexport function signIn() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            await signUserIn();\n            dispatch(setAccountLoading(false));\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[signIn]', error);\n        }\n    }\n}\n\nexport function getEscrowStatus(accountId: string) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            const escrowStatus = await fetchEscrowStatus(accountId);\n            dispatch(setEscrowStatus(escrowStatus));\n            dispatch(setAccountLoading(false));\n\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[fetchEscrowStatus]', error);\n        }\n    }\n}\n\nexport function loadAccount() {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountLoading(true));\n            const account = await getAccountInfo();\n            dispatch(setAccount(account));\n            dispatch(setAccountLoading(false));\n        } catch (error) {\n            dispatch(setAccountLoading(false));\n            console.error('[loadAccount]', error);\n        }\n    }\n}\n\nexport function loadNearBalances() {\n    return async (dispatch: Function) => {\n        const nearTokenRequest = getNearToken();\n        const wrappedNeartokenRequest = getWrappedNearToken();\n\n        const nearToken = await nearTokenRequest;\n        const wrappedNearToken = await wrappedNeartokenRequest;\n\n        dispatch(setNearToken(nearToken));\n        dispatch(setWrappedNearToken(wrappedNearToken));\n    }\n}\n\nexport function loadAccountBalanceInfo(accountId: string) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountPoolTokenLoading(true));\n            const accountBalancesInfo = await getAccountBalancesInfo(accountId);\n            dispatch(setAccountPoolTokens(accountBalancesInfo.poolTokens));\n            dispatch(setAccountBalances(accountBalancesInfo.marketBalances));\n            dispatch(setAccountPoolTokenLoading(false));\n        } catch (error) {\n            dispatch(setAccountPoolTokenLoading(false));\n            console.error('[getPoolTokensForAccount]', error);\n        }\n    }\n}\n\nexport function loadAccountBalancesSummary(accountId: string) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setAccountPoolTokenLoading(true));\n            const accountBalancesSummary = await getAccountBalancesSummary(accountId);\n            dispatch(setUnrealizedPnl(accountBalancesSummary.unrealizedPnl));\n            dispatch(setTotalSpent(accountBalancesSummary.totalSpent));\n            dispatch(setPriceSymbol(accountBalancesSummary.priceSymbol));\n            dispatch(setAccountPoolTokenLoading(false));\n        } catch (error) {\n            dispatch(setAccountPoolTokenLoading(false));\n            console.error('[getPoolTokensForAccount]', error);\n        }\n    }\n}\n\nexport function signOut() {\n    return async (dispatch: Function) => {\n        await signUserOut();\n        dispatch(setAccount(null));\n    }\n}\n\nexport function loadAccountTransactions(accountId: string, reset = false) {\n    return async (dispatch: Function, getState: () => Reducers) => {\n        dispatch(setAccountTransactionsLoading(true));\n        const limit = 100;\n\n        if (reset) {\n            dispatch(setAccountTransactions([]));\n        }\n\n        const state = getState();\n        const currentLoadedTransactions = state.account.accountTransactions.transactions;\n        const offest = currentLoadedTransactions.length;\n        const transactions = await getTransactionsForAccount(accountId, limit, offest);\n\n        dispatch(setAccountTransactions([\n            ...currentLoadedTransactions,\n            ...transactions.items,\n        ]));\n\n        dispatch(setTotalAccountTransactions(transactions.total));\n        dispatch(setAccountTransactionsLoading(false));\n    }\n}\n\nexport function loadAccountParticipatedMarkets(accountId: string, reset = false) {\n    return async (dispatch: Function, getState: () => Reducers) => {\n        dispatch(setAccountParticipatedMarketsLoading(true));\n        const limit = 100;\n\n        if (reset) {\n            dispatch(setAccountParticipatedMarkets([]));\n        }\n\n        const state = getState();\n        const currentLoadedMarkets = state.account.accountParticipatedMarkets.participatedMarkets;\n        const offest = currentLoadedMarkets.length;\n        const participatedMarkets = await getParticipatedMarkets(accountId, limit, offest);\n\n        dispatch(setAccountParticipatedMarkets([\n            ...currentLoadedMarkets,\n            ...participatedMarkets.items,\n        ]));\n\n        dispatch(setTotalAccountParticipatedMarkets(participatedMarkets.total));\n        dispatch(setAccountParticipatedMarketsLoading(false));\n    }\n}\n","import React from 'react';\n\nimport s from './BackgroundWave.module.scss';\n\nexport default function BackgroundWave() {\n    return (\n        <div className={s['background-wave']} />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport s from './TabBar.module.scss';\nexport interface TabBarItem {\n    id: string;\n    label: string;\n    show: boolean;\n}\n\ninterface Props {\n    items: TabBarItem[];\n    activeId: string;\n    onTabClick: (item: TabBarItem) => void;\n    className?: string;\n    tabClassName?: string;\n    variant?: 'standard' | 'scrollable' | 'fullWidth';\n}\n\nexport default function TabBar({\n    items,\n    onTabClick,\n    activeId,\n    variant = 'standard',\n    tabClassName = '',\n    className = '',\n}: Props): ReactElement {\n    return (\n        <Tabs\n            classes={{ indicator: s.indicator }}\n            className={classnames(s.root, className)}\n            variant={variant}\n            value={activeId}\n        >\n            {items.filter(tab => tab.show).map(tab => (\n                <Tab\n                    key={tab.id}\n                    onClick={() => onTabClick(tab)}\n                    className={classnames(s.tab, tabClassName)}\n                    label={tab.label}\n                    value={tab.id}\n                />\n            ))}\n        </Tabs>\n    );\n}\n","import React from 'react';\n\nimport twitterLogo from '../../assets/images/icons/twitter_logo.png';\nimport telegramLogo from '../../assets/images/icons/telegram_logo.png';\n\nimport s from './Footer.module.scss';\n\n\nexport default function Footer() {\n    return (\n        <footer className={s.root}>\n            <div className={s.wrapper}>\n                <div className={s.logo} />\n                <div className={s.socials}>\n                    <a href=\"https://twitter.com/pulsemarkets\" className={s.social} rel=\"noopener noreferrer\" target=\"_blank\" >\n                        <img src={twitterLogo} alt=\"Twitter page\" />\n                    </a>\n                    <a href=\"https://t.me/pulsemarkets\" className={s.social} rel=\"noopener noreferrer\" target=\"_blank\" >\n                        <img src={telegramLogo} alt=\"Telegram group\" />\n                    </a>\n                </div>\n            </div>\n        </footer>\n    );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAIaADAAQAAAABAAAAIQAAAAA1iKI6AAADZklEQVRYCb2Xy04UQRSGGWQcGYloIhi84AUxJmp0Y6Iu1aUP4MKXcGGir+HKhRt3xsSFMTFx4QZd4i2aYBRDkHgXBC/IoDB+32S6MzNUTzfo8Cc/XVSdqvPXqdOna3Jty0C5XN6AeQ/0Waiyg+c8LME5OAW/5HI525mQS7PC8Rps+uF2qOOs+IbhGGI+p01IFIFzx7bBPXBt2kJNxmcYe4kYn0EERVR3f4AZvcFZy+8sM0UhE6GpS0QgYB2GR2BXaMI/9r1j/ghiFBWjPW7RQIBJ1ioButoKB23UIhZRzYGDDLYiArU++/FlrsWIRdCzA26OR1rb2I+QYuSiIqJ6DLujzlV4mot7Iz9RJHbRkY86V/h0LYuYeZUFvWy+W8MOGqqqO6PAClvo+xjot8tidgyehdp9grfga7izVCrdLxQKf2iHoN8ZVW+EaVE4j80IvAZr4e4PwUswqqabaF+A0/Du3NzcY0TYDqHHILiI34JmMFKG7Ry8CPtgBMWfhpGAqN851pvOfD7vNyUJzu82EmmvpIXlIRyAp+BROASH4SQMVVXnvIdXi8Vi2oesSxEqbgbP/BX0Q6RDk+9MlbM8HW+EIn7AZlGI5hQUkfZxWsTmJDR3GhG/6w0DzvkA68pzg030b8GckM3gQma7d4Ysi7rWAnxmIwPaFZAlZI+wuwK/ZFhUoeaKOZMFpawiXOw37IJp0XBTd2AWwZi1VUSYXFkwhNENaNZ75iEo9Am8HRpM6Js1EmnXL995E9i34CY0P0KvnRF4Ci/DrBszd6Zc3IupO1NQCB7BcbgPetsagMJjkZbkn/AevA5nYFZMcsFZ7ODPAqXT70JfwkwdjFbHv/Mch9YWd+65W84fQL8Vy4VH22aovVG56AmYFA3NIlgbLLdGwLCnJSomQUwTgGFHKk75xzOeCJou7dSxITdCKxXgqlbhCmp3PkaPpXY18IaNx7kTi6DT8JrdvmathHkUR0FHsQj/QcgvHr7nrRLi7p/jp+4YK4nJQB1I1E46DkNfz/8Ff3O8QMCSQhcUoVeEWEMGob8VEu0YS4NRHcX52yTD1MURs57JFqjepEUS+q2G49AkNN8SkSoimokYr3D+LumBXmwa7yGes6+6FdhPwVecKyQVmUU0roQok1ohHts8Dr1vrAh/AUkd3oiiffEOAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ0SURBVHgBvZg9bxNBEIbnLBegxIWLAIpEihilQSJFyvRQww+ghxblV0BNUvMDSE8PFSmIBBIFKYKUTymO5EROYcl537s5Z33au5217/JKc5vs7d08O/txs04kQuPxuItiCdaBPYQ9cG5fwYawC9hlkiQDMSoJNYDjNooVtbbYRaADwByHGiYBgKcoepHOfTD7VZFJSpwzzM9hXalPjMqBWCAUYEOyMa9bRwD5I1UQDQOUgrQKDdYbBqCW0dkV8UHgxqpkS+8+tAZ/nSkIHYZVuV+tiQvRAMAL2DvYTkWbrm5+k/X/SObXIuy1ZPNqXev+BZ7h3Oi3QbMks29GdMwovi1xfBJ4ntFo0/ksGxLDvQl7BVvQumvYZ63vad2vwHvov5NexCZfuHN9hX2DbTkAVGg4xAJBx+z1G49j6hT2UctPsMeF+/sS1iIhqubDjufFudj7L5J1wgdgiUKq0IT8IHdRcMd5W508U4AFz7Oh+TAFMZJymFN1SLGnXPs/FOAl7H0JgEhEJLhZDY1tCbSrzhmZrQqAGIgbQpjTMH3xE8kma5WuxA4xIMSl2MWXc6w3HahdTzvzUEB9QpxJnLgf9LTkxOUGlS/TWIg+cotRi5dIEDrYVsfXDhiB8hVh2R+oI17SzEq/ZhtSj3pii8QQAfjOP9JPOf7poziUemQdiknS2ypUWpfrvPrvnkcmEDo39iTbvJrUAL7+uhVTiS5u3qD42SAI96S9YmXV4afu1P8c9lsjHoZwQJg1Lct8olOevkonvuVAPOuRkM7p+NDX+yiIAgzzUSbFzCF8X17OqfSnAdhZyHk0hAcqT4jydGBkdVrULTvWsvR8Wy+OAAAAAElFTkSuQmCC\"","import React, { FormEvent, ReactElement, ReactNode } from 'react';\nimport classnames from 'classnames';\nimport { default as MuiButton } from '@material-ui/core/Button';\n\nimport s from './Button.module.scss';\n\ninterface ButtonProps {\n    children: ReactNode | string;\n    className?: string;\n    onClick?: (event: FormEvent<HTMLButtonElement>) => void;\n    variant?: \"text\" | \"outlined\" | \"contained\";\n    disabled?: boolean;\n    startIcon?: ReactElement;\n    endIcon?: ReactElement;\n};\n\nexport default function Button({\n    className = '',\n    children,\n    ...props\n}: ButtonProps) {\n    const classname = classnames(s.button, className, {\n        [s['button--text']]: props.variant === 'text',\n        [s['button--outlined']]: props.variant === 'outlined',\n    });\n\n    return (\n        <MuiButton {...props} className={classname}>{children}</MuiButton>\n    );\n}\n","import { useEffect, useRef } from 'react';\n\ntype Delay = number | null;\ntype TimerHandler = (...args: any[]) => void;\n\nconst useInterval = (callback: TimerHandler, delay: Delay) => {\n    const savedCallbackRef = useRef<TimerHandler>();\n\n    useEffect(() => {\n        savedCallbackRef.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        const handler = (...args: any[]) => savedCallbackRef.current!(...args);\n\n        if (delay !== null) {\n            const intervalId = setInterval(handler, delay);\n            return () => clearInterval(intervalId);\n        }\n    }, [delay]);\n};\n\nexport default useInterval;\n","import { useState } from \"react\";\nimport useInterval from \"./hooks/useInterval\";\n\ninterface ThemePreference {\n    userPrefersDark: boolean;\n    userPrefersLight: boolean;\n    userHasPreference: boolean;\n}\n\nconst darkmodeStorageLabel = 'darkmode-active';\nconst themeAttribute = 'data-theme';\nconst nightStartHour = 20;\nconst nightEndHour = 6;\nlet modeChangeListener = () => {};\n\nconst userThemePreference = (): ThemePreference => {\n    const canDetectPreference = Boolean(window.matchMedia);\n    const userPrefersDark = canDetectPreference && window.matchMedia('(prefers-color-scheme: dark)').matches;\n    const userPrefersLight = canDetectPreference && window.matchMedia('(prefers-color-scheme: light)').matches;\n\n    return {\n        userHasPreference: userPrefersDark ?? userPrefersLight ?? false,\n        userPrefersDark: userPrefersDark ?? false,\n        userPrefersLight: userPrefersLight ?? false,\n    };\n};\n\nconst getStoredDarkmode = (): boolean => {\n    return localStorage.getItem(darkmodeStorageLabel) === 'true';\n};\n\nconst checkIfDarkmodeIsActive = (): boolean => {\n    const darkmodeInDocumentTheme = document.documentElement.getAttribute(themeAttribute) === 'dark';\n    const darkmodeInStorage = getStoredDarkmode();\n    // const { userPrefersDark } = userThemePreference();\n\n    return darkmodeInDocumentTheme || darkmodeInStorage || false;\n};\n\nconst setDarkmode = (state: boolean): void => {\n    const darkmodeIsStored =  localStorage.getItem(darkmodeStorageLabel) !== null;\n    const storedDarkmodeSetting = getStoredDarkmode();\n\n    const shouldBeDarkmode = darkmodeIsStored ? storedDarkmodeSetting : state;\n    const siteTheme = shouldBeDarkmode ? 'dark' : 'default';\n\n    document.documentElement.setAttribute(themeAttribute, siteTheme);\n    modeChangeListener();\n};\n\nconst storeDarkmode = (state: boolean): void => {\n    localStorage.setItem(darkmodeStorageLabel, String(state));\n    setDarkmode(state);\n};\n\nconst checkForNight = (): void => {\n    const start = nightStartHour;\n    const end = nightEndHour;\n    const currentHour = new Date().getHours();\n\n    const isNight = end < start\n        ? currentHour >= start || currentHour < end\n        : currentHour >= start && currentHour < end;\n\n    setDarkmode(isNight);\n};\n\nconst applyDarkmodeAtNight = (): void => {\n    checkForNight();\n    setInterval(checkForNight, 1000 * 60);\n};\n\nconst initDarkmode = (): void => {\n    applyDarkmodeAtNight();\n};\n\nconst useDarkmode = (): boolean => {\n    const [active, setActive] = useState(false);\n\n    useInterval(() => {\n        const newActive = checkIfDarkmodeIsActive();\n        if (newActive !== active) {\n            setActive(newActive);\n        }\n    }, 10);\n\n    modeChangeListener = () => {\n        const newActive = checkIfDarkmodeIsActive();\n        if (newActive !== active) {\n            setActive(newActive);\n        }\n    }\n\n    return active;\n};\n\nexport {\n    checkIfDarkmodeIsActive,\n    initDarkmode,\n    setDarkmode,\n    storeDarkmode,\n    userThemePreference,\n    useDarkmode,\n};\n","import React, { useCallback } from 'react';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport { storeDarkmode, useDarkmode } from '../../utils/darkmode';\n\nimport s from './DarkmodeButton.module.scss';\n\nexport default function DarkmodeButton() {\n    const isDarkmodeActive = useDarkmode();\n\n    const handleButtonClick = useCallback(() => {\n        storeDarkmode(!isDarkmodeActive);\n    }, [isDarkmodeActive]);\n\n    return (\n        <IconButton aria-label=\"darkmode\" className={s.root} onClick={handleButtonClick}>\n            {!isDarkmodeActive && <div className={s.icon}></div>}\n            {isDarkmodeActive && <div className={s.icon}></div>}\n        </IconButton>\n    );\n}\n","import React, { FormEvent } from 'react';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Account } from '../../../../models/Account';\n\nimport s from './AccountButton.module.scss';\n\ninterface Props {\n    account: Account;\n    onClick: (event: FormEvent) => void,\n    className?: string;\n}\n\nexport default function AccountButton({\n    account,\n    onClick,\n    className = '',\n}: Props) {\n    return (\n        <div>\n            <IconButton aria-label=\"darkmode\" onClick={onClick} className={s.iconButton}>\n                <MoreHorizIcon />\n            </IconButton>\n        </div>\n    );\n}\n","import React, { FormEvent, ReactElement, useState } from \"react\";\nimport classnames from 'classnames';\nimport { Link } from \"react-router-dom\";\nimport MuiMenu from '@material-ui/core/Menu';\nimport MuiMenuItem from '@material-ui/core/MenuItem';\n\nimport Button from \"../../components/Button\";\nimport trans from \"../../translation/trans\";\nimport { Account } from \"../../models/Account\";\nimport { formatCollateralToken } from \"../../services/CollateralTokenService\";\n\nimport s from './Menu.module.scss';\nimport DarkmodeButton from \"../../components/DarkmodeButton\";\nimport AccountButton from \"./components/AccountButton/AccountButton\";\nimport { TokenViewModel } from \"../../models/TokenViewModel\";\n\ninterface Props {\n    className?: string;\n    loading: boolean;\n    onLoginClick: () => void;\n    onLogoutClick: () => void;\n    onProfileClick: () => void;\n    onWrapNearClick: () => void;\n    account: Account | null;\n    wrappedNear?: TokenViewModel;\n}\n\nexport default function Menu({\n    onLoginClick,\n    onLogoutClick,\n    onProfileClick,\n    onWrapNearClick,\n    account,\n    loading,\n    wrappedNear,\n    className = ''\n}: Props): ReactElement {\n    const [menuAnchorEl, setMenuAnchorEl] = useState<Element | null>(null);\n\n    function handleMenuClick(event: FormEvent) {\n        setMenuAnchorEl(event.currentTarget);\n    }\n\n    function handleMenuClose() {\n        setMenuAnchorEl(null);\n    }\n\n    function handleLogoutClick() {\n        handleMenuClose();\n        onLogoutClick();\n    }\n\n    function handleProfileClick() {\n        handleMenuClose();\n        onProfileClick();\n    }\n\n    function handleWrapNearClick() {\n        handleMenuClose();\n        onWrapNearClick();\n    }\n\n    return (\n        <header className={classnames(s.menu, className)}>\n            <div className={s.menu__items}>\n                <div className={s.menu__item}>\n                    <Link to=\"/\" className={s.menu__logoWrapper}>\n                        <div className={s.menu__logo} />\n                    </Link>\n                </div>\n                <div className={classnames(s.menu__item, s['menu__last-item'])}>\n                    {account === null && (\n                        <DarkmodeButton />\n                    )}\n\n                    {account === null && !loading && (\n                        <Button onClick={onLoginClick}>{trans('auth.login')}</Button>\n                    )}\n\n                    {account && (\n                        <>\n                            <span className={s.accountName}>{account.accountId}</span>\n                            <DarkmodeButton />\n                            <AccountButton account={account} onClick={handleMenuClick} />\n                            <MuiMenu anchorEl={menuAnchorEl} keepMounted open={Boolean(menuAnchorEl)} onClose={handleMenuClose}>\n                                <MuiMenuItem disabled>{account.accountId}</MuiMenuItem>\n                                <MuiMenuItem disabled>NEAR: {formatCollateralToken(account.balance, 24)} </MuiMenuItem>\n                                <MuiMenuItem onClick={handleWrapNearClick}>{trans('menu.wrapNear')}</MuiMenuItem>\n                                <MuiMenuItem onClick={handleProfileClick}>{trans('menu.profile')}</MuiMenuItem>\n                                <MuiMenuItem onClick={handleLogoutClick}>{trans('menu.logout')}</MuiMenuItem>\n                            </MuiMenu>\n                        </>\n                    )}\n\n                </div>\n            </div>\n        </header>\n    );\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\ninterface NoBalanceDialogProps {\n    open: boolean;\n    token?: TokenViewModel;\n}\n\nexport type DialogsState = Readonly<{\n    isMarketCreationOpen: boolean;\n    isWrappingNearOpen: boolean;\n    noBalanceDialog: NoBalanceDialogProps;\n}>;\n\nconst initialState: DialogsState = {\n    isMarketCreationOpen: false,\n    isWrappingNearOpen: false,\n    noBalanceDialog: {\n        open: false,\n    },\n};\n\nconst dialogsSlice = createSlice({\n    initialState,\n    name: 'dialogs',\n    reducers: {\n        setMarketCreationDialogOpen(state: DialogsState, action: PayloadAction<boolean>): DialogsState {\n            return ({\n                ...state,\n                isMarketCreationOpen: action.payload,\n            });\n        },\n        setWrappingNearDialogOpen(state: DialogsState, action: PayloadAction<boolean>): DialogsState {\n            return({\n                ...state,\n                isWrappingNearOpen: action.payload,\n            });\n        },\n        setNoBalanceDialog(state: DialogsState, action: PayloadAction<NoBalanceDialogProps>): DialogsState {\n            return ({\n                ...state,\n                noBalanceDialog: action.payload,\n            });\n        }\n    },\n});\n\nexport const {\n    setMarketCreationDialogOpen,\n    setWrappingNearDialogOpen,\n    setNoBalanceDialog,\n} = dialogsSlice.actions;\n\nexport default dialogsSlice.reducer;\n","import React, { ReactElement, useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport Menu from '../../containers/Menu';\nimport { loadAccount, signIn, signOut } from '../../redux/account/accountActions';\nimport { setWrappingNearDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\n\n\nexport default function MenuConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const accountInfo = useSelector((store: Reducers) => store.account.account);\n    const accountLoading = useSelector((store: Reducers) => store.account.loading);\n    const wrappedNear = useSelector((store: Reducers) => store.account.wrappedNearToken);\n\n    useEffect(() => {\n        if (!accountInfo) {\n            dispatch(loadAccount());\n        }\n    }, [dispatch, accountInfo]);\n\n    const handleLoginClick = useCallback(() => {\n        dispatch(signIn());\n    }, [dispatch]);\n\n    const handleLogoutClick = useCallback(() => {\n        dispatch(signOut());\n    }, [dispatch]);\n\n    const handleProfileClick = useCallback(() => {\n        history.push(routePaths.profile());\n    }, [history]);\n\n    const handleWrapNearClick = useCallback(() => {\n        dispatch(setWrappingNearDialogOpen(true));\n    }, [dispatch]);\n\n    return (\n        <Menu\n            onLoginClick={handleLoginClick}\n            onLogoutClick={handleLogoutClick}\n            onProfileClick={handleProfileClick}\n            onWrapNearClick={handleWrapNearClick}\n            account={accountInfo}\n            loading={accountLoading}\n            wrappedNear={wrappedNear}\n        />\n    );\n}\n","import React from 'react';\n\nimport s from './Error.module.scss';\n\ninterface Props {\n    error?: string;\n}\n\nexport default function Error({\n    error,\n}: Props) {\n    return (\n        error ? <p className={s.error}>{error}</p> : null\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { default as MuiIconButton } from '@material-ui/core/IconButton';\nimport classnames from 'classnames';\n\nimport s from './IconButton.module.scss';\n\ninterface Props {\n    icon?: string;\n    iconComponent?: ReactElement;\n    alt: string;\n    onClick: () => void;\n    className?: string;\n}\n\n\nexport default function IconButton({\n    icon,\n    iconComponent,\n    alt,\n    onClick,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <MuiIconButton onClick={onClick} className={classnames(s['icon-button'], className)}>\n            {icon && (<img src={icon} alt={alt} />)}\n            {iconComponent}\n        </MuiIconButton>\n    );\n}\n","import React, { PropsWithChildren } from 'react';\nimport classnames from 'classnames';\nimport { default as MuiDialog } from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport Button from '../../components/Button';\n\nimport s from './Dialog.module.scss';\nimport trans from '../../translation/trans';\n\ninterface Props {\n    title: string;\n    open: boolean;\n    isInfoDialog?: boolean;\n    onRequestClose: () => void;\n    onSubmitClick: () => void;\n    canSubmit?: boolean;\n    hideButtons?: boolean;\n    paperClassName?: string;\n}\n\nexport default function Dialog({\n    title,\n    children,\n    open,\n    isInfoDialog = false,\n    onRequestClose,\n    onSubmitClick,\n    canSubmit = true,\n    hideButtons = false,\n    paperClassName = '',\n}: PropsWithChildren<Props>) {\n    return (\n        <MuiDialog open={open} classes={{ paper: classnames(s.paper, paperClassName) }}>\n            <DialogTitle className={s.title}>\n                {title}\n            </DialogTitle>\n            <DialogContent className={s.content}>\n                {children}\n            </DialogContent>\n            {isInfoDialog && (\n                <DialogActions>\n                    <Button className={s.cancelButton} onClick={onRequestClose}>\n                        {trans('global.action.close')}\n                    </Button>\n                </DialogActions>\n            )}\n\n            {!hideButtons && (\n                <DialogActions>\n                    <Button className={s.cancelButton} onClick={onRequestClose}>\n                        {trans('global.action.cancel')}\n                    </Button>\n                    <Button disabled={!canSubmit} className={s.confirmButton} onClick={onSubmitClick}>\n                        {trans('global.action.submit')}\n                    </Button>\n                </DialogActions>\n            )}\n        </MuiDialog>\n    );\n}\n","import React, { ReactNode } from 'react';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\n\nimport s from './TextButton.module.scss';\n\ninterface Props {\n    children: ReactNode;\n    className?: string;\n    disabled?: boolean;\n    onClick?: () => void;\n}\n\nexport default function TextButton({\n    children,\n    className = '',\n    ...props\n}: Props) {\n    const buttonClassName = classnames(s.root, className, {\n        [s.disabled]: props.disabled,\n    });\n\n    return (\n        <Button {...props} className={buttonClassName}>{children}</Button>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { generateTokenName } from '../../models/TokenViewModel';\n\nimport s from './Token.module.scss';\n\ninterface Props {\n    className?: string;\n    tokenImage?: string;\n    tokenName: string;\n    colorVar?: string;\n}\n\nexport default function Token({\n    tokenName,\n    tokenImage,\n    colorVar = '--c-primary',\n    className = '',\n}: Props): ReactElement {\n    return (\n        <div style={{ backgroundColor: `var(${colorVar})`, }} className={classnames(s.token, className)}>\n            {tokenImage && <img className={s.tokenImage} src={tokenImage} alt={tokenName} />}\n            {!tokenImage && generateTokenName(tokenName)}\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './NonLinkButton.module.scss';\n\ntype HTMLButtonProps = JSX.IntrinsicElements['button'];\n\ninterface Props extends HTMLButtonProps {\n\n}\n\nexport default function NonLinkButton({\n    children,\n    className = '',\n    ...props\n}: Props): ReactElement {\n    return (\n        <button {...props} className={classnames(s['non-link-button'], className)}>\n            {children}\n        </button>\n    );\n}\n","import React from 'react';\nimport Token from '../../../../components/Token';\nimport { TokenViewModel } from '../../../../models/TokenViewModel';\nimport trans from '../../../../translation/trans';\n\nimport s from './TokenDropdown.module.scss';\n\ninterface Props {\n    tokens: TokenViewModel[];\n    onTokenClick: (token: TokenViewModel) => void;\n}\n\nexport default function TokenDropdown({\n    tokens,\n    onTokenClick,\n}: Props) {\n    return (\n        <div className={s['token-dropdown']}>\n            <div className={s['token-dropdown__fake-top']} />\n            <div className={s['token-dropdown__content']}>\n                <div className={s['token-dropdown__balance']}>\n                    {trans('global.balance')}\n                </div>\n                <div className={s['token-dropdown__tokens']}>\n                    {tokens.map((token) => (\n                        <button key={token.tokenName} onClick={() => onTokenClick(token)} className={s['token-dropdown__token']}>\n                            <div className={s['token-dropdown__token-info']}>\n                                <Token colorVar={token.colorVar} tokenName={token.tokenName} className={s['token-dropdown__token-icon']} />\n                                <span>{token.tokenName}</span>\n                            </div>\n                            <div className={s['token-dropdown__token-balance']}>\n                                {token.balanceFormatted}\n                            </div>\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useCallback, useState } from 'react';\nimport classnames from 'classnames';\n\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\nimport s from './TokenSelect.module.scss';\nimport trans from '../../translation/trans';\nimport Token from '../../components/Token';\nimport NonLinkButton from '../../components/NonLinkButton';\nimport TokenDropdown from './components/TokenDropdown/TokenDropdown';\n\nexport interface TokenSelectProps {\n    className?: string;\n    selectedToken: TokenViewModel;\n    tokens: TokenViewModel[];\n    value: string;\n    error?: string;\n    showPrice?: boolean;\n    onValueChange?: (newValue: string) => void;\n    onTokenSwitch: (token: TokenViewModel) => void;\n    placeholder?: string;\n    disabledInput?: boolean;\n    newPrice?: number;\n}\n\nexport default function TokenSelect({\n    selectedToken,\n    tokens,\n    value,\n    onTokenSwitch,\n    newPrice,\n    onValueChange = () => {},\n    showPrice = true,\n    className = '',\n    placeholder = '0',\n    disabledInput = false,\n}: TokenSelectProps) {\n    const [isDropdownOpen, setDropdownOpen] = useState(false);\n\n    const handleChangePairClick = useCallback(() => {\n        setDropdownOpen(!isDropdownOpen);\n    }, [isDropdownOpen]);\n\n    const handleTokenClick = useCallback((token: TokenViewModel) => {\n        setDropdownOpen(false);\n        onTokenSwitch(token);\n    }, [onTokenSwitch]);\n\n    const priceClassName = classnames(s.price, {\n        [s['price--symbol-right']]: selectedToken.priceSymbolPosition === 'right',\n    });\n\n    return (\n        <div className={classnames(s['token-select'], className)}>\n            <div className={s['token-select__info']}>\n                <span>{selectedToken.tokenName}</span>\n                {showPrice && (\n                    <span className={priceClassName}>\n                        <span className={s.priceSymbol}>{selectedToken.priceSymbol}</span>\n                        <span className={s.priceChangeWrapper}>\n                            <span>{selectedToken.price.toFixed(3)}</span>\n                            {newPrice && (\n                                <>\n                                    <span></span>\n                                    <span>{newPrice.toFixed(3)}</span>\n                                </>\n                            )}\n                        </span>\n                    </span>\n                )}\n                {!showPrice && <span />}\n            </div>\n            <div className={s['token-select__inputs']}>\n                <div className={s['token-select__inputs-info']}>\n                    <Token\n                        tokenName={selectedToken.tokenName}\n                        tokenImage={selectedToken.tokenImage}\n                        colorVar={selectedToken.colorVar}\n                        className={s['token-select__token-icon']}\n                    />\n\n                    {tokens.length === 1 && (\n                        <span className={s['token-select__token-name']}>{selectedToken.tokenSymbol}</span>\n                    )}\n\n                    {tokens.length > 1 && (\n                        <NonLinkButton type=\"button\" onClick={handleChangePairClick} className={s.changePairButton}>\n                            {isDropdownOpen ? trans('global.action.cancel') : trans('market.action.changeTradingPair')}\n                        </NonLinkButton>\n                    )}\n                </div>\n                <input\n                    type=\"number\"\n                    value={value}\n                    placeholder={placeholder}\n                    disabled={disabledInput}\n                    className={s['token-select__input']}\n                    onChange={(e) => onValueChange(e.target.value)}\n                />\n            </div>\n            {tokens.length > 1 && isDropdownOpen && (\n                <TokenDropdown onTokenClick={handleTokenClick} tokens={tokens} />\n            )}\n        </div>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport TextButton from '../../components/TextButton';\nimport trans from '../../translation/trans';\n\nimport TokenSelect, { TokenSelectProps } from '../TokenSelect/TokenSelect';\n\nimport s from './LabeledTokenSelect.module.scss';\n\ninterface Props extends TokenSelectProps {\n    label: string;\n    onBalanceClick?: () => void;\n}\n\nexport default function LabeledTokenSelect({\n    label,\n    selectedToken,\n    onBalanceClick,\n    ...props\n}: Props) {\n    return (\n        <div>\n            <div className={classnames(s.tokenHeader, s.noMargin)}>\n                <span>{label}</span>\n                <TextButton disabled={!Boolean(onBalanceClick)} onClick={onBalanceClick} className={s.balanceButton}>\n                    {trans('global.balance', {}, true)}: {selectedToken.balanceFormatted}\n                </TextButton>\n            </div>\n            <TokenSelect\n                {...props}\n                selectedToken={selectedToken}\n            />\n        </div>\n    );\n}\n","import React, { FC, ReactElement } from 'react';\n\nimport {\n    IconSwap\n} from './set';\nimport { SvgIconProps } from './types';\n\ntype IconSet = Record<string, FC<SvgIconProps>>;\n\ninterface IconProps extends SvgIconProps {\n    name: string;\n}\n\nconst icons: IconSet = {\n    swap: IconSwap,\n};\n\nexport default function Icon({\n    name,\n    className = '',\n    accentClassName = '',\n}: IconProps): ReactElement | null {\n    const IconComponent = icons[name] ? icons[name] : null;\n\n    return IconComponent ? <IconComponent className={className} accentClassName={accentClassName} /> : null;\n}\n","import React, { ReactElement } from 'react';\n\nimport { SvgIconProps } from '../types';\n\nimport s from '../Icon.module.scss';\n\nexport default function IconSwap({ className = '' }: SvgIconProps): ReactElement {\n    return (\n        <svg viewBox=\"0 0 16 22\" className={`${s.icon} ${className}`}>\n            <path d=\"M3 21.5V22H4V21.5H3ZM3.5 0.5L0.613249 5.5H6.38675L3.5 0.5ZM4 21.5V5H3V21.5H4Z\"/>\n            <path d=\"M12.5 0.5V0H13.5V0.5H12.5ZM13 21.5L10.1132 16.5H15.8868L13 21.5ZM13.5 0.5V17H12.5V0.5H13.5Z\"/>\n        </svg>\n        // <svg viewBox=\"0 0 100 100\" className={`icon ${className}`}>\n        //     <polygon points=\"72.2,55.6 58.1,55.6 58.1,38.9 41.9,38.9 41.9,55.6 27.8,55.6 50,77.8\" />\n        //     <path d=\"M97.4,12.4l-7.7-9.3C88.2,1.2,85.9,0,83.3,0H16.7c-2.6,0-4.9,1.2-6.4,3.1l-7.7,9.3C0.9,14.3,0,16.8,0,19.4v69.4C0,95,5,100,11.1,100h77.8c6.1,0,11.1-5,11.1-11.1V19.4C100,16.8,99.1,14.3,97.4,12.4z M18,11.1h64l4.5,5.4H13.6L18,11.1zM88.9,88.9H11.1V27.8h77.8V88.9z\" />\n        // </svg>\n    );\n}\n","import React, { ReactElement, useState } from 'react';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\n\nimport Error from '../../components/Error';\nimport IconButton from '../../components/IconButton';\nimport Dialog from '../../compositions/Dialog';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { WrapNearFormValues } from '../../services/NearService';\nimport trans from '../../translation/trans';\nimport createDefaultWrapNearFormValues from './utils/createDefaultWrapNearFormValues';\nimport validateWrapNearFormValues from './utils/validateWrapNearFormValues';\nimport Button from '../../components/Button';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\nimport s from './WrapNearDialog.module.scss';\nimport Icon from '../../components/Icon';\n\ninterface Props {\n    open: boolean;\n    onRequestClose: () => void;\n    onRequestSwitchPairs: () => void;\n    onSubmit: (formValues: WrapNearFormValues) => void;\n    input: TokenViewModel;\n    output: TokenViewModel;\n    requiredDeposit: string;\n    onDepositClick: () => void;\n}\n\nexport default function WrapNearDialog({\n    open,\n    onRequestClose,\n    onRequestSwitchPairs,\n    onSubmit,\n    input,\n    output,\n    requiredDeposit,\n    onDepositClick,\n}: Props): ReactElement {\n    const [formValues, setFormValues] = useState(createDefaultWrapNearFormValues());\n\n    function handleSwitchTokenPlaces() {\n        const wrapType = formValues.type === 'unwrap' ? 'wrap' : 'unwrap';\n\n        setFormValues({\n            ...formValues,\n            amountInFormatted: '0',\n            amountIn: '0',\n            type: wrapType,\n        });\n\n        onRequestSwitchPairs();\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            amountIn: input.balance,\n            amountInFormatted: FluxSdk.utils.formatToken(input.balance, input.decimals, 2),\n        });\n    }\n\n    function handleInputChange(value: string) {\n        setFormValues({\n            ...formValues,\n            amountIn: value !== '' ? FluxSdk.utils.toToken(value, input.decimals) : '0',\n            amountInFormatted: value,\n        });\n    }\n\n    function handleSubmit() {\n        onSubmit(formValues);\n    }\n\n    const errors = validateWrapNearFormValues(formValues, input);\n\n    return (\n        <Dialog\n            title={trans('wrapNearDialog.title')}\n            open={open}\n            onRequestClose={onRequestClose}\n            onSubmitClick={handleSubmit}\n            canSubmit={errors.canSubmit}\n            hideButtons={requiredDeposit !== '0'}\n        >\n\n            {requiredDeposit === '0' && (\n                <>\n                    <p>{trans('wrapNearDialog.description')}</p>\n                    <div className={s.token}>\n                        <LabeledTokenSelect\n                            label={trans('market.label.youPay')}\n                            onTokenSwitch={() => { }}\n                            value={formValues.amountInFormatted}\n                            tokens={[input]}\n                            selectedToken={input}\n                            onValueChange={(v) => handleInputChange(v)}\n                            showPrice={false}\n                            onBalanceClick={handleBalanceClick}\n                        />\n                    </div>\n\n                    <div className={s.switchTokens}>\n                        <IconButton\n                            onClick={handleSwitchTokenPlaces}\n                            iconComponent={<Icon className={s.swapIcon} name=\"swap\" />}\n                            alt={trans('market.action.switchTokens')}\n                        />\n                    </div>\n\n                    <div className={s.token}>\n                        <LabeledTokenSelect\n                            label={trans('market.label.youReceive')}\n                            onTokenSwitch={() => { }}\n                            value={formValues.amountInFormatted}\n                            tokens={[output]}\n                            selectedToken={output}\n                            disabledInput\n                            showPrice={false}\n                        />\n                    </div>\n                </>\n            )}\n\n            {requiredDeposit !== '0' && (\n                <>\n                    <p>{trans('wrapNearDialog.requiredDeposit.description', { amount: FluxSdk.utils.formatToken(requiredDeposit, 24, 5) })}</p>\n                    <div className={s.depositButtons}>\n                        <Button className={s.depositCancelButton} onClick={onRequestClose}>{trans('global.action.cancel')}</Button>\n                        <Button onClick={onDepositClick}>{trans('wrapNearDialog.requiredDeposit.submit', { amount: FluxSdk.utils.formatToken(requiredDeposit, 24, 5) })}</Button>\n                    </div>\n                </>\n            )}\n\n            <Error error={errors.amountIn} />\n        </Dialog>\n    );\n}\n","import { WrapNearFormValues } from \"../../../services/NearService\";\n\nexport default function createDefaultWrapNearFormValues(): WrapNearFormValues {\n    return {\n        amountIn: '0',\n        amountInFormatted: '0',\n        type: 'wrap',\n    };\n}\n","import Big from \"big.js\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { WrapNearFormValues } from \"../../../services/NearService\";\nimport trans from \"../../../translation/trans\";\n\ninterface WrapNearFormErrors {\n    amountIn: string;\n    canSubmit: boolean;\n}\n\n\nexport default function validateWrapNearFormValues(formValues: WrapNearFormValues, inputToken: TokenViewModel): WrapNearFormErrors {\n    const errors: WrapNearFormErrors = {\n        amountIn: '',\n        canSubmit: true,\n    };\n\n    if (formValues.type === 'wrap' && formValues.amountIn === inputToken.balance) {\n        errors.amountIn = trans('wrapNearDialog.errors.amountIn.exactBalance');\n        errors.canSubmit = false;\n    }\n\n    if (formValues.amountIn !== '' && inputToken.balance !== '') {\n        if (new Big(formValues.amountIn).lte(0)) {\n            errors.canSubmit = false;\n        }\n\n        if (new Big(formValues.amountIn).gt(inputToken.balance)) {\n            errors.canSubmit = false;\n            errors.amountIn = trans('wrapNearDialog.errors.amountIn.notEnoughBalance');\n        }\n    }\n\n    return errors;\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport WrapNearDialog from '../../containers/WrapNearDialog';\nimport { loadNearBalances } from '../../redux/account/accountActions';\nimport { setWrappingNearDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\nimport { depositWrappedNearStorage, unwrapNear, wrapNear, WrapNearFormValues } from '../../services/NearService';\n\n\nexport default function WrapNearDialogConnector() {\n    const dispatch = useDispatch();\n    const [switched, setSwitched] = useState(false);\n    const isDialogOpen = useSelector((store: Reducers) => store.dialogs.isWrappingNearOpen);\n    const nearToken = useSelector((store: Reducers) => store.account.nearToken);\n    const wrappedNearToken = useSelector((store: Reducers) => store.account.wrappedNearToken);\n    const requiredDeposit = useSelector((store: Reducers) => store.account.requiredWrappedNearDeposit);\n\n    const handleRequestCloseDialog = useCallback(() => {\n        dispatch(setWrappingNearDialogOpen(false));\n    }, [dispatch]);\n\n    useEffect(() => {\n        dispatch(loadNearBalances());\n    }, [dispatch, isDialogOpen]);\n\n    const handleRequestSwitchPairs = useCallback(() => {\n        setSwitched(!switched);\n    }, [switched]);\n\n    const handleSubmit = useCallback((formValues: WrapNearFormValues) => {\n        if (formValues.type === 'wrap') {\n            wrapNear(formValues.amountIn);\n        } else {\n            unwrapNear(formValues.amountIn);\n        }\n    }, []);\n\n    const handleDepositClick = useCallback(() => {\n        if (!requiredDeposit) return;\n\n        depositWrappedNearStorage(requiredDeposit);\n    }, [requiredDeposit]);\n\n    if (!nearToken || !wrappedNearToken) {\n        return <div />;\n    }\n\n    return (\n        <WrapNearDialog\n            open={isDialogOpen}\n            onRequestClose={handleRequestCloseDialog}\n            onSubmit={handleSubmit}\n            onRequestSwitchPairs={handleRequestSwitchPairs}\n            input={switched ? wrappedNearToken : nearToken}\n            output={switched ? nearToken : wrappedNearToken}\n            requiredDeposit={requiredDeposit ?? '0'}\n            onDepositClick={handleDepositClick}\n        />\n    );\n}\n","import React from 'react';\nimport Button from '../../components/Button';\nimport Dialog from '../../compositions/Dialog';\nimport trans from '../../translation/trans';\n\nimport s from './DisclaimerDialog.module.scss';\n\ninterface Props {\n    open: boolean;\n    onRequestClose: () => void;\n}\n\nexport default function DisclaimerDialog({\n    open,\n    onRequestClose,\n}: Props) {\n    return (\n        <Dialog paperClassName={s.dialog} title={trans('disclaimer.title')} hideButtons open={open} onRequestClose={() => {}} onSubmitClick={() => {}}>\n            <p className={s.description}>{trans('disclaimer.description')}</p>\n            <Button className={s.button} onClick={onRequestClose}>{trans('disclaimer.action.accept')}</Button>\n        </Dialog>\n    );\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport DisclaimerDialog from '../../containers/DisclaimerDialog';\n\nconst DISCLAIMER_STORAGE_KEY = 'flux_accepted_disclaimer';\n\nexport default function DisclaimerDialogConnector() {\n    const [open, setOpen] = useState(false);\n\n    useEffect(() => {\n        const hasAccepted = !!localStorage.getItem(DISCLAIMER_STORAGE_KEY);\n\n        if (!hasAccepted) {\n            setOpen(true);\n        }\n    }, []);\n\n    const handleClose = useCallback(() => {\n        localStorage.setItem(DISCLAIMER_STORAGE_KEY, 'yes');\n        setOpen(false);\n    }, []);\n\n    return (\n        <DisclaimerDialog\n            open={open}\n            onRequestClose={handleClose}\n        />\n    );\n}\n","import React, { PropsWithChildren, ReactElement, useEffect } from \"react\";\nimport classnames from 'classnames';\n\nimport Footer from \"../Footer\";\nimport MenuConnector from \"../../connectors/MenuConnector\";\n\nimport styles from './Page.module.scss';\nimport WrapNearDialogConnector from \"../../connectors/WrapNearDialogConnector\";\nimport { setDarkmode } from \"../../utils/darkmode\";\nimport DisclaimerDialogConnector from \"../../connectors/DisclaimerDialogConnector\";\ninterface Props {\n    className?: string;\n    bodyClassName?: string;\n    hasNavigation?: boolean;\n    hasFooter?: boolean;\n    size?: 'large' | 'medium' | 'unrestricted';\n}\n\nexport default function Page({\n    children,\n    hasNavigation = true,\n    hasFooter = true,\n    size = 'medium',\n    className = '',\n    bodyClassName = '',\n}: PropsWithChildren<Props>): ReactElement {\n    const pageBodyClassName = classnames(styles.page__body, bodyClassName, {\n        [styles['page__body--large']]: size === 'large',\n        [styles['page__body--unrestricted']]: size === 'unrestricted',\n    });\n\n    useEffect(() => {\n        setDarkmode(false);\n    }, []);\n\n    return (\n        <div className={`${styles.page} ${className}`}>\n            {/* Normally don't put connectors in containers.. */}\n            {hasNavigation && <MenuConnector />}\n            <WrapNearDialogConnector />\n            <DisclaimerDialogConnector />\n            <main className={pageBodyClassName}>\n                {children}\n            </main>\n            {hasFooter && <Footer />}\n        </div>\n    );\n}\n","import FluxSdk from \"@fluxprotocol/amm-sdk\";\nimport Big from \"big.js\";\nimport { MarketViewModel } from \"../models/Market\";\nimport { getScalarBounds } from \"./MarketService\";\nimport { connectSdk } from \"./WalletService\";\n\nexport interface SeedPoolFormValues {\n    outcomePercentages: string[];\n    mainTokenInput: string;\n    mainTokenInputFormatted: string;\n}\n\nexport interface SeedScalarMarketFormValues {\n    initialValue: Big;\n    mainTokenInput: string;\n    mainTokenInputFormatted: string;\n}\n\nexport async function seedPool(marketId: string, tokenId: string, values: SeedPoolFormValues) {\n    const sdk = await connectSdk();\n\n    sdk.addLiquidity(tokenId, marketId, values.mainTokenInput, values.outcomePercentages.map(p => Number(p)), {\n        value: '1',\n    });\n}\n\nexport async function seedScalarMarket(market: MarketViewModel, values: SeedScalarMarketFormValues) {\n    const sdk = await connectSdk();\n    const bounds = getScalarBounds(market.outcomeTokens.map(token => token.bound));\n    const weightsInPercentages = FluxSdk.utils.calcScalarDistributionPercentages(values.initialValue, bounds.lowerBound, bounds.upperBound);\n    return sdk.addLiquidity(market.collateralTokenId, market.id, values.mainTokenInput, weightsInPercentages, {\n        value: '1',\n    });\n}\n\nexport async function joinPool(marketId: string, amountIn: string, tokenId: string) {\n    const sdk = await connectSdk();\n    sdk.addLiquidity(tokenId, marketId, amountIn, undefined, {\n        value: '1',\n    });\n}\n\nexport async function exitPool(marketId: string, amountIn: string) {\n    const sdk = await connectSdk();\n    sdk.exitPool(marketId, amountIn);\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { EscrowStatus } from '../../models/EscrowStatus';\nimport { MarketViewModel } from '../../models/Market';\nimport { PoolToken } from '../../models/PoolToken';\nimport { TokenMetadata } from '../../models/TokenMetadata';\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\nexport type MarketState = Readonly<{\n    markets: MarketViewModel[];\n    resolutingMarkets: MarketViewModel[];\n    pendingMarkets: MarketViewModel[];\n    marketDetail?: MarketViewModel;\n    escrowStatus: EscrowStatus[];\n    marketError?: string[];\n    marketLoading: boolean;\n    editLoading: boolean,\n    poolTokenBalance?: PoolToken;\n    tokenWhitelist: TokenMetadata[];\n}>;\n\nconst initialState: MarketState = {\n    marketLoading: false,\n    editLoading: false,\n    markets: [],\n    pendingMarkets: [],\n    escrowStatus: [],\n    resolutingMarkets: [],\n    tokenWhitelist: [],\n};\n\nconst marketsSlice = createSlice({\n    initialState,\n    name: 'markets',\n    reducers: {\n        setMarketErrors(state: MarketState, action: PayloadAction<string[]>): MarketState {\n            return ({\n                ...state,\n                marketError: action.payload,\n            });\n        },\n        setTokenWhitelist(state: MarketState, action: PayloadAction<TokenMetadata[]>): MarketState {\n            return ({\n                ...state,\n                tokenWhitelist: action.payload,\n            });\n        },\n        setMarketLoading(state: MarketState, action: PayloadAction<boolean>): MarketState {\n            return ({\n                ...state,\n                marketLoading: action.payload,\n            });\n        },\n        setMarketEditLoading(state: MarketState, action: PayloadAction<boolean>): MarketState {\n            return ({\n                ...state,\n                editLoading: action.payload,\n            });\n        },\n        setPendingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                pendingMarkets: action.payload,\n            });\n        },\n        appendPendingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                pendingMarkets: [...action.payload, ...state.pendingMarkets],\n            });\n        },\n        setMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                markets: action.payload,\n            });\n        },\n        appendMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                markets: [...action.payload, ...state.markets],\n            });\n        },\n        setResolutingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                resolutingMarkets: action.payload,\n            });\n        },\n        appendResolutingMarkets(state: MarketState, action: PayloadAction<MarketViewModel[]>): MarketState {\n            return ({\n                ...state,\n                resolutingMarkets: [...action.payload, ...state.resolutingMarkets],\n            });\n        },\n        setMarketDetail(state: MarketState, action: PayloadAction<MarketViewModel | undefined>): MarketState {\n            return ({\n                ...state,\n                marketDetail: action.payload,\n            });\n        },\n        setMarketDetailTokens(state: MarketState, action: PayloadAction<TokenViewModel[]>): MarketState {\n            if (!state.marketDetail) {\n                return state;\n            }\n\n            return ({\n                ...state,\n                marketDetail: {\n                    ...state.marketDetail,\n                    outcomeTokens: action.payload,\n                },\n            });\n        },\n        setMarketPoolTokenBalance(state: MarketState, action: PayloadAction<PoolToken | undefined>): MarketState {\n            return ({\n                ...state,\n                poolTokenBalance: action.payload,\n            });\n        },\n        setMarketEscrowStatus(state: MarketState, action: PayloadAction<EscrowStatus[]>): MarketState {\n            return ({\n                ...state,\n                escrowStatus: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setMarketErrors,\n    setMarketLoading,\n    setMarkets,\n    setResolutingMarkets,\n    setMarketDetail,\n    setMarketEditLoading,\n    appendMarkets,\n    setMarketPoolTokenBalance,\n    setMarketDetailTokens,\n    setTokenWhitelist,\n    appendPendingMarkets,\n    setPendingMarkets,\n    appendResolutingMarkets,\n    setMarketEscrowStatus,\n} = marketsSlice.actions;\n\nexport default marketsSlice.reducer;\n","export default __webpack_public_path__ + \"static/media/circle-crypto.369b0cdb.png\";","export default __webpack_public_path__ + \"static/media/card-crypto.aaaececb.png\";","export default __webpack_public_path__ + \"static/media/icon-crypto.c48fc772.png\";","export default __webpack_public_path__ + \"static/media/circle-esports.590ba279.png\";","export default __webpack_public_path__ + \"static/media/card-esports.4c5f4066.png\";","export default __webpack_public_path__ + \"static/media/icon-esports.e99b62e2.png\";","export default __webpack_public_path__ + \"static/media/circle-meme.529c4322.png\";","export default __webpack_public_path__ + \"static/media/card-meme.4ff46c36.png\";","export default __webpack_public_path__ + \"static/media/icon-meme.3779da1b.png\";","export default __webpack_public_path__ + \"static/media/circle-politics.1414be74.png\";","export default __webpack_public_path__ + \"static/media/card-politics.6e2259aa.png\";","export default __webpack_public_path__ + \"static/media/icon-politics.b9270914.png\";","export default __webpack_public_path__ + \"static/media/circle-sports.33c5c70f.png\";","export default __webpack_public_path__ + \"static/media/card-sports.2266a4c6.png\";","export default __webpack_public_path__ + \"static/media/icon-sports.ef9bf0ac.png\";","export default __webpack_public_path__ + \"static/media/circle-startups.fbb6d89b.png\";","export default __webpack_public_path__ + \"static/media/card-startups.53c89e6d.png\";","export default __webpack_public_path__ + \"static/media/icon-startups.1be65d04.png\";","export default __webpack_public_path__ + \"static/media/circle-stocks.45134b15.png\";","export default __webpack_public_path__ + \"static/media/card-stockmarket.98131a96.png\";","export default __webpack_public_path__ + \"static/media/icon-stockmarket.3ae8c898.png\";","export default __webpack_public_path__ + \"static/media/circle-viral.f35235ce.png\";","export default __webpack_public_path__ + \"static/media/card-viral.9943d2c0.png\";","export default __webpack_public_path__ + \"static/media/icon-viral.4ba61e8a.png\";","import circleCrypto from '../assets/images/circle-crypto.png';\nimport cardCrypto from '../assets/images/card-crypto.png';\nimport iconCrypto from '../assets/images/icons/icon-crypto.png';\n\nimport circleEsports from '../assets/images/circle-esports.png';\nimport cardEsports from '../assets/images/card-esports.png';\nimport iconEsports from '../assets/images/icons/icon-esports.png';\n\nimport circleMeme from '../assets/images/circle-meme.png';\nimport cardMeme from '../assets/images/card-meme.png';\nimport iconMeme from '../assets/images/icons/icon-meme.png';\n\nimport circlePolitics from '../assets/images/circle-politics.png';\nimport cardPolitics from '../assets/images/card-politics.png';\nimport iconPolitics from '../assets/images/icons/icon-politics.png';\n\nimport circleSports from '../assets/images/circle-sports.png';\nimport cardSports from '../assets/images/card-sports.png';\nimport iconSports from '../assets/images/icons/icon-sports.png';\n\nimport circleStartups from '../assets/images/circle-startups.png';\nimport cardStartups from '../assets/images/card-startups.png';\nimport iconStartups from '../assets/images/icons/icon-startups.png';\n\nimport circleStocks from '../assets/images/circle-stocks.png';\nimport cardStocks from '../assets/images/card-stockmarket.png';\nimport iconStocks from '../assets/images/icons/icon-stockmarket.png';\n\nimport circleViral from '../assets/images/circle-viral.png';\nimport cardViral from '../assets/images/card-viral.png';\nimport iconViral from '../assets/images/icons/icon-viral.png';\n\nimport { MarketCategory } from \"../models/Market\";\nimport trans from '../translation/trans';\n\ninterface CategoryInfo {\n    icon: string;\n    cardIcon: string;\n    circleIcon: string;\n    category: MarketCategory;\n    title?: string;\n    color: string;\n}\n\nexport default function getCategoryInfo(category?: MarketCategory | string): CategoryInfo {\n    switch (category) {\n        case MarketCategory.Crypto:\n            return {\n                circleIcon: circleCrypto,\n                category,\n                cardIcon: cardCrypto,\n                icon: iconCrypto,\n                title: trans('market.category.crypto'),\n                color: '#5E60CE',\n            };\n        case MarketCategory.Esports:\n            return {\n                circleIcon: circleEsports,\n                category,\n                cardIcon: cardEsports,\n                icon: iconEsports,\n                title: trans('market.category.esports'),\n                color: '#8E00E0',\n            };\n        case MarketCategory.Meme:\n            return {\n                circleIcon: circleMeme,\n                category,\n                cardIcon: cardMeme,\n                icon: iconMeme,\n                title: trans('market.category.meme'),\n                color: '#48BFE3',\n            };\n        case MarketCategory.Politics:\n            return {\n                circleIcon: circlePolitics,\n                category,\n                cardIcon: cardPolitics,\n                icon: iconPolitics,\n                title: trans('market.category.politics'),\n                color: '#6930C3',\n            };\n        case MarketCategory.Sports:\n            return {\n                circleIcon: circleSports,\n                category,\n                cardIcon: cardSports,\n                icon: iconSports,\n                title: trans('market.category.sports'),\n                color: '#7DEECE',\n            };\n        case MarketCategory.Startups:\n            return {\n                circleIcon: circleStartups,\n                category,\n                cardIcon: cardStartups,\n                icon: iconStartups,\n                title: trans('market.category.startups'),\n                color: '#5390D9',\n            };\n        case MarketCategory.Stocks:\n            return {\n                circleIcon: circleStocks,\n                category,\n                cardIcon: cardStocks,\n                icon: iconStocks,\n                title: trans('market.category.stocks'),\n                color: '#4EA8DE',\n            };\n        case MarketCategory.Viral:\n            return {\n                circleIcon: circleViral,\n                category,\n                cardIcon: cardViral,\n                icon: iconViral,\n                title: trans('market.category.viral'),\n                color: '#56CFE1',\n            };\n        default:\n            return {\n                circleIcon: circleStocks,\n                category: MarketCategory.Unknown,\n                cardIcon: cardStocks,\n                icon: iconStocks,\n                title: category,\n                color: '#4EA8DE',\n            };\n    }\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport Button from '@material-ui/core/Button';\n\nimport { MarketCategory } from '../../models/Market';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\n\nimport s from './Tag.module.scss';\n\ninterface Props {\n    category?: MarketCategory | string;\n    className?: string;\n    active?: boolean;\n    type?: 'label' | 'button';\n    onClick?: () => void;\n}\n\nexport default function Tag({\n    category,\n    onClick,\n    active = false,\n    type = 'label',\n    className = '',\n}: Props) {\n    const categoryInfo = getCategoryInfo(category);\n\n    const rootClassName = classnames(s.root, className, {\n        [s['root--active']]: active,\n    });\n\n    if (type === 'button') {\n        return (\n            <Button onClick={onClick} className={rootClassName}>\n                <span className={s.title}>{categoryInfo.title}</span>\n                <div className={s.cardImage} style={{ backgroundColor: categoryInfo.color }}>\n                    <img src={categoryInfo.cardIcon} alt={categoryInfo.title} className={s.icon} />\n                </div>\n            </Button>\n        );\n    }\n\n    return (\n        <div className={rootClassName}>\n            <span className={s.title}>{categoryInfo.title}</span>\n            <div className={s.cardImage} style={{ backgroundColor: categoryInfo.color }}>\n                <img src={categoryInfo.cardIcon} alt={categoryInfo.title} className={s.icon} />\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\nimport { formatResolutionDate } from '../../services/MarketService';\n\nimport s from './MarketInfoCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n}\n\nexport default function MarketInfoCard({\n    market,\n    className = '',\n}: Props): ReactElement {\n    const categoryInfo = market.category.length ? market.category.map(category => getCategoryInfo(category)) : [getCategoryInfo()];\n\n    return (\n        <div className={classnames(s.root, className)} style={{ backgroundColor: categoryInfo[0].color }}>\n            <div>\n                <span className={s.categoryTitle}>{categoryInfo.map(info => info.title).join(' | ')}</span>\n                <h2 className={s.title}>{market.description}</h2>\n            </div>\n            <div className={s.bubble}>\n                <img className={s.bubbleIcon} src={categoryInfo[0].cardIcon} alt={market.category[0]} />\n            </div>\n            <div className={s.resolutionInfo}>\n                <span>{trans('market.resolutionDate')} <strong>{formatResolutionDate(market.resolutionDate)}</strong></span>\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport { TokenViewModel } from '../../models/TokenViewModel';\n\nimport s from './TokenWeightsBar.module.scss';\n\ninterface Props {\n    tokens: TokenViewModel[];\n    className?: string;\n}\n\nexport default function TokenWeightsBar({\n    tokens,\n    className = '',\n}: Props): ReactElement {\n    return (\n        <div className={classnames(s['token-weights-bar'], className)}>\n            {tokens.map((token, index) => {\n                const weight = token.odds.mul(100);\n\n                return (\n                    <span\n                        key={index}\n                        className={s['token-weights-bar__weight']}\n                        style={{\n                            width: `${weight.toString()}%`,\n                            backgroundColor: `var(${token.colorVar})`,\n                        }}\n                    />\n                );\n            })}\n        </div>\n    );\n}\n","export function prettyFormatNumber(num: string): string {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n","import React from 'react';\nimport TokenWeightsBar from '../../../../components/TokenWeightsBar';\nimport trans from '../../../../translation/trans';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { prettyFormatNumber } from '../../../../utils/prettyFormatNumber';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\n\nimport s from './CategoricalOpinionCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n    showAllInfo: boolean;\n}\n\nexport default function CategoricalOpinionCard({\n    market,\n    showAllInfo,\n}: Props) {\n    return (\n        <>\n            <h2 className={s['title']}>\n                {trans('market.label.opinion')}\n            </h2>\n            <TokenWeightsBar tokens={market.outcomeTokens} className={s['token-weight-bar']} />\n            <div className={s['outcomes-wrapper']}>\n                {market.outcomeTokens.map((outcome, index) => (\n                    <div key={outcome.outcomeId} className={s['outcome']}>\n                        <div className={s['outcome-label-wrapper']}>\n                            <div style={{ backgroundColor: `var(${outcome.colorVar})` }} className={s.colorLabel} />\n                            <span className={s.tokenName}>{outcome.tokenName}</span>\n                        </div>\n                        <span className={s.percentage}>{outcome.odds.mul(100).toNumber().toFixed(2)}%</span>\n                    </div>\n                ))}\n            </div>\n            <div className={s.volumeWrapper}>\n                <span>{trans('market.label.totalVolume')}</span>\n                <span>\n                    {prettyFormatNumber(formatCollateralToken(market.volume, market.collateralToken.decimals))} {market.collateralToken.tokenSymbol}\n                </span>\n            </div>\n            {showAllInfo && (\n                <div className={s.volumeWrapper}>\n                    <span>{trans('market.label.totalVolumeInUSD')}</span>\n                    <span>\n                        $ {Number(market.volumeInMoney).toFixed(2)}\n                    </span>\n                </div>\n            )}\n            <div className={s.volumeWrapper}>\n                <span>{trans('market.label.totalLiquidity')}</span>\n                <span>\n                    {prettyFormatNumber(formatCollateralToken(market.liquidity, market.collateralToken.decimals))} {market.collateralToken.tokenSymbol}\n                </span>\n            </div>\n            {showAllInfo && (\n                <div className={s.volumeWrapper}>\n                    <span>{trans('market.label.totalLiquidityInUSD')}</span>\n                    <span>\n                        $ {Number(market.liquidityInMoney).toFixed(2)}\n                    </span>\n                </div>\n            )}\n        </>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\nimport React from 'react';\nimport { SCALAR_VALUE_DECIMALS } from '../../../../config';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\nimport { getScalarBounds, getScalarLongShortTokens } from '../../../../services/MarketService';\nimport trans from '../../../../translation/trans';\nimport { prettyFormatNumber } from '../../../../utils/prettyFormatNumber';\n\nimport s from './ScalarOpinionCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n    showAllInfo: boolean;\n}\n\nexport default function ScalarOpinionCard({\n    market,\n    showAllInfo,\n}: Props) {\n    const bounds = getScalarBounds(market.outcomeTokens.map(t => t.bound));\n    const scalarTokens = getScalarLongShortTokens(market.outcomeTokens);\n    const scalarValue = FluxSdk.utils.calcScalarValue(bounds.lowerBound, bounds.upperBound, new Big(scalarTokens.longToken.price));\n\n    return (\n        <>\n            <h2 className={s.title}>\n                {trans('market.label.opinion')}\n            </h2>\n            <div className={s.rangeWrapper}>\n                <span>{trans('market.label.scalarRange')}</span>\n                <span>{prettyFormatNumber(bounds.lowerBound.toString())} - {prettyFormatNumber(bounds.upperBound.toString())}</span>\n            </div>\n            <div className={s.estimateWrapper}>\n                <span>{trans('market.label.currentEstimate')}</span>\n                <span>\n                    {prettyFormatNumber(FluxSdk.utils.formatToken(scalarValue.toString(), 0, SCALAR_VALUE_DECIMALS))}\n                </span>\n            </div>\n            <div className={s.volumeWrapper}>\n                <span>{trans('market.label.totalVolume')}</span>\n                <span>\n                    {prettyFormatNumber(formatCollateralToken(market.volume, market.collateralToken.decimals))} {market.collateralToken.tokenSymbol}\n                </span>\n            </div>\n            {showAllInfo && (\n                <div className={s.volumeWrapper}>\n                    <span>{trans('market.label.totalVolumeInUSD')}</span>\n                    <span>\n                        $ {Number(market.volumeInMoney).toFixed(2)}\n                    </span>\n                </div>\n            )}\n            <div className={s.volumeWrapper}>\n                <span>{trans('market.label.totalLiquidity')}</span>\n                <span>\n                    {prettyFormatNumber(formatCollateralToken(market.liquidity, market.collateralToken.decimals))} {market.collateralToken.tokenSymbol}\n                </span>\n            </div>\n            {showAllInfo && (\n                <div className={s.volumeWrapper}>\n                    <span>{trans('market.label.totalLiquidityInUSD')}</span>\n                    <span>\n                        $ {Number(market.liquidityInMoney).toFixed(2)}\n                    </span>\n                </div>\n            )}\n        </>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { MarketType, MarketViewModel } from '../../models/Market';\nimport CategoricalOpinionCard from './components/CategoricalOpinionCard/CategoricalOpinionCard';\nimport ScalarOpinionCard from './components/ScalarOpinionCard/ScalarOpinionCard';\n\nimport s from './MarketOpinionCard.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n    showAllInfo: boolean;\n}\n\nexport default function MarketOpinionCard({\n    market,\n    showAllInfo,\n}: Props): ReactElement {\n    return (\n        <div className={s.root}>\n            {market.type !== MarketType.Scalar && (<CategoricalOpinionCard market={market} showAllInfo={showAllInfo} />)}\n            {market.type === MarketType.Scalar && (<ScalarOpinionCard market={market} showAllInfo={showAllInfo} />)}\n        </div>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\n\nimport { MarketViewModel } from '../../models/Market';\nimport MarketInfoCard from '../../components/MarketInfoCard';\n\nimport s from './MarketCard.module.scss';\nimport MarketOpinionCard from '../MarketOpinionCard';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n    href: string;\n    showAllInfo: boolean;\n}\n\nexport default function MarketCard({\n    market,\n    href,\n    showAllInfo,\n    className = '',\n}: Props) {\n    return (\n        <Link to={{ pathname: href, state: { canGoBack: true } }} className={classnames(s.root, className)}>\n            <MarketInfoCard market={market} className={s.infoCard} />\n            <MarketOpinionCard market={market} showAllInfo={showAllInfo} />\n        </Link>\n    );\n}\n","import React, { ReactElement, useMemo } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport Tag from '../../components/Tag';\nimport MarketCard from '../../compositions/MarketCard';\nimport { MarketCategory, MarketViewModel } from '../../models/Market';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\n\nimport s from './MarketOverview.module.scss';\n\ninterface Props {\n    markets: MarketViewModel[];\n    loading: boolean;\n    onFilterChange: (filters: MarketFilters) => void;\n    onRequestMoreMarkets: () => void;\n    activeFilters: MarketFilters;\n    hasMoreMarkets: boolean;\n}\n\nexport default function MarketOverview({\n    markets,\n    onFilterChange,\n    onRequestMoreMarkets,\n    activeFilters,\n    loading,\n    hasMoreMarkets,\n}: Props): ReactElement {\n    const marketCategories = useMemo(() => Object.values(MarketCategory).filter(category => category !== MarketCategory.Unknown), []);\n\n    function handleCategoryClick(category: MarketCategory) {\n        let activeCategories = activeFilters.categories;\n\n        if (activeCategories?.includes(category)) {\n            activeCategories = activeCategories.filter(cat => cat !== category);\n        } else {\n            activeCategories?.push(category);\n        }\n\n        onFilterChange({\n            ...activeFilters,\n            categories: activeCategories,\n        });\n    }\n\n    return (\n        <div className={s.root}>\n            <div className={s.filters}>\n                {marketCategories.map((category) => (\n                    <Tag\n                        key={category}\n                        className={s.filter}\n                        category={category}\n                        active={activeFilters.categories?.includes(category)}\n                        onClick={() => handleCategoryClick(category)}\n                        type=\"button\"\n                    />\n                ))}\n            </div>\n            <InfiniteScroll\n                dataLength={markets.length}\n                next={onRequestMoreMarkets}\n                hasMore={hasMoreMarkets}\n                loader={<div />}\n                className={s.markets}\n            >\n                {markets.map(market => (\n                    <MarketCard\n                        key={market.id}\n                        href={routePaths.marketDetail(market.id)}\n                        className={s.market}\n                        showAllInfo={false}\n                        market={market}\n                    />\n                ))}\n            </InfiniteScroll>\n\n            <div className={s.markets}>\n                {loading && (\n                    new Array(9).fill('').map((_, index) => (\n                        <div className={s.market} key={index}>\n                            <Skeleton variant=\"rect\" height={288} className={s.skeleton} />\n                            <Skeleton variant=\"rect\" height={100} className={s.skeleton} />\n                        </div>\n                    ))\n                )}\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement, useEffect, useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router';\nimport MarketOverview from '../../containers/MarketOverview';\nimport { MarketFilters } from '../../services/MarketService';\nimport { MarketCategory, MarketViewModel } from '../../models/Market';\nimport { Reducers } from '../../redux/reducers';\nimport { DEFAULT_LIMIT } from '../../config';\n\ninterface Props {\n    rootPath: string;\n    markets: MarketViewModel[];\n    defaultMarketFilters: MarketFilters;\n    onRequestFetchMarkets: (filters: MarketFilters, append: boolean) => void;\n}\n\nexport default function MarketOverviewConnector({\n    rootPath,\n    markets,\n    defaultMarketFilters,\n    onRequestFetchMarkets,\n}: Props): ReactElement {\n    const loading = useSelector((store: Reducers) => store.market.marketLoading);\n    const history = useHistory();\n    const location = useLocation();\n    const offset = useRef<number>(0);\n    const [filters, setFilters] = useState<MarketFilters>({\n        categories: [],\n        ...defaultMarketFilters,\n    });\n\n    // Changes just the query params\n    function handleFilterChange(newFilters: MarketFilters) {\n        const queryParams = new URLSearchParams();\n\n        if (newFilters.categories?.length) {\n            newFilters.categories.forEach((category) => {\n                queryParams.append('categories', category.toString());\n            });\n        }\n\n        history.replace(`${rootPath}?${queryParams.toString()}`);\n    }\n\n    // Listens for a query change and adapts the internal state\n    // Gets triggered by the history replace of handleFilterChange\n    useEffect(() => {\n        const queryParams = new URLSearchParams(location.search);\n        const newActiveFilters: MarketFilters = {\n            ...filters,\n            limit: DEFAULT_LIMIT,\n            categories: queryParams.getAll('categories') as MarketCategory[],\n        };\n\n        onRequestFetchMarkets(newActiveFilters, false);\n        setFilters(newActiveFilters);\n    }, [location]);\n\n    function handleRequestMoreMarkets() {\n        offset.current += DEFAULT_LIMIT;\n\n        const newActiveFilters: MarketFilters = {\n            ...filters,\n            offset: offset.current,\n            limit: DEFAULT_LIMIT,\n        };\n\n        onRequestFetchMarkets(newActiveFilters, true);\n    }\n\n    return (\n        <MarketOverview\n            loading={loading}\n            markets={markets}\n            activeFilters={filters}\n            onFilterChange={handleFilterChange}\n            onRequestMoreMarkets={handleRequestMoreMarkets}\n            hasMoreMarkets={markets.length % DEFAULT_LIMIT === 0}\n        />\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchResolutingMarkets } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\nimport MarketOverviewConnector from '../MarketOverviewConnector';\n\n\nexport default function FinalizedMarketsOverviewConnector() {\n    const dispatch = useDispatch();\n    const markets = useSelector((store: Reducers) => store.market.resolutingMarkets);\n    const handleFetchMarkets = useCallback((filters: MarketFilters, append: boolean) => {\n        dispatch(fetchResolutingMarkets(filters, append));\n    }, [dispatch]);\n\n    return (\n        <MarketOverviewConnector\n            markets={markets}\n            onRequestFetchMarkets={handleFetchMarkets}\n            rootPath={routePaths.resoluted()}\n            defaultMarketFilters={{\n                expired: true,\n                finalized: true,\n            }}\n        />\n    );\n}\n","import { MarketViewModel } from \"../../models/Market\";\nimport { TokenViewModel } from \"../../models/TokenViewModel\";\nimport { getAccountId, getPoolBalanceForMarketByAccount } from \"../../services/AccountService\";\nimport { getCollateralTokenMetadata } from \"../../services/CollateralTokenService\";\nimport { createMarket, getEscrowStatus, getMarketById, getMarketOutcomeTokens, getMarkets, getTokenWhiteListWithDefaultMetadata, MarketFilters, MarketFormValues } from \"../../services/MarketService\";\nimport { seedPool, exitPool, SeedPoolFormValues, seedScalarMarket, SeedScalarMarketFormValues } from \"../../services/PoolService\";\nimport { Reducers } from \"../reducers\";\nimport { setMarketEscrowStatus, appendResolutingMarkets, appendMarkets, setMarketErrors, setMarketLoading, setMarketDetail, setMarkets, setResolutingMarkets, setMarketEditLoading, setMarketPoolTokenBalance, setMarketDetailTokens, setTokenWhitelist, setPendingMarkets, appendPendingMarkets } from \"./market\";\n\nexport function createNewMarket(values: MarketFormValues) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketEditLoading(true));\n\n            await createMarket(values);\n\n            dispatch(setMarketEditLoading(false));\n        } catch (error) {\n            dispatch(setMarketEditLoading(false));\n            console.error('[createNewMarket]', error);\n        }\n    };\n}\n\nexport function loadMarket(id: string) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n            dispatch(setMarketDetail(undefined));\n            dispatch(setMarketPoolTokenBalance(undefined));\n            dispatch(setMarketEscrowStatus([]));\n\n            const market = await getMarketById(id);\n            const accountId = await getAccountId();\n\n            if (!market) {\n                dispatch(setMarketErrors(['Could not find market']));\n                return;\n            }\n\n            if (accountId) {\n                const escrowStatusRequest = getEscrowStatus(id, accountId);\n                const token = await getPoolBalanceForMarketByAccount(accountId, id);\n                const escrowStatus = await escrowStatusRequest;\n\n                dispatch(setMarketEscrowStatus(escrowStatus));\n\n                if (token) {\n                    dispatch(setMarketPoolTokenBalance(token));\n                }\n            }\n\n            dispatch(setMarketDetail(market));\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[loadMarket]', error);\n        }\n    };\n}\n\nexport function reloadTokens(marketId: string, collateralToken: TokenViewModel) {\n    return async (dispatch: Function, getState: () => Reducers) => {\n        const store = getState();\n        const tokens = await getMarketOutcomeTokens(marketId, collateralToken, store.account.account ?? undefined);\n        if (tokens.length === 0) return;\n\n        dispatch(setMarketDetailTokens(tokens));\n    }\n}\n\nexport function fetchMarkets(filters: MarketFilters, append?: boolean) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n            const markets = await getMarkets({\n                ...filters,\n                finalized: false,\n                expired: false,\n            });\n\n            if (append) {\n                dispatch(appendMarkets(markets));\n            } else {\n                dispatch(setMarkets(markets));\n            }\n\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchMarkets]', error);\n        }\n    }\n}\n\nexport function fetchPendingMarkets(filters: MarketFilters, append?: boolean) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n            const markets = await getMarkets({\n                ...filters,\n                expired: true,\n                finalized: false,\n            });\n\n            if (append) {\n                dispatch(appendPendingMarkets(markets));\n            } else {\n                dispatch(setPendingMarkets(markets));\n            }\n\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchPendingMarkets]', error);\n        }\n    }\n}\n\nexport function fetchResolutingMarkets(filters: MarketFilters, append?: boolean) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setMarketLoading(true));\n\n            const markets = await getMarkets({\n                ...filters,\n                expired: true,\n                finalized: true,\n            });\n\n            if (append) {\n                dispatch(appendResolutingMarkets(markets));\n            } else {\n                dispatch(setResolutingMarkets(markets));\n            }\n\n            dispatch(setMarketLoading(false));\n        } catch (error) {\n            dispatch(setMarketLoading(false));\n            console.error('[fetchResolutingMarkets]', error);\n        }\n    }\n}\n\nexport function seedPoolAction(marketId: string, tokenId: string, values: SeedPoolFormValues) {\n    return async (dispatch: Function) => {\n        await seedPool(marketId, tokenId, values);\n    }\n}\n\nexport function seedScalarMarketAction(market: MarketViewModel, values: SeedScalarMarketFormValues) {\n    return async (dispatch: Function) => {\n        await seedScalarMarket(market, values);\n    }\n}\n\nexport function exitPoolAction(marketId: string, amountIn: string) {\n    return async (dispatch: Function) => {\n        await exitPool(marketId, amountIn);\n    }\n}\n\nexport function loadTokenWhitelist() {\n    return async (dispatch: Function) => {\n        // First create a dummy list\n        const whitelist = await getTokenWhiteListWithDefaultMetadata();\n        dispatch(setTokenWhitelist(whitelist));\n\n        // Now we are going to fill in the real metadata\n        const metadataPromises = Object.values(whitelist).map((metadata) => {\n            return getCollateralTokenMetadata(metadata.collateralTokenId);\n        });\n\n        const realMetadata = await Promise.all(metadataPromises);\n        dispatch(setTokenWhitelist(realMetadata));\n    }\n}\n","import React, { ReactElement } from 'react';\nimport { Helmet } from 'react-helmet';\nimport FinalizedMarketsOverviewConnector from '../../../../connectors/FinalizedMarketsOverviewConnector';\nimport trans from '../../../../translation/trans';\n\n\nexport default function ResolutionPage(): ReactElement {\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('marketResolution.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <FinalizedMarketsOverviewConnector />\n        </section>\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchMarkets } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\nimport MarketOverviewConnector from '../MarketOverviewConnector';\n\n\nexport default function TradeableMarketsOverviewConnector() {\n    const dispatch = useDispatch();\n    const markets = useSelector((store: Reducers) => store.market.markets);\n    const handleFetchMarkets = useCallback((filters: MarketFilters, append: boolean) => {\n        dispatch(fetchMarkets(filters, append));\n    }, [dispatch]);\n\n    return (\n        <MarketOverviewConnector\n            markets={markets}\n            onRequestFetchMarkets={handleFetchMarkets}\n            rootPath={routePaths.root()}\n            defaultMarketFilters={{\n                expired: false,\n            }}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { Helmet } from 'react-helmet';\nimport TradeableMarketsOverviewConnector from '../../../../connectors/TradeableMarketsOverviewConnector';\nimport trans from '../../../../translation/trans';\n\n\nexport default function MarketsOverviewPage(): ReactElement {\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('home.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <TradeableMarketsOverviewConnector />\n        </section>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { DateTimePicker as MuiDateTimePicker } from \"@material-ui/pickers\";\n\nimport s from './DateTimePicker.module.scss';\n\ninterface Props {\n    value: Date;\n    onChange: (date: Date | null) => void;\n    helperText?: string;\n    error?: boolean;\n}\n\nexport default function DateTimePicker({\n    value,\n    helperText,\n    error,\n    onChange,\n}: Props): ReactElement {\n    return (\n        <MuiDateTimePicker\n            inputVariant=\"outlined\"\n            value={value}\n            className={s.root}\n            ampm={false}\n            onChange={onChange}\n            helperText={helperText}\n            error={error}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport s from './Label.module.scss';\n\ninterface Props {\n    text: string;\n}\n\nexport default function Label({\n    text,\n}: Props): ReactElement {\n    return (\n        <label className={s.root}>{text}</label>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport s from './TextInput.module.scss';\nimport { InputProps } from '@material-ui/core';\n\nexport interface TextInputProps {\n    multiline?: boolean;\n    onChange?: (value: string) => void;\n    value?: string;\n    required?: boolean;\n    type?: string;\n    helperText?: string;\n    error?: boolean;\n    InputProps?: Partial<InputProps>\n}\n\nexport default function TextInput({\n    multiline,\n    value,\n    required,\n    onChange = () => {},\n    type = 'text',\n    ...props\n}: TextInputProps): ReactElement {\n    return (\n        <TextField\n            {...props}\n            id=\"outlined-multiline-flexible\"\n            multiline={multiline}\n            variant=\"outlined\"\n            className={s.root}\n            value={value}\n            onChange={(event) => onChange(event.target.value)}\n            required={required}\n            type={type}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport Button from '../../components/Button';\nimport Label from '../../components/Label';\nimport TextInput from '../../components/TextInput';\nimport trans from '../../translation/trans';\n\nimport s from './AddableInputs.module.scss';\n\ninterface Props {\n    onChange: (values: string[]) => void;\n    values: string[];\n}\n\nexport default function AddableInputs({\n    onChange,\n    values,\n}: Props): ReactElement {\n    function handleAddMoreClick() {\n        values.push('');\n        onChange(values);\n    }\n\n    function handleRemoveClick(index: number) {\n        values.splice(index, 1);\n        onChange(values);\n    }\n\n    function handleInputChange(value: string, index: number) {\n        values[index] = value;\n        onChange(values);\n    }\n\n    return (\n        <div>\n            <div className={s.inputs}>\n                {values.map((input, index) => (\n                    <div className={s.input} key={index}>\n                        <Label text={trans('marketCreation.label.outcome', { number: (index + 1).toString() })} />\n                        <div className={s.actions}>\n                            <TextInput value={input} onChange={(value) => handleInputChange(value, index)} />\n                            <IconButton aria-label=\"remove\" className={s.removeIcon} onClick={() => handleRemoveClick(index)}>\n                                <DeleteIcon />\n                            </IconButton>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            <Button onClick={handleAddMoreClick} className={s.addMoreButton}>{trans('marketCreation.label.addMoreOutcomes')}</Button>\n        </div>\n    );\n}\n","import React, { ChangeEvent, ReactElement } from 'react';\n\nimport MuiSelect from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport s from './Select.module.scss';\n\nexport interface SelectItem {\n    value: string;\n    label: string;\n}\n\ninterface Props {\n    value: string;\n    items: SelectItem[];\n    onChange: (item: SelectItem) => void;\n}\n\nexport default function Select({\n    value,\n    items,\n    onChange,\n}: Props): ReactElement {\n    function handleChange(event: ChangeEvent<{ name?: string, value: unknown }>) {\n        const value = event.target.value as string;\n        const item = items.find(item => item.value === value);\n\n        if (item) {\n            onChange(item);\n        }\n    }\n\n    return (\n        <MuiSelect className={s.select} value={value} onChange={handleChange} classes={{ icon: s.icon }}>\n            {items.map((item) => (\n                <MenuItem key={item.value} value={item.value}>{item.label}</MenuItem>\n            ))}\n        </MuiSelect>\n    )\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport {default as MuiToggleButton} from '@material-ui/lab/ToggleButton';\n\nimport s from './ToggleButtons.module.scss';\n\ninterface Props {\n    items: {\n        text: string,\n        id: string,\n    }[],\n    value: string;\n    exclusive?: boolean;\n    className?: string;\n    buttonClassName?: string;\n    selectedClassName?: string;\n    onChange: (value: any) => void;\n}\n\nexport default function ToggleButtons({\n    items,\n    value,\n    onChange,\n    exclusive,\n    selectedClassName = '',\n    buttonClassName = '',\n    className = '',\n}: Props): ReactElement {\n    return (\n        <ToggleButtonGroup className={className} exclusive={exclusive} value={value} onChange={(_, v) => onChange(v)}>\n            {items.map((item) => (\n                <MuiToggleButton\n                    key={item.id}\n                    className={classnames(s.button, buttonClassName)}\n                    classes={{\n                        selected: selectedClassName || s.selected,\n                    }}\n                    value={item.id}\n                >\n                    {item.text}\n                </MuiToggleButton>\n            ))}\n        </ToggleButtonGroup>\n    );\n}\n","import React, { ReactElement, useMemo, useRef, useState } from 'react';\n\nimport DateTimePicker from '../../components/DateTimePicker';\nimport Label from '../../components/Label';\nimport Tag from '../../components/Tag';\nimport TextInput from '../../components/TextInput';\nimport Dialog from '../../compositions/Dialog';\nimport { MarketCategory, MarketType } from '../../models/Market';\nimport { MarketFormValues } from '../../services/MarketService';\nimport trans from '../../translation/trans';\nimport AddableInputs from '../AddableInputs';\nimport createDefaultMarketFormValues from './utils/createDefaultMarketFormValues';\n\nimport s from './MarketCreationDialog.module.scss';\nimport Select from '../../components/Select';\nimport { SelectItem } from '../../components/Select/Select';\nimport { TokenMetadata } from '../../models/TokenMetadata';\nimport ToggleButtons from '../../components/ToggleButtons';\nimport Big from 'big.js';\nimport { validateMarketFormValues } from './utils/validateMarketFormValues';\n\ninterface Props {\n    open: boolean;\n    tokenWhitelist: TokenMetadata[];\n    onRequestClose: () => void;\n    onSubmit: (values: MarketFormValues) => void;\n}\n\nexport default function MarketCreationDialog({\n    open,\n    tokenWhitelist,\n    onRequestClose,\n    onSubmit,\n}: Props): ReactElement {\n    const formRef = useRef<HTMLFormElement>(null);\n    const [formValues, setFormValues] = useState(createDefaultMarketFormValues());\n    const marketCategories = useMemo(() => Object.values(MarketCategory).filter(category => category !== MarketCategory.Unknown), []);\n\n    function handleFormSubmit() {\n        onSubmit(formValues);\n    }\n\n    function handleCategoryClick(category: MarketCategory) {\n        let activeCategories = formValues.categories;\n\n        if (activeCategories?.includes(category)) {\n            activeCategories = activeCategories.filter(cat => cat !== category);\n        } else {\n            activeCategories?.push(category);\n        }\n\n        setFormValues({\n            ...formValues,\n            categories: activeCategories,\n        });\n    }\n\n    function handleResolutionDateChange(date: Date | null) {\n        if (!date) return;\n\n        setFormValues({\n            ...formValues,\n            resolutionDate: date,\n        });\n    }\n\n    function handleOutcomesChange(outcomes: string[]) {\n        setFormValues({\n            ...formValues,\n            outcomes,\n        });\n    }\n\n    function handleDescriptionChange(description: string) {\n        setFormValues({\n            ...formValues,\n            description,\n        });\n    }\n\n    function handleExtraInfoChange(extraInfo: string) {\n        setFormValues({\n            ...formValues,\n            extraInfo,\n        });\n    }\n\n    function handleCollateralChange(item: SelectItem) {\n        setFormValues({\n            ...formValues,\n            collateralTokenId: item.value,\n        });\n    }\n\n    function handleMarketTypeChange(type: MarketType | null) {\n        if (type === null) return;\n        setFormValues({\n            ...formValues,\n            type,\n        });\n    }\n\n    function handleLowerBoundChange(value: string) {\n        if (!value) return;\n\n        setFormValues({\n            ...formValues,\n            lowerBound: new Big(value),\n        });\n    }\n\n    function handleUpperBoundChange(value: string) {\n        if (!value) return;\n\n        setFormValues({\n            ...formValues,\n            upperBound: new Big(value),\n        });\n    }\n\n    const errors = validateMarketFormValues(formValues);\n\n    return (\n        <Dialog open={open} title=\"\" canSubmit={errors.canSubmit} onRequestClose={onRequestClose} onSubmitClick={handleFormSubmit}>\n            <form className={s.filters} ref={formRef}>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.categorySelect')}\n                    </label>\n                    <div className={s.categories}>\n                        {marketCategories.map((category) => (\n                            <Tag\n                                key={category}\n                                category={category}\n                                className={s.filter}\n                                active={formValues.categories.includes(category)}\n                                onClick={() => handleCategoryClick(category)}\n                                type=\"button\"\n                            />\n                        ))}\n                    </div>\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.collateralToken')}\n                    </label>\n                    <Select\n                        onChange={handleCollateralChange}\n                        value={formValues.collateralTokenId}\n                        items={tokenWhitelist.map((metadata) => ({\n                            label: metadata.symbol,\n                            value: metadata.collateralTokenId,\n                        }))}\n                    />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.description')}\n                    </label>\n                    <TextInput required multiline onChange={handleDescriptionChange} value={formValues.description} />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.extraInfo')}\n                    </label>\n                    <TextInput required multiline onChange={handleExtraInfoChange} value={formValues.extraInfo} />\n                </div>\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.marketType')}\n                    </label>\n                    <ToggleButtons\n                        exclusive\n                        buttonClassName={s.marketType}\n                        selectedClassName={s['marketType--selected']}\n                        value={formValues.type}\n                        onChange={handleMarketTypeChange}\n                        items={[\n                            {\n                                id: MarketType.Binary,\n                                text: trans('marketCreation.label.binary'),\n                            },\n                            {\n                                id: MarketType.Categorical,\n                                text: trans('marketCreation.label.categorical'),\n                            },\n                            {\n                                id: MarketType.Scalar,\n                                text: trans('marketCreation.label.scalar'),\n                            }\n                        ]}\n                    />\n                </div>\n\n                {formValues.type === MarketType.Categorical && (\n                    <div className={s.inputsWrapper}>\n                        <Label text={trans('marketCreation.label.outcomes')} />\n                        <AddableInputs onChange={handleOutcomesChange} values={formValues.outcomes} />\n                    </div>\n                )}\n\n                {formValues.type === MarketType.Scalar && (\n                    <>\n                        <div className={s.inputsWrapper}>\n                            <Label text={trans('marketCreation.label.scalarLowerBound')} />\n                            <TextInput type=\"number\" value={formValues.lowerBound.toString()} onChange={handleLowerBoundChange} />\n                        </div>\n                        <div className={s.inputsWrapper}>\n                            <Label text={trans('marketCreation.label.scalarUpperBound')} />\n                            <TextInput type=\"number\" value={formValues.upperBound.toString()} onChange={handleUpperBoundChange} helperText={errors.upperBound} error={!!errors.upperBound} />\n                        </div>\n                    </>\n                )}\n\n                <div className={s.inputsWrapper}>\n                    <label className={s.label}>\n                        {trans('marketCreation.label.resolutionDate')}\n                    </label>\n\n                    <DateTimePicker\n                        value={formValues.resolutionDate}\n                        onChange={handleResolutionDateChange}\n                        helperText={errors.resolutionDate || trans('marketCreation.label.helperText.resolutionDate')}\n                        error={!!errors.resolutionDate}\n                    />\n                </div>\n            </form>\n        </Dialog>\n    );\n}\n","import Big from \"big.js\";\nimport { addDays } from \"date-fns\";\nimport { FUNGIBLE_TOKEN_ACCOUNT_ID } from \"../../../config\";\nimport { MarketType } from \"../../../models/Market\";\nimport { MarketFormValues } from \"../../../services/MarketService\";\n\nexport default function createDefaultMarketFormValues(): MarketFormValues {\n    return {\n        type: MarketType.Binary,\n        resolutionDate: addDays(new Date(), 1),\n        categories: [],\n        isCategoricalMarket: false,\n        outcomes: [''],\n        description: '',\n        extraInfo: '',\n        collateralTokenId: FUNGIBLE_TOKEN_ACCOUNT_ID,\n        lowerBound: new Big(0),\n        upperBound: new Big(1),\n    }\n}\n","import { MarketType } from \"../../../models/Market\";\nimport { MarketFormValues } from \"../../../services/MarketService\";\nimport trans from \"../../../translation/trans\";\n\nexport interface MarketFormErrors {\n    canSubmit: boolean;\n    upperBound: string;\n    resolutionDate: string;\n}\n\nexport function validateMarketFormValues(formValues: MarketFormValues): MarketFormErrors {\n    const errors: MarketFormErrors = {\n        canSubmit: true,\n        upperBound: '',\n        resolutionDate: '',\n    };\n\n    if (formValues.type === MarketType.Scalar) {\n        if (formValues.upperBound.lte(formValues.lowerBound)) {\n            errors.canSubmit = false;\n            errors.upperBound = trans('marketCreation.errors.upperBoundLessThanLowerBound');\n        }\n    }\n\n    if (!formValues.description) {\n        errors.canSubmit = false;\n    }\n\n    if (!formValues.extraInfo) {\n        errors.canSubmit = false;\n    }\n\n    if (formValues.resolutionDate) {\n        const now = new Date();\n\n        if (now.getTime() >= formValues.resolutionDate.getTime()) {\n            errors.canSubmit = false;\n            errors.resolutionDate = trans('marketCreation.errors.resolutionDateEarlierThanToday');\n        }\n    }\n\n    if (formValues.type === MarketType.Categorical) {\n        if (formValues.outcomes.length <= 1) {\n            errors.canSubmit = false;\n        }\n\n        if (formValues.outcomes.some(o => o.trim() === '')) {\n            errors.canSubmit = false;\n        }\n    }\n\n    return errors;\n}\n","import React, { ReactElement, useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport MarketCreationDialog from '../../containers/MarketCreationDialog';\nimport { setMarketCreationDialogOpen } from '../../redux/dialogs/dialogs';\nimport { createNewMarket, loadTokenWhitelist } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { MarketFormValues } from '../../services/MarketService';\n\n\nexport default function MarketCreationDialogConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const isDialogOpen = useSelector((store: Reducers) => store.dialogs.isMarketCreationOpen);\n    const tokenWhitelist = useSelector((store: Reducers) => store.market.tokenWhitelist);\n\n    useEffect(() => {\n        dispatch(loadTokenWhitelist());\n    }, [dispatch]);\n\n    const handleRequestClose = useCallback(() => {\n        dispatch(setMarketCreationDialogOpen(false));\n    }, [dispatch]);\n\n    const handleSubmit = useCallback((market: MarketFormValues) => {\n        dispatch(createNewMarket(market));\n    }, [dispatch]);\n\n    return (\n        <MarketCreationDialog\n            tokenWhitelist={tokenWhitelist}\n            open={isDialogOpen}\n            onRequestClose={handleRequestClose}\n            onSubmit={handleSubmit}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Big from \"big.js\";\n\nimport Button from '../../components/Button';\nimport { Account } from '../../models/Account';\nimport trans from '../../translation/trans';\n\nimport s from './HomeHeader.module.scss';\n\ninterface Props {\n    onCreateMarketClick: () => void;\n    account: Account | null;\n    unrealizedPnl: Big | null;\n    totalSpent: string | null;\n    priceSymbol: string | null;\n}\n\nexport default function HomeHeader({\n    onCreateMarketClick,\n    account,\n    unrealizedPnl,\n    totalSpent,\n    priceSymbol,\n}: Props): ReactElement {\n\n    return (\n        <div className={s.root}>\n            <div className={s.titleWrapper}>\n                <h1 className={s.title}>\n                    { account === null\n                        ? trans('home.title.welcome.loggedOut')\n                        : trans('home.title.welcome.loggedIn', { username: account?.accountId || '' })\n                    }\n                </h1>\n                <span className={s.subTitle}>\n                    { account === null\n                        ? trans('home.title.subtitle.loggedOut')\n                        : trans('home.title.subtitle.loggedIn')\n                    }\n                </span>\n            </div>\n            <div className={s.right}>\n                <div className={s.stats}>\n                    { totalSpent !== null &&\n                      <>\n                          <label>{trans('home.title.summary.totalSpent')}</label>\n                          <p>\n                              {priceSymbol}{totalSpent}\n                          </p>\n                      </>\n                    }\n                    { (unrealizedPnl !== null && totalSpent !== null) &&\n                      <>\n                          <label>{trans('home.title.summary.pnl')}</label>\n                          <p className={unrealizedPnl.gt(\"0\") ? s.link__green : s.link__red }>\n                              {unrealizedPnl.toString()}% / {priceSymbol}{ ((Number(unrealizedPnl)/100) * Number(totalSpent)).toFixed(2) }\n                          </p>\n                      </>\n                    }\n                </div>\n                {process.env.REACT_APP_NETWORK !== \"mainnet\" && <Button onClick={onCreateMarketClick}>{trans('global.actions.createMarket')}</Button>}\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport HomeHeader from '../../containers/HomeHeader';\nimport { setMarketCreationDialogOpen } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function HomeHeaderConnector(): ReactElement {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n    const unrealizedPnl = useSelector((store: Reducers) => store.account.accountSummary.unrealizedPnl);\n    const totalSpent = useSelector((store: Reducers) => store.account.accountSummary.totalSpent);\n    const priceSymbol = useSelector((store: Reducers) => store.account.accountSummary.priceSymbol);\n\n    const handleCreateMarketClick = useCallback(() => {\n        dispatch(setMarketCreationDialogOpen(true));\n    }, [dispatch]);\n\n    return (\n        <HomeHeader\n            onCreateMarketClick={handleCreateMarketClick}\n            account={account}\n            unrealizedPnl={unrealizedPnl}\n            totalSpent={totalSpent}\n            priceSymbol={priceSymbol}\n        />\n    );\n}\n","\nimport React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchPendingMarkets } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport { MarketFilters } from '../../services/MarketService';\nimport MarketOverviewConnector from '../MarketOverviewConnector';\n\n\nexport default function PendingMarketsOverviewConnector() {\n    const dispatch = useDispatch();\n    const markets = useSelector((store: Reducers) => store.market.pendingMarkets);\n    const handleFetchMarkets = useCallback((filters: MarketFilters, append: boolean) => {\n        dispatch(fetchPendingMarkets(filters, append));\n    }, [dispatch]);\n\n    return (\n        <MarketOverviewConnector\n            markets={markets}\n            onRequestFetchMarkets={handleFetchMarkets}\n            rootPath={routePaths.pending()}\n            defaultMarketFilters={{\n                expired: true,\n                finalized: false,\n            }}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { Helmet } from 'react-helmet';\nimport PendingMarketsOverviewConnector from '../../../../connectors/PendingMarketsOverviewConnector';\nimport trans from '../../../../translation/trans';\n\n\nexport default function PendingPage(): ReactElement {\n    return (\n        <section>\n            <Helmet>\n                <title>\n                    {trans('marketResolution.title.head', {\n                        appName: trans('global.appName'),\n                    })}\n                </title>\n            </Helmet>\n            <PendingMarketsOverviewConnector />\n        </section>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { MarketViewModel } from '../../models/Market';\nimport { formatResolutionDate } from '../../services/MarketService';\nimport trans from '../../translation/trans';\n\nimport s from './MarketHeader.module.scss';\nimport MarketOpinionCard from '../../compositions/MarketOpinionCard';\nimport Tag from '../../components/Tag';\nimport getCategoryInfo from '../../utils/getCategoryInfo';\nimport Button from '../../components/Button';\n\ninterface Props {\n    market: MarketViewModel;\n    className?: string;\n    onGoBackClick: () => void;\n}\n\nexport default function MarketHeader({\n    market,\n    onGoBackClick,\n    className = '',\n}: Props) {\n    return (\n        <header className={classnames(s['root'], className)}>\n            <div className={s['wrapper']}>\n                <div className={s.headerItem}>\n                    <Button className={s['market-header__back-button']} onClick={onGoBackClick}>\n                        {trans('navigation.back')}\n                    </Button>\n                    {market.category.length > 0 && (<Tag className={s.categoryTag} category={market.category[0]} />)}\n\n                    <h1 className={s.title}>{market.description}</h1>\n\n                    {market.creationDate && (\n                        <div className={s.resolutionDate}>\n                            <span className={s['market-header__resolution-date-title']}>\n                                {trans('market.startDate')} &nbsp;\n                            </span>\n                            <span className={s['market-header__resolution-date-stamp']}>\n                                {formatResolutionDate(market.creationDate)}\n                            </span>\n                        </div>\n                    )}\n\n                    <div className={s.resolutionDate}>\n                        <span className={s['market-header__resolution-date-title']}>\n                            {trans('market.resolutionDate')} &nbsp;\n                        </span>\n                        <span className={s['market-header__resolution-date-stamp']}>\n                            {formatResolutionDate(market.resolutionDate)}\n                        </span>\n                    </div>\n                </div>\n                <div className={classnames(s.headerItem, s.opinionCardWrapper)}>\n                    <MarketOpinionCard market={market} showAllInfo />\n                </div>\n                <div className={s.bubble}>\n                    <img className={s.bubbleIcon} src={getCategoryInfo(market.category[0]).cardIcon} alt=\"icon\" />\n                </div>\n            </div>\n        </header>\n    );\n}\n","import React, { ReactElement } from \"react\";\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './MarketHeaderLoader.module.scss';\n\nexport default function MarketHeaderLoader(): ReactElement {\n    return (\n        <div className={s.root}>\n            <div className={s.wrapper}>\n                <Skeleton height={300} className={s.skeleton} />\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router';\nimport MarketHeader from '../../containers/MarketHeader';\nimport MarketHeaderLoader from '../../containers/MarketHeader/MarketHeaderLoader';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\n\ninterface Props {\n    className?: string;\n}\n\ninterface LocationState {\n    canGoBack?: boolean;\n}\n\nexport default function MarketHeaderConnector({\n    className,\n}: Props): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const history = useHistory();\n    const location = useLocation<LocationState>();\n    const canGoBack = location.state?.canGoBack ?? false;\n\n    const handleGoBackClick = useCallback(() => {\n        if (canGoBack) {\n            history.goBack();\n        } else {\n            history.push(routePaths.root());\n        }\n    }, [canGoBack, history]);\n\n    if (!market) {\n        return <MarketHeaderLoader />;\n    }\n\n\n    return (\n        <MarketHeader\n            market={market}\n            className={className}\n            onGoBackClick={handleGoBackClick}\n        />\n    );\n}\n","import React from 'react';\nimport { ReactElement } from 'react';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\n\nimport s from './MarketResolutionInfo.module.scss';\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function MarketResolutionInfo({\n    market,\n}: Props): ReactElement {\n    return (\n        <section className={s.root}>\n            <h2 className={s.title}>{trans('market.label.resolutionInfo')}</h2>\n            <p>{market.extraInfo}</p>\n        </section>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './MarketResolutionInfoLoader.module.scss';\n\nexport default function MarketResolutionInfoLoader(): ReactElement {\n    return (\n        <div>\n            <Skeleton height={200} className={s.skeleton} />\n        </div>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport MarketResolutionInfo from '../../containers/MarketResolutionInfo';\nimport MarketResolutionInfoLoader from '../../containers/MarketResolutionInfo/MarketResolutionInfoLoader';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function MarketResolutionInfoConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    if (!market) {\n        return <MarketResolutionInfoLoader />;\n    }\n\n    return (\n        <MarketResolutionInfo market={market} />\n    );\n}\n","\n\nexport default function getCssVariableValue(key: string): string {\n    return getComputedStyle(document.documentElement).getPropertyValue(key);\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\nimport Chart from 'chart.js';\nimport { MarketType, MarketViewModel } from '../../../models/Market';\nimport { PriceHistoryData } from '../../../models/PriceHistoryData';\nimport { getScalarBounds, getScalarLongShortTokens } from '../../../services/MarketService';\nimport trans from '../../../translation/trans';\nimport { getColorForOutcome } from '../../../utils/getColorForOutcome';\nimport getCssVariableValue from '../../../utils/getCssVariableValue';\nimport { prettyFormatNumber } from '../../../utils/prettyFormatNumber';\n\nfunction generateScalarChartData(priceHistoryData: PriceHistoryData[], market: MarketViewModel): Chart.ChartDataSets[] {\n    const dataSets: Chart.ChartDataSets[] = [];\n    const scalarTokens = getScalarLongShortTokens(market.outcomeTokens);\n    const scalarData: number[] = [];\n\n    priceHistoryData.forEach((historyData) => {\n        const longPriceOutcome = historyData.dataPoints.find(dp => dp.outcome === scalarTokens.longToken.outcomeId);\n        const scalarValue = FluxSdk.utils.calcScalarValue(scalarTokens.lowerBound, scalarTokens.upperBound, new Big(longPriceOutcome?.price ?? 0));\n\n        scalarData.push(scalarValue.toNumber());\n    });\n\n    dataSets.push({\n        data: scalarData,\n        label: trans('market.label.estimate'),\n        fill: false,\n        borderWidth: 2,\n        borderColor: `${getCssVariableValue('--c-blue')}`,\n        cubicInterpolationMode: 'monotone',\n    });\n\n    return dataSets;\n}\n\nexport function generateChartData(priceHistoryData: PriceHistoryData[], market: MarketViewModel): Chart.ChartData {\n    const outcomeData: Map<number, number[]> = new Map();\n    const isScalar = market.type === MarketType.Scalar;\n    const dataSets: Chart.ChartDataSets[] = isScalar ? generateScalarChartData(priceHistoryData, market) : [];\n\n    priceHistoryData.forEach((historyData) => {\n        historyData.dataPoints.forEach((outcomePriceData) => {\n            const outcomeDataPoints = outcomeData.get(outcomePriceData.outcome);\n\n            if (Array.isArray(outcomeDataPoints)) {\n                outcomeDataPoints.push(Number(outcomePriceData.price) * 100);\n            } else {\n                outcomeData.set(outcomePriceData.outcome, [Number(outcomePriceData.price) * 100]);\n            }\n        });\n    });\n\n    outcomeData.forEach((data, outcomeId) => {\n        const outcomeToken = market.outcomeTokens.find(token => token.outcomeId === outcomeId);\n\n        dataSets.push({\n            data,\n            label: outcomeToken?.tokenName,\n            fill: false,\n            showLine: !isScalar,\n            hidden: isScalar,\n            pointRadius: isScalar ? 0 : undefined,\n            borderWidth: 2,\n            borderColor: `${getCssVariableValue(getColorForOutcome(outcomeId, isScalar))}`,\n            cubicInterpolationMode: 'monotone',\n        });\n\n        // Scalar markets do not need a dotted line for price since it's hidden\n        if (isScalar) return;\n\n        // Dotted line for latest price\n        dataSets.push({\n            data: new Array(data.length).fill(data[data.length - 1]),\n            fill: false,\n            borderWidth: 1,\n            borderColor: `${getCssVariableValue(getColorForOutcome(outcomeId))}`,\n            borderDash: [2, 5],\n            cubicInterpolationMode: 'monotone',\n            hidden: isScalar,\n            pointHitRadius: 0,\n            pointHoverRadius: 0,\n            pointRadius: 0,\n            label: '',\n            hideInLegendAndTooltip: true,\n        });\n    });\n\n    return {\n        labels: priceHistoryData.map(point => point.pointKey),\n        datasets: dataSets,\n    };\n}\n\nexport default function generateLineChart(canvas: HTMLCanvasElement, market: MarketViewModel): Chart | null {\n    const context = canvas.getContext('2d');\n    if (!context) return null;\n\n    let min = 0;\n    let max = 100;\n\n    if (market.type === MarketType.Scalar) {\n        const bounds = getScalarBounds(market.outcomeTokens.map(t => t.bound));\n        min = bounds.lowerBound.toNumber();\n        max = bounds.upperBound.toNumber();\n    }\n\n    const chartConfig: Chart.ChartConfiguration = {\n        type: 'line',\n\n        options: {\n            responsive: true,\n            legend: {\n                display: false,\n            },\n\n            animation: {\n                duration: 0,\n            },\n\n            elements: {\n                line: {\n                    tension: 0,\n                },\n            },\n\n            tooltips: {\n                mode: market.type === MarketType.Scalar ? 'index' : 'point',\n                intersect: false,\n                callbacks: {\n                    label: (tooltipItem, data) => {\n                        const dataSets = data.datasets ?? [];\n                        const dataSet = dataSets[tooltipItem.datasetIndex ?? 0];\n                        const dataSetData = dataSet.data ?? []\n                        const price = dataSetData[tooltipItem.index ?? 0] as number / 100;\n\n                        return `${dataSet.label}: ${price.toFixed(3)} ${market.collateralToken.tokenSymbol}`;\n                    },\n                }\n            },\n\n            scales: {\n                yAxes: [{\n                    type: 'linear',\n                    gridLines: {\n                        color: '#d8d8d8',\n                        drawOnChartArea: false,\n                        drawTicks: false,\n                    },\n                    ticks: {\n                        fontColor: getCssVariableValue('--c-text'),\n                        min,\n                        max,\n                        maxTicksLimit: 6,\n                        stepSize: (max - min) / 4,\n                        padding: 10,\n                        callback: (value) => {\n                            if (market.type === MarketType.Scalar) {\n                                return prettyFormatNumber(value.toString());\n                            }\n\n                            return (Number(value) / 100).toFixed(2)\n                        },\n                    }\n                }],\n                xAxes: [{\n                    gridLines: {\n                        color: '#d8d8d8',\n                        drawOnChartArea: false,\n                        drawTicks: false,\n                    },\n                    ticks: {\n                        fontColor: getCssVariableValue('--c-text'),\n                        padding: 10,\n                    }\n                }],\n            },\n        },\n    };\n\n    if (market.type === MarketType.Scalar) {\n        // For filtering labels with prices\n        const outcomeTokenNames = market.outcomeTokens.map(t => t.tokenName);\n\n        // Typescript check....\n        if (chartConfig.options?.tooltips?.callbacks) {\n\n            // Combining the price and estimated value into 1 tooltip\n            chartConfig.options.tooltips.callbacks.label = (tooltipItem, data) => {\n                const itemsData = data.datasets?.map(item => {\n                    const itemData = item.data ?? [];\n                    const itemValue = itemData[tooltipItem.index ?? 0] ?? 0;\n\n                    // The label is a outcome token so we can format it as price\n                    if (outcomeTokenNames.includes(item.label ?? '')) {\n                        const price = itemValue as number / 100\n                        return `${item.label}: ${price.toFixed(3)} ${market.collateralToken.tokenSymbol}`;\n                    }\n\n                    return `${item.label}: ${itemValue}`;\n                });\n\n                return itemsData ?? [];\n            }\n        }\n    }\n\n    return new Chart(context, chartConfig);\n}\n\n","import React, { useEffect, useRef } from 'react';\nimport { ReactElement } from 'react';\nimport { MarketViewModel } from '../../models/Market';\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\nimport { useDarkmode } from '../../utils/darkmode';\nimport containsNewChartData from './utils/containsNewChartData';\nimport generateLineChart, { generateChartData } from './utils/generateLineChart';\n\ninterface Props {\n    pricesHistory: PriceHistoryData[];\n    market: MarketViewModel;\n}\n\n\nexport default function LineChart({\n    pricesHistory,\n    market,\n}: Props): ReactElement {\n    const canvas = useRef<HTMLCanvasElement>(null);\n    const previousChartData = useRef<PriceHistoryData[]>([]);\n    const isDarkmodeActive = useDarkmode();\n    const chart = useRef<Chart | null>(null);\n\n    useEffect(() => {\n        if (!canvas.current) {\n            return;\n        }\n\n        chart.current = generateLineChart(canvas.current, market);\n    }, [canvas, isDarkmodeActive]);\n\n    useEffect(() => {\n        if (!chart.current) return;\n\n        if (!containsNewChartData(previousChartData.current, pricesHistory)) {\n            return;\n        }\n\n        previousChartData.current = pricesHistory;\n        chart.current.data = generateChartData(pricesHistory, market);\n        chart.current.update();\n    }, [chart, pricesHistory, isDarkmodeActive, market]);\n\n    return (\n        <canvas ref={canvas} />\n    );\n}\n","import { PriceHistoryData } from \"../../../models/PriceHistoryData\";\n\nexport default function containsNewChartData(prev: PriceHistoryData[], current: PriceHistoryData[]): boolean {\n    if (prev.length !== current.length) {\n        return true;\n    }\n\n    for (let index = 0; index < prev.length; index++) {\n        const prevItem = prev[index];\n        const currItem = current[index];\n\n        // First check for point keys\n        if (prevItem.pointKey !== currItem.pointKey) {\n            return true;\n        }\n\n        // Sanity check\n        if (prevItem.dataPoints.length !== currItem.dataPoints.length) {\n            return true;\n        }\n\n        // Then check for any price changes\n        for (let pricesIndex = 0; pricesIndex < prevItem.dataPoints.length; pricesIndex++) {\n            const prevDataPoint = prevItem.dataPoints[pricesIndex];\n\n            // Find rather than using the index because array can be sorted randomly\n            const currDataPoint = currItem.dataPoints.find(dp => dp.outcome === prevDataPoint.outcome);\n\n            if (!currDataPoint) {\n                return true;\n            }\n\n            if (prevDataPoint.price !== currDataPoint.price) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n","import { DateMetric } from '@fluxprotocol/amm-sdk';\nimport { subDays, subMonths, subWeeks, differenceInDays } from 'date-fns';\nimport { MarketViewModel } from '../models/Market';\nimport { PriceHistoryData } from '../models/PriceHistoryData';\nimport { connectSdk } from './WalletService';\n\nexport enum Period {\n    OneDay = '1d',\n    OneWeek = '1w',\n    OneMonth = '1m',\n    ThreeWeeks = '3w',\n    All = 'all',\n}\n\nexport function getAllHistoryMetric(creationDate: Date, endDate: Date): DateMetric {\n    const diffDays = differenceInDays(endDate, creationDate);\n\n    // Market takes longer than 4 weeks\n    if (diffDays > 28) {\n        return DateMetric.week;\n    }\n\n    // Market takes less than 7 days but more than 1 day\n    if (diffDays <= 7 && diffDays > 1) {\n        return DateMetric.day;\n    }\n\n    return DateMetric.hour;\n}\n\nexport async function getPricesHistoryByMarketId(market: MarketViewModel, period: Period): Promise<PriceHistoryData[]> {\n    try {\n        const now = new Date();\n        let chosenPeriondDate = new Date();\n        let metric = DateMetric.month;\n\n        switch(period) {\n            case Period.OneDay:\n                chosenPeriondDate = subDays(now, 1);\n                metric = DateMetric.hour;\n                break;\n            case Period.OneWeek:\n                chosenPeriondDate = subWeeks(now, 1);\n                metric = DateMetric.day;\n                break;\n            case Period.ThreeWeeks:\n                chosenPeriondDate = subWeeks(now, 3);\n                metric = DateMetric.day;\n                break;\n            case Period.OneMonth:\n                chosenPeriondDate = subMonths(now, 1);\n                metric = DateMetric.day;\n                break;\n            case Period.All:\n                chosenPeriondDate = new Date(0);\n                metric = getAllHistoryMetric(market.creationDate ?? new Date(0), market.resolutionDate);\n                break;\n        }\n\n        const sdk = await connectSdk();\n        const history = await sdk.getPriceHistoryByMarketId(market.id, {\n            beginDate: chosenPeriondDate,\n            metric,\n        });\n\n        return history;\n    } catch (error) {\n        console.error('[getPricesHistoryByMarketId]', error);\n        return [];\n    }\n}\n","import React, { ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './MarketStatistics.module.scss';\nimport LineChart from '../LineChart';\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\nimport ToggleButtons from '../../components/ToggleButtons';\nimport trans from '../../translation/trans';\nimport { Period } from '../../services/PricesHistoryService';\nimport { MarketViewModel } from '../../models/Market';\n\ninterface Props {\n    className?: string;\n    period?: Period;\n    market: MarketViewModel;\n    pricesHistory: PriceHistoryData[];\n    onPeriodChange: (period: Period) => void;\n}\n\nexport default function MarketStatistics({\n    pricesHistory,\n    market,\n    onPeriodChange,\n    period = Period.OneDay,\n    className = '',\n}: Props): ReactElement {\n\n    function handlePeriodChange(period: Period | null) {\n        if (!period) return;\n\n        onPeriodChange(period);\n    }\n\n    return (\n        <div className={classnames(s['market-statistics'], className)}>\n            <div className={s.timePeriodButtons}>\n                <ToggleButtons\n                    exclusive\n                    value={period}\n                    onChange={handlePeriodChange}\n                    items={[\n                        {\n                            id: Period.OneDay,\n                            text: trans('priceHistory.labels.1d'),\n                        },\n                        {\n                            id: Period.OneWeek,\n                            text: trans('priceHistory.labels.1w'),\n                        },\n                        {\n                            id: Period.ThreeWeeks,\n                            text: trans('priceHistory.labels.3w'),\n                        },\n                        {\n                            id: Period.OneMonth,\n                            text: trans('priceHistory.labels.1m'),\n                        },\n                        {\n                            id: Period.All,\n                            text: trans('priceHistory.labels.all'),\n                        }\n                    ]}\n                />\n            </div>\n            <LineChart pricesHistory={pricesHistory} market={market} />\n        </div>\n    )\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { PriceHistoryData } from '../../models/PriceHistoryData';\n\nexport type PriceHistoryState = Readonly<{\n    pricesHistory: PriceHistoryData[];\n    pricesError?: string[];\n    pricesLoading: boolean;\n}>;\n\nconst initialState: PriceHistoryState = {\n    pricesHistory: [],\n    pricesLoading: false,\n};\n\nconst pricesHistorySlice = createSlice({\n    initialState,\n    name: 'pools',\n    reducers: {\n        setPriceHistoryErrors(state: PriceHistoryState, action: PayloadAction<string[]>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesError: action.payload,\n            });\n        },\n        setPriceHistoryLoading(state: PriceHistoryState, action: PayloadAction<boolean>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesLoading: action.payload,\n            });\n        },\n        setPricesHistory(state: PriceHistoryState, action: PayloadAction<PriceHistoryData[]>): PriceHistoryState {\n            return ({\n                ...state,\n                pricesHistory: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setPriceHistoryErrors,\n    setPriceHistoryLoading,\n    setPricesHistory,\n} = pricesHistorySlice.actions;\n\nexport default pricesHistorySlice.reducer;\n","import { MarketViewModel } from \"../../models/Market\";\nimport { getPricesHistoryByMarketId, Period } from \"../../services/PricesHistoryService\";\nimport { setPriceHistoryLoading, setPricesHistory } from \"./priceHistory\";\n\nexport function fetchPricesHistoryByMarketId(market: MarketViewModel, period: Period = Period.All) {\n    return async (dispatch: Function) => {\n        try {\n            dispatch(setPriceHistoryLoading(true));\n\n            const pricesHistory = await getPricesHistoryByMarketId(market, period);\n            dispatch(setPricesHistory(pricesHistory));\n\n            dispatch(setPriceHistoryLoading(false));\n        } catch (error) {\n            dispatch(setPriceHistoryLoading(false));\n            console.error('[getPricesHistoryByMarketId]', error);\n        }\n    };\n}\n","import Skeleton from '@material-ui/lab/Skeleton';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport MarketStatistics from '../../containers/MarketStatistics';\nimport { fetchPricesHistoryByMarketId } from '../../redux/priceHistory/priceHistoryActions';\nimport { Reducers } from '../../redux/reducers';\nimport { Period } from '../../services/PricesHistoryService';\nimport { usePrevious } from '../../utils/hooks/usePrevious';\n\nconst PRICE_HISTORY_INTERVAL_MS = 2000;\ninterface Props {\n    className?: string;\n}\n\nexport default function MarketStatisticsConnector({\n    className = '',\n}: Props) {\n    const pricesHistory = useSelector((store: Reducers) => store.priceHistory.pricesHistory);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const previousMarket = usePrevious(market);\n    const intervalId = useRef<NodeJS.Timeout>();\n    const [period, setPeriod] = useState<Period>(Period.OneDay);\n    const dispatch = useDispatch();\n\n    function handlePeriodChange(period: Period) {\n        if (!market) throw new Error('ERR_NO_MARKET');\n        setPeriod(period);\n\n        // @ts-ignore\n        clearInterval(intervalId.current);\n        dispatch(fetchPricesHistoryByMarketId(market, period));\n\n        intervalId.current = setInterval(() => {\n            dispatch(fetchPricesHistoryByMarketId(market, period));\n        }, PRICE_HISTORY_INTERVAL_MS);\n    }\n\n    useEffect(() => {\n        return () => {\n            // @ts-ignore\n            clearInterval(intervalId.current);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!market) return;\n        if (market.id === previousMarket?.id) return;\n\n        // @ts-ignore\n        clearInterval(intervalId.current);\n        dispatch(fetchPricesHistoryByMarketId(market, period || undefined));\n\n        intervalId.current = setInterval(() => {\n            dispatch(fetchPricesHistoryByMarketId(market, period || undefined));\n        }, PRICE_HISTORY_INTERVAL_MS);\n    }, [market, dispatch]);\n\n    if (!market) {\n        return <Skeleton height={500} />;\n    }\n\n    return (\n        <MarketStatistics\n            pricesHistory={pricesHistory}\n            className={className}\n            onPeriodChange={handlePeriodChange}\n            period={period || undefined}\n            market={market}\n        />\n    );\n}\n","import { useEffect, useRef } from \"react\";\n\nexport function usePrevious<T>(value: T) {\n    const ref = useRef<T | undefined>();\n\n    useEffect(() => {\n        ref.current = value;\n    });\n\n    return ref.current;\n}\n","import Big from \"big.js\";\nimport FluxSdk from \"@fluxprotocol/amm-sdk\";\n\nimport { TokenViewModel } from \"../models/TokenViewModel\";\nimport { MarketViewModel } from \"../models/Market\";\nimport { DEFAULT_FEE } from \"../config\";\n\nexport enum SwapType {\n    Buy = 'BUY',\n    Sell = 'SELL',\n}\n\ninterface GetPricesAfterTradeParams {\n    type: SwapType;\n    market: MarketViewModel;\n    outcomeToken: TokenViewModel;\n    amountIn: Big;\n    amountOut: Big;\n}\n\nexport function getPricesAfterTrade({\n    type,\n    market,\n    outcomeToken,\n    amountIn,\n    amountOut,\n}: GetPricesAfterTradeParams): number[] {\n    const formattedFee = DEFAULT_FEE / 100;\n\n    if (type === SwapType.Buy) {\n        const newPoolBalances = FluxSdk.utils.computeBalanceAfterSharePurchase(\n            market.outcomeTokens.map(t => new Big(t.poolBalance)),\n            outcomeToken.outcomeId,\n            amountIn,\n            amountOut,\n            formattedFee,\n        );\n\n        return FluxSdk.utils.calcPrice(newPoolBalances.map(b => b.toString()));\n    }\n\n    const newPoolBalances = FluxSdk.utils.computeBalanceAfterShareSale(\n        market.outcomeTokens.map(t => new Big(t.poolBalance)),\n        outcomeToken.outcomeId,\n        amountOut,\n        amountIn,\n        formattedFee,\n    );\n\n    return FluxSdk.utils.calcPrice(newPoolBalances.map(b => b.toString()));\n}\n\nexport function isTradePossible(params: GetPricesAfterTradeParams): boolean {\n    try {\n        getPricesAfterTrade(params);\n\n        return true;\n    } catch (error) {\n        return false;\n    }\n}\n","import React, { ReactElement } from 'react';\nimport s from './Overview.module.scss';\n\ninterface KeyValue {\n    key: string,\n    value: string\n}\n\ninterface Props {\n    header: string,\n    data: KeyValue[]\n}\n\nexport default function Overview({\n    data,\n    header\n}: Props): ReactElement {\n    return (\n        <div className={s['overview__container']}>\n            <div className={s.header}>\n                <span>{ header }</span>\n            </div>\n            <div className={s['overview']}>\n                {\n                    data.map((d, i) => (\n                        <div key={i} className={s['overview__info-row']}>\n                            <span className={s['overview__info-key']}>{d.key}</span>\n                            <span className={s['overview__info-value']}>{d.value}</span>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { DEFAULT_SLIPPAGE } from '../../../../config';\nimport { SwapFormValues } from '../../../../services/SwapService';\nimport trans from '../../../../translation/trans';\nimport Overview from \"./../../../../components/Overview\";\nimport mutateFormValues from './utils/overviewMutation';\nimport Big from 'big.js';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { SwapType } from '../../../../services/PriceService';\n\ninterface SwapOverviewProps {\n    formValues: SwapFormValues,\n    market: MarketViewModel;\n}\n\nexport default function SwapOverview({\n    formValues,\n    market,\n}: SwapOverviewProps): ReactElement {\n    const formattedFormValues = mutateFormValues(formValues);\n\n    const collateralToken = formValues.fromToken.isCollateralToken ? formValues.fromToken : formValues.toToken;\n    const amountIn = new Big(formValues.amountIn);\n    const amountOut = new Big(formValues.amountOut);\n    const divisor = new Big(\"100\");\n    const profitPercentage = formValues.amountIn !== \"0\" ? amountOut.minus(amountIn).div(amountIn).mul(divisor).round(2).toString() : \"0\";\n\n    const overViewData = [\n        {\n            key: trans('market.overview.rate'),\n            value: `${formattedFormValues.rateInOut} ${formValues.fromToken.tokenSymbol} / ${formValues.toToken.tokenSymbol}`\n        },\n        {\n            key: trans('market.overview.inverseRate'),\n            value: `${formattedFormValues.rateOutIn} ${formValues.toToken.tokenSymbol} / ${formValues.fromToken.tokenSymbol}`\n        },\n        {\n            key: trans('market.overview.estimatedFee'),\n            value: `${formattedFormValues.feePaid} ${collateralToken.tokenSymbol}`\n        },\n        {\n            key: trans('market.overview.maxSlippage'),\n            value: `${DEFAULT_SLIPPAGE}%`\n        },\n    ]\n\n    if (formValues.type === SwapType.Buy) {\n        overViewData.push({\n            key: trans('market.overview.maxPayout'),\n            value: `${formValues.formattedAmountOut || \"0\"} ${formValues.fromToken.tokenSymbol} (+${profitPercentage}%)`\n        });\n    } else if (amountIn.gt(\"0\")) {\n        const spent = new Big(formValues.fromToken.spent);\n        const balance = new Big(formValues.fromToken.balance);\n        const avgPaidPrice = balance.gt(\"0\") ? spent.div(balance) : new Big(\"0\");\n        const avgSellPrice = amountIn.gt(\"0\") ? amountOut.div(amountIn) : new Big(\"0\");\n        const spendAtAvgSellPrice = avgSellPrice.mul(amountIn);\n        const spendAtAvgPaidPrice = avgPaidPrice.mul(amountIn);\n\n        if (avgPaidPrice.gt(avgSellPrice)) {\n            // Escrow invalid\n            const escrowInvalid = spendAtAvgPaidPrice.minus(spendAtAvgSellPrice);\n            const formattedEscrowInvalid = escrowInvalid.gt(\"0.01\") ? formatCollateralToken(escrowInvalid.toString(), formValues.toToken.decimals) : \"< 0.01\";\n            overViewData.push(\n                {\n                    key: trans('market.overview.escrowInvalid'),\n                    value: `~${formattedEscrowInvalid}${formValues.toToken.tokenSymbol}`\n                },\n                {\n                    key: trans('market.overview.paidNow'),\n                    value: `${formValues.formattedAmountOut} ${formValues.toToken.tokenSymbol}`\n                }\n            );\n\n        } else if ((avgSellPrice.gt(avgPaidPrice))){\n            // Escrow valid\n            const escrowInvalid = spendAtAvgSellPrice.minus(spendAtAvgPaidPrice);\n            const formattedEscrowInvalid = escrowInvalid.gt(\"0.01\") ? formatCollateralToken(escrowInvalid.toString(), formValues.toToken.decimals) : \"< 0.01\";\n            const paidNow = amountOut.minus(escrowInvalid);\n            const formattedOutNow = formatCollateralToken(paidNow.toString(), formValues.toToken.decimals);\n\n            overViewData.push(...[\n                {\n                    key: trans('market.overview.escrowValid'),\n                    value: `~${formattedEscrowInvalid} ${formValues.toToken.tokenSymbol}`\n                },\n                {\n                    key: trans('market.overview.paidNow'),\n                    value: `${formattedOutNow} ${formValues.toToken.tokenSymbol}`\n                }\n            ]);\n        }\n    }\n\n    return <Overview data={overViewData} header={trans('market.label.overview', {}, true)} />;\n}\n","import { formatCollateralToken } from \"../../../../../services/CollateralTokenService\";\nimport { SwapFormValues } from \"../../../../../services/SwapService\";\nimport Big from \"big.js\";\nimport { BUY, DEFAULT_FEE } from \"../../../../../config\";\n\nexport interface OverviewValues {\n    rateInOut: string,\n    rateOutIn: string,\n    feePaid: string,\n\n}\n\nexport default function mutateFormValues(formValues: SwapFormValues): OverviewValues {\n    // Check if amountIn / amountOut are valid for calculation\n    if (formValues.amountIn === \"\" || formValues.amountIn === \"0\" || formValues.amountOut === \"0\" || formValues.amountIn === \"\") {\n        return {\n            rateInOut: \"0\",\n            rateOutIn: \"0\",\n            feePaid: \"0\",\n        }\n    }\n\n    const one = new Big(`1e${formValues.fromToken.decimals}`);\n    const collateralToken = formValues.fromToken.isCollateralToken ? formValues.fromToken : formValues.toToken;\n    const amountInBN = new Big(formValues.amountIn);\n    const amountOutBN = new Big(formValues.amountOut);\n    const rateInOut = formatCollateralToken(amountInBN.mul(one.toString()).div(amountOutBN).toString(), formValues.fromToken.decimals);\n    const rateOutIn = formatCollateralToken(amountOutBN.mul(one.toString()).div(amountInBN).toString(), formValues.toToken.decimals);\n    const feedAmount = formValues.type === BUY ? formValues.amountIn : formValues.amountOut;\n    const feePaid = formatCollateralToken(new Big(feedAmount).mul(new Big(DEFAULT_FEE)).div(new Big(\"100\")).toString(), collateralToken.decimals);\n\n    return {\n        rateInOut,\n        rateOutIn,\n        feePaid,\n    }\n}\n","import Big from \"big.js\";\nimport { MarketViewModel } from \"../../../models/Market\";\nimport { isTradePossible, SwapType } from \"../../../services/PriceService\";\nimport { SwapFormValues } from \"../../../services/SwapService\";\nimport trans from \"../../../translation/trans\";\n\ninterface SwapFormErrors {\n    canSubmit: boolean;\n    message: string;\n}\n\nexport function validateSwapFormValues(formValues: SwapFormValues, market: MarketViewModel): SwapFormErrors {\n    const errors: SwapFormErrors = {\n        canSubmit: true,\n        message: '',\n    }\n\n    if (formValues.amountIn) {\n        if (new Big(formValues.amountIn).gt(formValues.fromToken.balance)) {\n            errors.message = trans('swap.errors.notEnoughBalance');\n            errors.canSubmit = false;\n        }\n\n        if (new Big(formValues.amountIn).lte(0)) {\n            errors.canSubmit = false;\n        }\n\n    } else {\n        errors.canSubmit = false;\n    }\n\n    if (formValues.amountOut) {\n        if (new Big(formValues.amountOut).lte(0)) {\n            errors.canSubmit = false;\n        }\n    }\n\n    if (formValues.amountIn && formValues.amountOut) {\n        const swapType = formValues.type as SwapType;\n        const enoughLiquidity = isTradePossible({\n            amountIn: new Big(formValues.amountIn),\n            amountOut: new Big(formValues.amountOut),\n            market,\n            outcomeToken: swapType === SwapType.Buy ? formValues.toToken : formValues.fromToken,\n            type: swapType,\n        });\n\n        if (!enoughLiquidity) {\n            errors.canSubmit = false;\n            errors.message = trans('swap.errors.notEnoughLiquidity');\n        }\n    }\n\n    return errors;\n}\n","import React, { ReactElement, useState } from 'react';\nimport classnames from 'classnames';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\n\nimport Button from '../../components/Button';\nimport IconButton from '../../components/IconButton';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport trans from '../../translation/trans';\nimport SwapOverview from './components/SwapOverview/SwapOverview';\nimport createDefaultSwapFormValues from './utils/createDefaultSwapFormValues';\nimport { SwapFormValues } from '../../services/SwapService';\nimport mutateFormValues from './utils/formValuesMutation';\nimport { MarketType, MarketViewModel } from '../../models/Market';\nimport { toCollateralToken } from '../../services/CollateralTokenService';\nimport { BUY, SELECTED_OUTCOME_TOKEN_STORAGE_KEY, SELL } from '../../config';\nimport { validateSwapFormValues } from './utils/validateSwapFormValues';\nimport Error from '../../components/Error';\nimport { getScalarLongShortTokens } from '../../services/MarketService';\nimport { SwapType } from '../../services/PriceService';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\nimport s from './TokenSwapper.module.scss';\nimport { getNumberFromStorage } from '../../utils/storage';\nimport { prettyFormatNumber } from '../../utils/prettyFormatNumber';\nimport Icon from '../../components/Icon';\n\ninterface TokenSwapperProps {\n    inputs: TokenViewModel[];\n    outputs: TokenViewModel[];\n    onRequestSwitchPairs: () => void;\n    onConfirm: (formData: SwapFormValues) => Promise<void>;\n    className?: string;\n    market: MarketViewModel;\n}\n\nexport default function TokenSwapper({\n    market,\n    inputs,\n    outputs,\n    onConfirm,\n    onRequestSwitchPairs,\n    className = '',\n}: TokenSwapperProps): ReactElement {\n    const rememberedOutcome = getNumberFromStorage(sessionStorage, `${SELECTED_OUTCOME_TOKEN_STORAGE_KEY}${market.id}`) ?? 0;\n    const [formValues, setFormValues] = useState(createDefaultSwapFormValues(inputs[0], outputs[rememberedOutcome]));\n    const collateralToken = inputs.length === 1 ? inputs[0] : outputs[0];\n\n    function handleSubmit(mutatedValues: SwapFormValues) {\n        onConfirm(mutatedValues);\n    }\n\n    function handleInputTokenSwitch(token: TokenViewModel) {\n        if (!token.isCollateralToken) {\n            sessionStorage.setItem(`${SELECTED_OUTCOME_TOKEN_STORAGE_KEY}${market.id}`, token.outcomeId.toString());\n        }\n\n        setFormValues({\n            ...formValues,\n            fromToken: token\n        });\n    }\n\n    function handleOutputTokenSwitch(token: TokenViewModel) {\n        if (!token.isCollateralToken) {\n            sessionStorage.setItem(`${SELECTED_OUTCOME_TOKEN_STORAGE_KEY}${market.id}`, token.outcomeId.toString());\n        }\n\n        setFormValues({\n            ...formValues,\n            toToken: token\n        });\n    }\n\n    function handleAmountInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            formattedAmountIn: value,\n            amountIn: value ? toCollateralToken(value, collateralToken.decimals) : \"0\"\n        });\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            amountIn: formValues.fromToken.balance,\n            formattedAmountIn: formValues.fromToken.balanceFormatted,\n        });\n    }\n\n    // TODO: mutation makes token values after switch go down recursively, should only switch between 2 states\n    function switchTokenPlaces() {\n        setFormValues({\n            ...formValues,\n            type: inputs.length === 1 ? SELL : BUY,\n            amountIn: formValues.amountOut,\n            amountOut: formValues.amountIn,\n            formattedAmountIn: formValues.formattedAmountOut,\n            formattedAmountOut: formValues.formattedAmountIn,\n            fromToken: formValues.toToken,\n            toToken: formValues.fromToken,\n        });\n        onRequestSwitchPairs();\n    }\n\n    const poolTokens = outputs.length > 1 ? outputs : inputs;\n    const mutation = mutateFormValues(formValues, poolTokens, market);\n    const errors = validateSwapFormValues(mutation, market);\n    const scalarTokens = getScalarLongShortTokens(market.outcomeTokens);\n    const swapType = mutation.type as SwapType;\n    const newEstimate = FluxSdk.utils.calcScalarValue(\n        scalarTokens.lowerBound,\n        scalarTokens.upperBound,\n        new Big(mutation.newPrices[scalarTokens.longToken.outcomeId])\n    );\n\n    return (\n        <form className={classnames(s['token-swapper'], className)}>\n            <LabeledTokenSelect\n                label={trans('market.label.youPay')}\n                onBalanceClick={handleBalanceClick}\n                onTokenSwitch={handleInputTokenSwitch}\n                value={mutation.formattedAmountIn}\n                tokens={inputs}\n                selectedToken={mutation.fromToken}\n                onValueChange={(v) => handleAmountInChange(v)}\n                newPrice={mutation.fromToken.isCollateralToken ? undefined : mutation.newPrices[mutation.fromToken.outcomeId]}\n            />\n\n            <div className={s['token-swapper__switch-tokens']}>\n                <IconButton\n                    onClick={switchTokenPlaces}\n                    iconComponent={<Icon className={s.swapIcon} name=\"swap\" />}\n                    alt={trans('market.action.switchTokens')}\n                />\n            </div>\n\n            <div className={s.receiveInputs}>\n                <LabeledTokenSelect\n                    label={trans('market.label.youReceive')}\n                    onTokenSwitch={handleOutputTokenSwitch}\n                    value={mutation.formattedAmountOut}\n                    tokens={outputs}\n                    selectedToken={mutation.toToken}\n                    disabledInput\n                    newPrice={mutation.toToken.isCollateralToken ? undefined : mutation.newPrices[mutation.toToken.outcomeId]}\n                />\n            </div>\n\n            {market.type === MarketType.Scalar && swapType === SwapType.Buy && (\n                <div className={s.newEstimateWrapper}>\n                    <span className={s.newEstimateText}>\n                        {scalarTokens.longToken.outcomeId === mutation.toToken.outcomeId ?\n                            trans('market.overview.estimateMoreAfterTrade') :\n                            trans('market.overview.estimateLessAfterTrade')\n                        }\n                    </span>\n                    <span>{prettyFormatNumber(newEstimate.toFixed(2))}</span>\n                </div>\n            )}\n\n            <SwapOverview formValues={mutation} market={market} />\n            <Error error={errors.message} />\n\n            <Button disabled={!errors.canSubmit} onClick={() => handleSubmit(mutation)} className={s['token-swapper__confirm']}>\n                {trans('market.action.confirmSwap')}\n            </Button>\n        </form>\n    );\n}\n","import { BUY } from \"../../../config\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { SwapFormValues } from \"../../../services/SwapService\";\n\nexport default function createDefaultSwapFormValues(fromToken: TokenViewModel, toToken: TokenViewModel): SwapFormValues {\n    return {\n        type: BUY,\n        fromToken,\n        toToken,\n        amountIn: \"0\",\n        amountOut: \"0\",\n        formattedAmountIn: \"\",\n        formattedAmountOut: \"\",\n        newPrices: [],\n    }\n}\n","export function getNumberFromStorage(storage: Storage, key: string): number | null {\n    const item = storage.getItem(key);\n\n    if (!item) {\n        return null;\n    }\n\n    const parsedNum = Number(item);\n\n    if (Number.isNaN(parsedNum)) {\n        return null;\n    }\n\n    return parsedNum;\n}\n","import Big from \"big.js\";\nimport FluxSdk from \"@fluxprotocol/amm-sdk\";\n\nimport { DEFAULT_FEE } from \"../../../config\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport { formatCollateralToken } from \"../../../services/CollateralTokenService\";\nimport { SwapFormValues } from \"./../../../services/SwapService\";\nimport { getPricesAfterTrade, SwapType } from \"../../../services/PriceService\";\nimport { MarketViewModel } from \"../../../models/Market\";\n\nexport default function mutateFormValues(formValues: SwapFormValues, tokens: TokenViewModel[], market: MarketViewModel): SwapFormValues {\n    const swapType = formValues.type as SwapType;\n    const outcomeToken = swapType === SwapType.Buy ? formValues.toToken : formValues.fromToken;\n    let newPrices = tokens.map(t => t.price);\n\n    if (!formValues.formattedAmountIn) {\n        return {\n            ...formValues,\n            newPrices,\n        };\n    }\n\n    if (new Big(formValues.formattedAmountIn).lt(0)) {\n        return {\n            ...formValues,\n            newPrices,\n            formattedAmountIn: \"0\",\n            amountIn: \"0\",\n        }\n    }\n\n    const poolBalances = tokens.map(token => new Big(token.poolBalance.toString()));\n    const buy = !!formValues.fromToken.tokenAccountId;\n    const collateralToken = buy ? formValues.fromToken : formValues.toToken;\n\n    const formattedFee = DEFAULT_FEE / 100;\n\n    const amountOut = buy ? FluxSdk.utils.calcBuyAmountInShares(\n            new Big(formValues.amountIn),\n            formValues.toToken.outcomeId,\n            poolBalances,\n            formattedFee,\n            collateralToken.decimals,\n        ) :\n        FluxSdk.utils.calcSellAmountInCollateral(\n            new Big(formValues.amountIn),\n            formValues.fromToken.outcomeId,\n            poolBalances,\n            formattedFee\n        )\n\n    if (!amountOut) {\n        return {\n            ...formValues,\n            formattedAmountOut: \"0\",\n            amountOut: \"0\"\n        }\n    }\n\n    // Calculating the new price of the specific outcome token\n    try {\n        newPrices = getPricesAfterTrade({\n            type: swapType,\n            market,\n            outcomeToken,\n            amountIn: new Big(formValues.amountIn),\n            amountOut,\n        });\n    } catch (error) {}\n\n    return {\n        ...formValues,\n        formattedAmountOut: formatCollateralToken(amountOut.toString(), collateralToken.decimals),\n        amountOut: amountOut.round(0, 0).toString(),\n        newPrices,\n    };\n}\n","import React, { ReactElement } from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport s from './TokenSwapperLoader.module.scss';\n\nexport default function TokenSwapperLoader(): ReactElement {\n    return (\n        <div>\n            <Skeleton height={106} className={s.skeleton} />\n            <Skeleton height={106} className={s.skeleton} />\n            <Skeleton height={130} className={s.skeleton} />\n            <Skeleton height={60} className={s.skeleton} />\n        </div>\n    );\n}\n","import React, { ReactElement, useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BUY } from '../../config';\nimport TokenSwapper from '../../containers/TokenSwapper';\nimport TokenSwapperLoader from '../../containers/TokenSwapper/TokenSwapperLoader';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { reloadTokens } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { buyShares, sellShares } from '../../services/MarketService';\nimport { SwapFormValues } from '../../services/SwapService';\n\nconst TOKEN_FETCH_INTERVAL_MS = 5000;\n\ninterface Props {\n    className?: string;\n}\n\nexport default function TokenSwapperConnector({\n    className,\n}: Props): ReactElement {\n    const dispatch = useDispatch();\n    const [switched, setSwitched] = useState(false);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const intervalId = useRef<NodeJS.Timeout>();\n\n    useEffect(() => {\n        return () => {\n            // @ts-ignore\n            clearInterval(intervalId.current);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (!market) return;\n\n        clearInterval(intervalId.current as unknown as number);\n\n        intervalId.current = setInterval(() => {\n            dispatch(reloadTokens(market.id, market.collateralToken));\n        }, TOKEN_FETCH_INTERVAL_MS);\n\n        return () => {\n            clearInterval(intervalId.current as unknown as number);\n        }\n    }, [market, dispatch]);\n\n    async function onConfirm(\n        values: SwapFormValues\n    ): Promise<void> {\n        if (!market) throw new Error(\"Market is undefined\");\n\n        if (values.type === BUY) {\n            buyShares(market, values);\n        } else {\n            sellShares(market, values);\n        }\n    }\n\n    function handleRequestSwitchPairs() {\n        setSwitched(!switched);\n    }\n\n    if (!market) {\n        return <TokenSwapperLoader />;\n    }\n\n    const inputs: TokenViewModel[] = [market.collateralToken];\n\n    return (\n        <TokenSwapper\n            market={market}\n            inputs={switched ? market.outcomeTokens : inputs}\n            outputs={switched ? inputs : market.outcomeTokens}\n            onConfirm={onConfirm}\n            onRequestSwitchPairs={handleRequestSwitchPairs}\n            className={className}\n        />\n    );\n}\n","import React, { PropsWithChildren, ReactElement } from 'react';\nimport classnames from 'classnames';\n\nimport s from './ActionCard.module.scss';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function ActionsCard({\n    children,\n    className = '',\n}: PropsWithChildren<Props>): ReactElement {\n    return (\n        <div className={classnames(s.root, className)}>\n            {children}\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport SwipeableViews from 'react-swipeable-views';\n\nimport TabBar, { TabBarItem } from '../TabBar/TabBar';\n\nimport s from './TabbedViews.module.scss';\n\ninterface ViewItem extends TabBarItem {\n    element: React.ReactNode;\n}\n\ninterface Props {\n    items: ViewItem[];\n}\n\nexport default function TabbedView({\n    items,\n}: Props) {\n    const [activeId, setActiveId] = useState(0);\n    const availableItems = items.filter(item => item.show);\n    const activeItem = availableItems[activeId];\n\n    function handleTabClick(item: TabBarItem) {\n        const itemIndex = availableItems.findIndex(i => i.id === item.id);\n        setActiveId(itemIndex);\n    }\n\n    function handleIndexChange(index: number) {\n        setActiveId(index);\n    }\n\n    return (\n        <div>\n            <TabBar\n                items={availableItems}\n                variant=\"fullWidth\"\n                onTabClick={handleTabClick}\n                activeId={activeItem?.id || \"\"}\n                className={s.tabs}\n                tabClassName={s.tab}\n            />\n            <SwipeableViews index={activeId} onChangeIndex={handleIndexChange}>\n                {availableItems.map(item => (\n                    <div className={s.view} key={item.id}>\n                        {item.element}\n                    </div>\n                ))}\n            </SwipeableViews>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Big from \"big.js\";\nimport { MarketViewModel } from '../../../../models/Market';\nimport Overview from '../../../../components/Overview';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport trans from '../../../../translation/trans';\n\n\ninterface Props {\n    market: MarketViewModel\n    amount: string\n}\n\nexport default function LiquidityOverview({\n    market,\n    amount\n}: Props): ReactElement {\n    const maxBalance = new Big(market.outcomeTokens.reduce((s, t) => new Big(t.poolBalance).gt(new Big(s))  ? t.poolBalance : s, \"0\"));\n    const collateralIn = amount ? new Big(amount) : new Big(\"0\");\n\n    const data = market.outcomeTokens.map(t => {\n        const balance = new Big(t.poolBalance);\n        return  {\n            key: t.tokenName + trans('market.label.spaceTokens'),\n            value: FluxSdk.utils.formatToken(collateralIn.minus(collateralIn.mul(balance).div(maxBalance)).toString(), t.decimals)\n        }\n    });\n\n    // Add % of total liquidity tokens\n    const lpTokensOut = collateralIn.mul(new Big(market.poolTokenInfo.totalSupply)).div(maxBalance);\n    const newTotalSupply = new Big(market.poolTokenInfo.totalSupply).add(lpTokensOut);\n\n    const prependData = [\n        {\n            key: trans('market.label.lp') + trans('market.label.spaceTokens'),\n            value: FluxSdk.utils.formatToken(lpTokensOut.toString(), market.collateralToken.decimals)\n        },\n        {\n            key: trans('market.label.relativePoolShare'),\n            value: new Big(lpTokensOut).div(newTotalSupply).mul(new Big(\"100\")).round(2).toString() + \"%\"\n        },\n    ]\n\n    return (\n        <Overview data={[...data, ...prependData]} header={trans('market.label.youReceive', {}, true)}/>\n    )\n}\n","import React, { ReactElement, useState } from 'react';\n\nimport Button from '../../components/Button';\nimport trans from '../../translation/trans';\nimport { LiquidityProviderFormValues, validateLiquidityProviderFormValues } from './services/validateLiquidityProviderFormValues';\n\nimport s from './LiquidityProvider.module.scss';\nimport Error from '../../components/Error';\nimport { toCollateralToken } from '../../services/CollateralTokenService';\nimport LiquidityOverview from './components/LiquidityOverview/LiquidityOverview';\nimport { MarketViewModel } from '../../models/Market';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\ninterface Props {\n    market: MarketViewModel;\n    onSubmit: (formValues: LiquidityProviderFormValues) => void;\n}\n\nexport default function LiquidityProvider({\n    market,\n    onSubmit,\n}: Props): ReactElement {\n    const [formValues, setFormValues] = useState<LiquidityProviderFormValues>({\n        liquidityAmountIn: '',\n        liquidityAmountInFormatted: '',\n    });\n    function handleSubmit() {\n        onSubmit(formValues);\n    }\n\n    function handleInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            liquidityAmountIn: value ? toCollateralToken(value, market.collateralToken.decimals) : '',\n            liquidityAmountInFormatted: value,\n        });\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            liquidityAmountIn: market.collateralToken.balance,\n            liquidityAmountInFormatted: market.collateralToken.balanceFormatted,\n        });\n    }\n\n    const errors = validateLiquidityProviderFormValues(formValues, market.collateralToken);\n\n    return (\n        <div>\n            <p>\n                {trans('liquidityProvider.description', {\n                    percentage: '2',\n                })}\n            </p>\n\n            <LabeledTokenSelect\n                label={trans('market.label.youPay')}\n                onBalanceClick={handleBalanceClick}\n                value={formValues.liquidityAmountInFormatted}\n                onValueChange={(v) => handleInChange(v)}\n                onTokenSwitch={() => { }}\n                selectedToken={market.collateralToken}\n                tokens={[market.collateralToken]}\n                className={s.tokenSelect}\n                placeholder=\"1000\"\n            />\n\n            <LiquidityOverview market={market} amount={formValues.liquidityAmountIn} />\n\n            <Error error={errors.liquidityAmountIn} />\n\n            <Button disabled={!errors.canAddLiquidity} onClick={handleSubmit} className={s.confirm}>\n                {trans('market.action.confirmLiquidity')}\n            </Button>\n        </div>\n    );\n}\n","import Big from \"big.js\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\nimport trans from \"../../../translation/trans\";\n\ninterface LiquidityProviderErrors {\n    liquidityAmountIn: string;\n    canAddLiquidity: boolean;\n}\n\nexport interface LiquidityProviderFormValues {\n    liquidityAmountIn: string;\n    liquidityAmountInFormatted: string;\n}\n\nexport function validateLiquidityProviderFormValues(formValues: LiquidityProviderFormValues, collateralToken: TokenViewModel): LiquidityProviderErrors {\n    const errors: LiquidityProviderErrors = {\n        canAddLiquidity: true,\n        liquidityAmountIn: '',\n    };\n\n    if (formValues.liquidityAmountIn) {\n        const inputAmount = formValues.liquidityAmountIn;\n\n        if (new Big(inputAmount).lte(0)) {\n            errors.canAddLiquidity = false;\n        }\n\n        if (new Big(inputAmount).gt(collateralToken.balance)) {\n            errors.liquidityAmountIn = trans('liquidityProvider.errors.notEnoughBalance');\n            errors.canAddLiquidity = false;\n        }\n    } else {\n        errors.canAddLiquidity = false;\n    }\n\n    return errors;\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport LiquidityProvider from '../../containers/LiquidityProvider';\nimport { LiquidityProviderFormValues } from '../../containers/LiquidityProvider/services/validateLiquidityProviderFormValues';\nimport { Reducers } from '../../redux/reducers';\nimport { joinPool } from '../../services/PoolService';\n\n\nexport default function LiquidityProviderConnector(): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    const onJoinPool = useCallback((formValues: LiquidityProviderFormValues) => {\n        if (!market) return;\n\n        joinPool(market.id, formValues.liquidityAmountIn, market.collateralTokenId);\n    }, [market]);\n\n    if (!market) {\n        return <div />\n    }\n\n    return (\n        <LiquidityProvider\n            market={market}\n            onSubmit={onJoinPool}\n        />\n    );\n}\n","import React from 'react';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\nimport trans from '../../../../translation/trans';\n\nimport s from './FinalizedMarketOutcomes.module.scss';\n\ninterface Props {\n    market: MarketViewModel;\n}\n\nexport default function FinalizedMarketOutcomes({\n    market,\n}: Props) {\n    const payoutNumerator = market.payoutNumerator || [];\n\n    return (\n        <div>\n            <table className={s.table}>\n                <thead>\n                    <tr>\n                        <th>{trans('market.claimEarnings.label.outcome')}</th>\n                        <th>{trans('market.claimEarnings.label.payout')}</th>\n                        <th>{trans('market.claimEarnings.label.balance')}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {payoutNumerator.map((numerator, index) => {\n                        const outcome = market.outcomeTokens.find(token => token.outcomeId === index);\n\n                        return (\n                            <tr key={outcome?.outcomeId}>\n                                <td style={{ color: `var(${outcome?.colorVar})` }}>{outcome?.tokenName}</td>\n                                <td>{formatCollateralToken(numerator, market.collateralToken.decimals)} {market.collateralToken.tokenSymbol}</td>\n                                <td>{outcome?.balanceFormatted} {outcome?.tokenSymbol}</td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </table>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Button from '../../components/Button';\nimport { EscrowStatus } from '../../models/EscrowStatus';\nimport { MarketViewModel } from '../../models/Market';\nimport { PoolToken } from '../../models/PoolToken';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport trans from '../../translation/trans';\n\nimport s from './ClaimEarnings.module.scss';\nimport FinalizedMarketOutcomes from './components/FinalizedMarketOutcomes';\nimport { calculatePayout } from './services/calculatePayout';\n\ninterface Props {\n    poolToken?: PoolToken;\n    market: MarketViewModel;\n    escrowStatus: EscrowStatus[];\n    onClaim: () => void;\n}\n\nexport default function ClaimFees({\n    poolToken,\n    market,\n    escrowStatus,\n    onClaim,\n}: Props): ReactElement {\n    const payout = calculatePayout(market.outcomeTokens, market.payoutNumerator, escrowStatus, market.poolTokenInfo.totalSupply, poolToken);\n    \n    return (\n        <div>\n            {market.invalid && (\n                <p>{trans('market.claimEarnings.invalidMarket')}</p>\n            )}\n\n            {!market.invalid && (\n                <>\n                    <p>\n                        {trans('market.claimEarnings.validMarket')}\n                    </p>\n                    <FinalizedMarketOutcomes market={market} />\n                </>\n            )}\n\n            {market.claim && (\n                <p>\n                    {trans('market.claimEarnings.alreadyClaimed', {\n                        payout: market.claim.payoutFormatted,\n                        tokenName: market.collateralToken.tokenSymbol,\n                    })}\n                </p>\n            )}\n\n            {!market.claim && !market.invalid && (\n                <p>\n                    {trans('market.claimEarnings.label.claimable', {\n                        tokenName: market.collateralToken.tokenSymbol,\n                    })}\n                    <span className={s.claimable}>\n                        {formatCollateralToken(payout.toString(), market.collateralToken.decimals, 8)} {market.collateralToken.tokenSymbol}\n                    </span>\n                </p>\n            )}\n\n            <Button disabled={Boolean(market.claim)} onClick={onClaim} className={s.confirm}>\n                {trans('market.action.claimEarnings')}\n            </Button>\n        </div>\n    );\n}\n","import Big from \"big.js\";\nimport { EscrowStatus } from \"../../../models/EscrowStatus\";\nimport { PoolToken } from \"../../../models/PoolToken\";\nimport { TokenViewModel } from \"../../../models/TokenViewModel\";\n\nexport function calculatePayout(\n    tokens: TokenViewModel[], \n    payoutNumerator: string[] | null, \n    escrowStatus: EscrowStatus[], \n    poolTokenTotalSupply: string, \n    poolToken?: PoolToken\n): Big {\n    let claimable = new Big(0);\n\n    // First add fees\n    if (poolToken) {\n        claimable = claimable.add(poolToken.fees);\n    }\n    \n    // Token balance * payout numerator\n    if (payoutNumerator) {\n        const escrowValidMarket = escrowStatus.find(status => status.type === 'valid_escrow');\n        const numerators = payoutNumerator.map(n => new Big(n));\n\n        numerators.forEach((num, outcome) => {\n            const token = tokens.find(token => token.outcomeId === outcome);\n            if (!token || num.eq(\"0\")) return;\n\n            const payout = new Big(token.balance).mul(num.div(`1e${token.decimals}`));\n            // Calculate payout from still existent lp tokens\n            if (poolToken) {\n                const bal = new Big(poolToken.balance);\n                if (bal.eq(\"0\")) return;\n                const ts = new Big(poolTokenTotalSupply);\n                const relBal = bal.div(ts);\n                const outcomeOwnership = relBal.mul(tokens[outcome].poolBalance);\n                const claimableThroughExit = outcomeOwnership.mul(num.div(`1e${token.decimals}`));\n                claimable = claimable.add(claimableThroughExit);\n            }\n\n            claimable = claimable.add(payout);\n        });\n\n        if (escrowValidMarket) {\n            claimable = claimable.add(escrowValidMarket.totalAmount);\n        }\n    } else {\n        // Return total spent + escrow.invalid\n    }\n\n    return claimable;\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport ClaimEarnings from '../../containers/ClaimEarnings';\nimport { Reducers } from '../../redux/reducers';\nimport { claimEarningsForMarket } from '../../services/MarketService';\n\nexport default function ClaimEarningsConnector(): ReactElement {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const escrowStatus = useSelector((store: Reducers) => store.market.escrowStatus);\n\n    const handleClaim = useCallback(() => {\n        if (!market) return;\n\n        claimEarningsForMarket(market.id);\n    }, [market]);\n\n    if (!market) {\n        return (\n            <div />\n        );\n    }\n\n    return (\n        <ClaimEarnings\n            poolToken={poolToken}\n            market={market}\n            onClaim={handleClaim}\n            escrowStatus={escrowStatus}\n        />\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n\nimport Button from '../../components/Button';\nimport Label from '../../components/Label';\nimport TextInput from '../../components/TextInput';\nimport { Account } from '../../models/Account';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport createDefaultSeedPoolFormValues from './services/createDefaultSeedPoolFormValues';\nimport { validateSeedPool } from './services/validateSeedPool';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport { SeedPoolFormValues } from '../../services/PoolService';\n\nimport s from './SeedPool.module.scss';\nimport Error from '../../components/Error';\nimport { toCollateralToken } from '../../services/CollateralTokenService';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\n\ninterface Props {\n    market: MarketViewModel;\n    mainToken: TokenViewModel;\n    account: Account | null,\n    onSeedPool: (values: SeedPoolFormValues) => void;\n}\n\nexport default function SeedPool({\n    market,\n    account,\n    mainToken,\n    onSeedPool,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultSeedPoolFormValues());\n\n    function handlePercentageChange(index: number, value: string) {\n        const percentages = formValues.outcomePercentages;\n        percentages[index] = value;\n\n        setFormValues({\n            ...formValues,\n            outcomePercentages: percentages\n        });\n    }\n\n    function handleMainTokenChange(value: string) {\n        setFormValues({\n            ...formValues,\n            mainTokenInputFormatted: value,\n            mainTokenInput: value ? toCollateralToken(value, mainToken.decimals) : '',\n        });\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            mainTokenInputFormatted: mainToken.balanceFormatted,\n            mainTokenInput: mainToken.balance,\n        });\n    }\n\n    useEffect(() => {\n        setFormValues((values) => ({\n            ...values,\n            outcomePercentages: market.outcomeTokens.map(() => '0')\n        }));\n    }, [market.outcomeTokens]);\n\n    const errors = validateSeedPool(formValues, market);\n\n    return (\n        <div>\n            <form>\n                <p>{trans('seedPool.explanation', { tokenName: mainToken.tokenName })}</p>\n\n                <div className={s.inputWrapper}>\n                    <LabeledTokenSelect\n                        label=\"\"\n                        onBalanceClick={handleBalanceClick}\n                        onTokenSwitch={() => { }}\n                        value={formValues.mainTokenInputFormatted}\n                        tokens={[mainToken]}\n                        selectedToken={mainToken}\n                        onValueChange={handleMainTokenChange}\n                        placeholder=\"1000\"\n                    />\n                    <Error error={errors.mainTokenInput} />\n                </div>\n\n                <h3>{trans('seedPool.weightsTitle')}</h3>\n                {formValues.outcomePercentages.map((percentage, index) => (\n                    <div className={s.inputWrapper} key={index}>\n                        <Label text={market.outcomeTokens.find(outcome => outcome.outcomeId === index)?.tokenName || \"\"} />\n                        <TextInput\n                            value={percentage}\n                            type=\"number\"\n                            onChange={(value) => handlePercentageChange(index, value)}\n                            error={!!errors.outcomePercentages[index]}\n                            helperText={errors.outcomePercentages[index]}\n                            InputProps={{\n                                endAdornment: (\n                                    <InputAdornment position=\"end\">\n                                        <span className={s.adornement}>%</span>\n                                    </InputAdornment>\n                                )\n                            }}\n                        />\n                    </div>\n                ))}\n\n                {!errors.canSeed && <p>{errors.message}</p>}\n\n                <Button\n                    className={s.confirmButton}\n                    disabled={!errors.canSeed}\n                    onClick={() => onSeedPool(formValues)}\n                >\n                    {trans('seedPool.action.submit')}\n                </Button>\n            </form>\n        </div>\n    );\n}\n","import { SeedPoolFormValues } from \"../../../services/PoolService\";\n\nexport default function createDefaultSeedPoolFormValues(): SeedPoolFormValues {\n    return {\n        outcomePercentages: [],\n        mainTokenInput: '',\n        mainTokenInputFormatted: '',\n    };\n}\n","import Big from \"big.js\";\nimport { MarketViewModel } from \"../../../models/Market\";\nimport { SeedPoolFormValues } from \"../../../services/PoolService\";\nimport trans from \"../../../translation/trans\";\n\nexport interface SeedPoolFormErrors {\n    outcomePercentages: string[];\n    canSeed: boolean;\n    message: string;\n    mainTokenInput: string;\n}\n\nexport function validateSeedPool(formValues: SeedPoolFormValues, market: MarketViewModel) {\n    const errors: SeedPoolFormErrors = {\n        outcomePercentages: [],\n        canSeed: true,\n        message: '',\n        mainTokenInput: '',\n    }\n\n    errors.outcomePercentages = formValues.outcomePercentages.map(percentageRaw => {\n        const percentage = Number(percentageRaw);\n        if (percentage <= 0) return trans('seedPool.inputZero');\n        if (percentage >= 100) return trans('seedPool.input100');\n\n        return '';\n    });\n\n    const hasOutcomeErrors = errors.outcomePercentages.some(item => item !== '');\n    const percentageTogether = formValues.outcomePercentages.map(p => Number(p)).reduce((prev, cur) => prev + cur, 0);\n\n    if (hasOutcomeErrors || percentageTogether !== 100) {\n        errors.canSeed = false;\n    }\n\n    if (percentageTogether !== 100) {\n        errors.message = trans('seedPool.not100Percent', {\n            percentage: percentageTogether.toString(),\n        });\n    }\n\n    if (formValues.mainTokenInput) {\n        const inputAmount = formValues.mainTokenInput;\n\n        if (new Big(inputAmount).lte(0)) {\n            errors.canSeed = false;\n        }\n\n        if (new Big(inputAmount).gt(market.collateralToken.balance)) {\n            errors.mainTokenInput = trans('seedPool.errors.notEnoughBalance');\n            errors.canSeed = false;\n        }\n    } else {\n        errors.canSeed = false;\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SeedPool from '../../containers/SeedPool';\nimport { SeedPoolFormValues } from '../../services/PoolService';\nimport { Reducers } from '../../redux/reducers';\nimport { seedPoolAction } from '../../redux/market/marketActions';\n\nexport default function SeedPoolConnector() {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n\n    const handleSeedPool = useCallback((formValues: SeedPoolFormValues) => {\n        if (!market) return;\n\n        dispatch(seedPoolAction(market.id, market.collateralTokenId, formValues));\n    }, [dispatch, market]);\n\n    if (!market) {\n        return <div />;\n    }\n\n    return (\n        <SeedPool\n            account={account}\n            market={market}\n            mainToken={market.collateralToken}\n            onSeedPool={handleSeedPool}\n        />\n    );\n}\n","import React from 'react';\nimport trans from '../../translation/trans';\n\n\nexport default function MarketClosed() {\n    return (\n        <div>\n            <p>{trans('marketClosed.description')}</p>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Big from \"big.js\";\nimport { MarketViewModel } from '../../../../models/Market';\nimport Overview from '../../../../components/Overview';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport trans from '../../../../translation/trans';\n\n\ninterface Props {\n    market: MarketViewModel\n    amount: string\n}\n\nexport default function ExitOverview({\n    market,\n    amount\n}: Props): ReactElement {\n    const poolTokenTotalSupply = new Big(market.poolTokenInfo.totalSupply);\n    const relativeBal = amount ? new Big(amount).div(poolTokenTotalSupply) : new Big(\"0\");\n\n    const data = market.outcomeTokens.map(tokenData => ({\n        key: tokenData.tokenName + trans('market.label.spaceTokens'),\n        value: FluxSdk.utils.formatToken(relativeBal.mul(new Big(tokenData.poolBalance)).toString(), market.collateralToken.decimals)\n    }))\n\n    return (\n        <Overview header={trans('market.label.youReceive', {}, true)} data={data} />\n    )\n}\n","import React, { useState } from 'react';\nimport Button from '../../components/Button';\nimport Error from '../../components/Error';\nimport { MarketViewModel } from '../../models/Market';\nimport { PoolToken, transformPoolTokenToTokenViewModel } from '../../models/PoolToken';\nimport { formatCollateralToken, toCollateralToken } from '../../services/CollateralTokenService';\nimport trans from '../../translation/trans';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\nimport ExitOverview from './components/ExitOverview/ExitOverview';\n\nimport s from './ExitPool.module.scss';\nimport createDefaultExitPoolFormValues, { ExitPoolFormValues } from './services/createDefaultExitPoolFormValues';\nimport validateExitPool from './services/validateExitPool';\n\ninterface Props {\n    market: MarketViewModel;\n    poolToken: PoolToken;\n    onExitPool: (formValues: ExitPoolFormValues) => void;\n}\n\nexport default function ExitPool({\n    market,\n    poolToken,\n    onExitPool,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultExitPoolFormValues());\n    const token = transformPoolTokenToTokenViewModel(poolToken);\n\n    function handleAmountInChange(value: string) {\n        setFormValues({\n            ...formValues,\n            amountIn: value ? toCollateralToken(value, poolToken.collateralTokenDecimals) : '',\n            amountInFormatted: value,\n        });\n    }\n\n    function handleSubmit() {\n        onExitPool(formValues);\n    }\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            amountIn: poolToken.balance,\n            amountInFormatted: poolToken.balanceFormatted,\n        });\n    }\n\n    const errors = validateExitPool(formValues, poolToken);\n\n    return (\n        <section>\n            <p>\n                {trans('exitPool.description')}\n            </p>\n            <LabeledTokenSelect\n                label={trans('exitPool.label.lpTokensToRemove')}\n                onBalanceClick={handleBalanceClick}\n                value={formValues.amountInFormatted}\n                onValueChange={handleAmountInChange}\n                onTokenSwitch={() => { }}\n                selectedToken={token}\n                tokens={[token]}\n                className={s.tokenSelect}\n                showPrice={false}\n            />\n            <Error error={errors.amountIn} />\n            <p>\n                {trans('exitPool.label.feesEarned', {\n                    amount: formatCollateralToken(poolToken.fees, market.collateralToken.decimals, 8),\n                    tokenSymbol: market.collateralToken.tokenSymbol,\n                })}\n            </p>\n\n            <ExitOverview market={market} amount={formValues.amountIn} />\n            <Button onClick={handleSubmit} className={s.confirm} disabled={!errors.canSubmit}>\n                {trans('exitPool.action.exitPool')}\n            </Button>\n        </section>\n    );\n}\n","export interface ExitPoolFormValues {\n    amountIn: string;\n    amountInFormatted: string;\n}\n\nexport default function createDefaultExitPoolFormValues(): ExitPoolFormValues {\n    return {\n        amountIn: '',\n        amountInFormatted: '',\n    };\n}\n","import Big from 'big.js';\nimport { PoolToken } from '../../../models/PoolToken';\nimport trans from '../../../translation/trans';\nimport { ExitPoolFormValues } from './createDefaultExitPoolFormValues';\n\ninterface ExitPoolFormErrors {\n    amountIn: string;\n    canSubmit: boolean;\n}\n\nexport default function validateExitPool(formValues: ExitPoolFormValues, poolToken: PoolToken) {\n    const errors: ExitPoolFormErrors = {\n        canSubmit: true,\n        amountIn: '',\n    }\n\n    if (formValues.amountIn !== '') {\n        if (new Big(poolToken.balance).lt(formValues.amountIn)) {\n            errors.amountIn = trans('exitPool.validation.amountIn.tooHigh');\n            errors.canSubmit = false;\n        }\n\n        if (new Big(formValues.amountIn).lte(0)) {\n            errors.amountIn = trans('exitPool.validation.amountIn.negative');\n            errors.canSubmit = false;\n        }\n    } else {\n        errors.canSubmit = false;\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ExitPool from '../../containers/ExitPool';\nimport { ExitPoolFormValues } from '../../containers/ExitPool/services/createDefaultExitPoolFormValues';\nimport { exitPoolAction } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function ExitPoolConnector() {\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const dispatch = useDispatch();\n\n    const handleExitPool = useCallback((formValues: ExitPoolFormValues) => {\n        if (!poolToken) return;\n\n        dispatch(exitPoolAction(poolToken.marketId, formValues.amountIn));\n    }, [poolToken, dispatch]);\n\n    if (!poolToken || !market) {\n        return <div />\n    }\n\n    return (\n        <ExitPool\n            poolToken={poolToken}\n            market={market}\n            onExitPool={handleExitPool}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport Button from '../../components/Button';\nimport trans from '../../translation/trans';\n\nimport s from './NotLoggedIn.module.scss';\n\ninterface Props {\n    onLoginClick: () => void;\n}\n\nexport default function NotLoggedIn({\n    onLoginClick\n}: Props): ReactElement {\n    return (\n        <div>\n            <div>\n                <h2>{trans('notLoggedIn.title')}</h2>\n                <p>{trans('notLoggedIn.description')}</p>\n            </div>\n            <Button\n                className={s.confirmButton}\n                onClick={onLoginClick}\n            >\n                {trans('notLoggedIn.action.login')}\n            </Button>\n        </div>\n    );\n}\n","import React, { ReactElement, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport NotLoggedIn from '../../containers/NotLoggedIn';\nimport { signIn } from '../../redux/account/accountActions';\n\n\nexport default function NotLoggedInConnector(): ReactElement {\n    const dispatch = useDispatch();\n\n    const handleLoginClick = useCallback(() => {\n        dispatch(signIn());\n    }, [dispatch]);\n\n    return (\n        <NotLoggedIn onLoginClick={handleLoginClick} />\n    );\n}\n","import React from 'react';\nimport ActionsCard from '../../components/ActionsCard';\nimport trans from '../../translation/trans';\n\nimport s from './NoBalanceCard.module.scss';\nimport Button from '../../components/Button';\nimport { MarketViewModel } from '../../models/Market';\nimport { DAI_NEAR_ACCOUNT_ID, WRAPPED_NEAR_ACCOUNT_ID } from '../../config';\nimport { Account } from '../../models/Account';\n\ninterface Props {\n    market: MarketViewModel;\n    account: Account | null;\n    onDialogOpenClick: () => void;\n}\n\nexport default function NoBalanceCard({\n    market,\n    account,\n    onDialogOpenClick,\n}: Props) {\n    if (!account) {\n        return null;\n    }\n\n    const collateralTokenId = market.collateralTokenId;\n\n    if (collateralTokenId !== WRAPPED_NEAR_ACCOUNT_ID && collateralTokenId !== DAI_NEAR_ACCOUNT_ID) {\n        return null;\n    }\n\n    if (market.collateralToken.balance !== '0') {\n        return null;\n    }\n\n    return (\n        <ActionsCard className={s.actionsCard}>\n            <img src={market.collateralToken.tokenImage} alt=\"\" className={s.icon} />\n            <div className={s.content}>\n                {collateralTokenId === WRAPPED_NEAR_ACCOUNT_ID && <p className={s.text}>{trans('noWrappedNear.description', { accountId: account.accountId })}</p>}\n                {collateralTokenId !== WRAPPED_NEAR_ACCOUNT_ID && <p className={s.text}>{trans('noBalanceCard.description', { tokenName: market.collateralToken.tokenName })}</p>}\n                {collateralTokenId === WRAPPED_NEAR_ACCOUNT_ID && <Button onClick={onDialogOpenClick}>{trans('noWrappedNear.action.openDialog')}</Button>}\n                {collateralTokenId !== WRAPPED_NEAR_ACCOUNT_ID && <Button onClick={onDialogOpenClick}>{trans('noBalanceCard.action.openDialog', { tokenName: market.collateralToken.tokenName })}</Button>}\n            </div>\n        </ActionsCard>\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { WRAPPED_NEAR_ACCOUNT_ID } from '../../config';\nimport NoWrappedNearCard from '../../containers/NoBalanceCard';\nimport { setWrappingNearDialogOpen, setNoBalanceDialog } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function NoWrappedNearCardConnector() {\n    const dispatch = useDispatch();\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    const handleOpenDialogClick = useCallback(() => {\n        if (market?.collateralTokenId === WRAPPED_NEAR_ACCOUNT_ID) {\n            dispatch(setWrappingNearDialogOpen(true));\n        } else {\n            dispatch(setNoBalanceDialog({\n                open: true,\n                token: market?.collateralToken,\n            }));\n        }\n    }, [dispatch, market]);\n\n    if (!market) return null;\n\n    return (\n        <NoWrappedNearCard\n            market={market}\n            account={account}\n            onDialogOpenClick={handleOpenDialogClick}\n        />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport trans from '../../../../translation/trans';\nimport Overview from \"./../../../../components/Overview\";\nimport Big from 'big.js';\nimport { MarketViewModel } from '../../../../models/Market';\nimport { formatCollateralToken } from '../../../../services/CollateralTokenService';\n\ninterface Props {\n    market: MarketViewModel,\n    amountRedeemable: string\n}\n\nexport default function SwapOverview({\n    market,\n    amountRedeemable\n}: Props ): ReactElement {\n    const totalAvgPrice = market.outcomeTokens.reduce((sum, token) => {\n        const spent = new Big(token.spent);\n        const balance = new Big(token.balance);\n        if (!balance || balance.eq(\"0\")) {\n            return sum;\n        }\n\n        const avgSpent = spent.div(balance);\n        return sum.add(avgSpent);\n    }, new Big(\"0\"));\n\n    const data = []\n    if (totalAvgPrice.gt(\"1\")) {\n\n        // Claimable if invalid\n        const priceDelta = totalAvgPrice.minus(\"1\");\n        const toEscrow = new Big(amountRedeemable).mul(priceDelta);\n        const formattedToEscrow = formatCollateralToken(toEscrow.toString(), market.collateralToken.decimals);\n        data.push(...[\n            {\n                key: trans('redeem.overview.escrowInvalid'),\n                value: `${formattedToEscrow} ${market.collateralToken.tokenSymbol}`\n            },\n            {\n                key: trans('redeem.overview.paidNow'),\n                value: `${formatCollateralToken(new Big(amountRedeemable).toString(), market.collateralToken.decimals)}`\n            }\n        ]);\n    } else if (totalAvgPrice.lt(\"1\")) {\n        // Claimable if valid\n        const priceDelta = new Big(\"1\").minus(totalAvgPrice);\n        const toEscrow = new Big(amountRedeemable).mul(priceDelta);\n        const formattedToEscrow = formatCollateralToken(toEscrow.toString(), market.collateralToken.decimals);\n\n        data.push(...[\n            {\n                key: trans('redeem.overview.escrowValid'),\n                value: `~${formattedToEscrow} ${market.collateralToken.tokenSymbol}`\n            },\n            {\n                key: trans('redeem.overview.paidNow'),\n                value: `${formatCollateralToken(new Big(amountRedeemable).minus(toEscrow).toString(), market.collateralToken.decimals)}`\n            }\n        ]);\n    }\n\n    return <Overview data={data} header={trans('market.label.overview', {}, true)} />;\n}\n","import React from 'react';\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport Button from '../../components/Button';\nimport { MarketViewModel } from '../../models/Market';\nimport trans from '../../translation/trans';\nimport RedeemOverview from './components/RedeemOverview/RedeemOverview';\nimport s from './Redeem.module.scss';\n\nexport interface Props {\n    amountRedeemable: string;\n    market: MarketViewModel;\n    onRedeemClick: () => void;\n}\n\nexport default function Redeem({\n    market,\n    amountRedeemable,\n    onRedeemClick,\n}: Props) {\n    return (\n        <div>\n            <p>\n                {trans('redeem.description', {\n                    amount: FluxSdk.utils.formatToken(amountRedeemable, market.collateralToken.decimals),\n                    tokenSymbol: market.collateralToken.tokenSymbol,\n                })}\n            </p>\n\n            <RedeemOverview amountRedeemable={amountRedeemable} market={market}/>\n            <Button className={s.confirmButton} onClick={onRedeemClick}>\n                {trans('redeem.action.submit', {\n                    amount: FluxSdk.utils.formatToken(amountRedeemable, market.collateralToken.decimals),\n                    tokenSymbol: market.collateralToken.tokenSymbol,\n                })}\n            </Button>\n        </div>\n    );\n}\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Redeem from '../../containers/Redeem';\nimport { Reducers } from '../../redux/reducers';\nimport { burnOutcomeTokensRedeemCollateral, getEligibleAmountForRedeeming } from '../../services/MarketService';\n\nexport default function RedeemConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const toRedeem = getEligibleAmountForRedeeming(market?.outcomeTokens || []);\n\n    const handleRedeemClick = useCallback(() => {\n        if (!market) return;\n\n        burnOutcomeTokensRedeemCollateral(market.id, toRedeem.toString());\n    }, [market, toRedeem]);\n\n    if (!market) {\n        return <div />;\n    }\n\n    return (\n        <Redeem\n            amountRedeemable={toRedeem.toString()}\n            market={market}\n            onRedeemClick={handleRedeemClick}\n        />\n    );\n}\n","import React from 'react';\nimport trans from '../../translation/trans';\n\n\nexport default function NotInWhitelistCard() {\n    return (\n        <div>\n            <h2>{trans('notInWhitelist.title')}</h2>\n            <p>\n                {trans('notInWhitelist.description')}\n            </p>\n        </div>\n    );\n}\n","import React, { ReactElement } from 'react';\nimport Label from '../../components/Label';\nimport TextInput, { TextInputProps } from '../../components/TextInput/TextInput';\n\ninterface Props extends TextInputProps {\n    label: string;\n}\n\nexport default function LabeledTextInput({\n    label,\n    ...props\n}: Props): ReactElement {\n    return (\n        <div>\n            <Label text={label} />\n            <TextInput {...props} />\n        </div>\n    );\n}\n","import React, { useState } from 'react';\n\nimport FluxSdk from '@fluxprotocol/amm-sdk';\nimport Big from 'big.js';\n\nimport Button from '../../components/Button';\nimport Error from '../../components/Error';\nimport LabeledTextInput from '../../compositions/LabeledTextInput';\nimport { MarketViewModel } from '../../models/Market';\nimport { getScalarBounds } from '../../services/MarketService';\nimport { SeedScalarMarketFormValues } from '../../services/PoolService';\nimport trans from '../../translation/trans';\nimport LabeledTokenSelect from '../LabeledTokenSelect';\nimport { createDefaultSeedScalarFormValues } from './utils/createDefaultSeedScalarFormValues';\nimport { validateSeedScalarMarket } from './utils/validateSeedScalarMarket';\n\nimport s from './SeedScalarMarket.module.scss';\nimport { prettyFormatNumber } from '../../utils/prettyFormatNumber';\n\ninterface Props {\n    market: MarketViewModel;\n    onSubmit: (values: SeedScalarMarketFormValues) => void;\n}\n\nexport default function SeedScalarMarket({\n    market,\n    onSubmit,\n}: Props) {\n    const [formValues, setFormValues] = useState(createDefaultSeedScalarFormValues(market));\n    const mainToken = market.collateralToken;\n    const bounds = getScalarBounds(market.outcomeTokens.map(token => token.bound));\n\n    function handleBalanceClick() {\n        setFormValues({\n            ...formValues,\n            mainTokenInputFormatted: mainToken.balanceFormatted,\n            mainTokenInput: mainToken.balance,\n        });\n    }\n\n    function handleMainTokenChange(value: string) {\n        const settedValue = value || '0';\n\n        setFormValues({\n            ...formValues,\n            mainTokenInput: FluxSdk.utils.toToken(settedValue, mainToken.decimals),\n            mainTokenInputFormatted: settedValue,\n        });\n    }\n\n    function handleInitialValueChange(value: string) {\n        if (!value) return;\n\n        setFormValues({\n            ...formValues,\n            initialValue: new Big(value),\n        });\n    }\n\n    const errors = validateSeedScalarMarket(formValues, market);\n\n    return (\n        <section>\n            <form>\n                <p>\n                    {trans('seedScalarMarket.explanation', {\n                        tokenName: market.collateralToken.tokenSymbol,\n                    })}\n                </p>\n\n                <div className={s.inputWrapper}>\n                    <LabeledTokenSelect\n                        label=\"\"\n                        onBalanceClick={handleBalanceClick}\n                        onTokenSwitch={() => { }}\n                        value={formValues.mainTokenInputFormatted}\n                        tokens={[mainToken]}\n                        selectedToken={mainToken}\n                        onValueChange={handleMainTokenChange}\n                        placeholder=\"1000\"\n                    />\n                    <Error error={errors.mainTokenInput} />\n                </div>\n\n                <div className={s.inputWrapper}>\n                    <div className={s.bounds}>\n                        <span>{trans('seedScalarMarket.label.lowerBound', { amount: prettyFormatNumber(bounds.lowerBound.toString()) })}</span>\n                        <span>{trans('seedScalarMarket.label.upperBound', { amount: prettyFormatNumber(bounds.upperBound.toString()) })}</span>\n                    </div>\n                    <LabeledTextInput\n                        type=\"number\"\n                        label={trans('seedScalarMarket.label.initialValue')}\n                        value={formValues.initialValue.toString()}\n                        onChange={handleInitialValueChange}\n                        helperText={errors.initialValue}\n                        error={!!errors.initialValue}\n                    />\n                </div>\n\n                <Button\n                    className={s.confirmButton}\n                    disabled={!errors.canSubmit}\n                    onClick={() => onSubmit(formValues)}\n                >\n                    {trans('seedScalarMarket.action.submit')}\n                </Button>\n            </form>\n        </section>\n    );\n}\n","import FluxSdk from \"@fluxprotocol/amm-sdk\";\nimport { MarketViewModel } from \"../../../models/Market\";\nimport { SeedScalarMarketFormValues } from \"../../../services/PoolService\";\n\nexport function createDefaultSeedScalarFormValues(market: MarketViewModel): SeedScalarMarketFormValues {\n    return {\n        initialValue: FluxSdk.utils.calcMedian(market.outcomeTokens.map(token => token.bound)),\n        mainTokenInput: '0',\n        mainTokenInputFormatted: '0',\n    }\n}\n","import Big from \"big.js\";\nimport { MarketViewModel } from \"../../../models/Market\";\nimport { getScalarBounds } from \"../../../services/MarketService\";\nimport { SeedScalarMarketFormValues } from \"../../../services/PoolService\";\nimport trans from \"../../../translation/trans\";\n\nexport interface SeedScalarMarketFormErrors {\n    canSubmit: boolean;\n    message: string;\n    mainTokenInput: string;\n    initialValue: string;\n}\n\nexport function validateSeedScalarMarket(formValues: SeedScalarMarketFormValues, market: MarketViewModel): SeedScalarMarketFormErrors {\n    const errors: SeedScalarMarketFormErrors = {\n        canSubmit: true,\n        message: '',\n        mainTokenInput: '',\n        initialValue: '',\n    };\n\n    const bounds = getScalarBounds(market.outcomeTokens.map(token => token.bound));\n\n    if (formValues.initialValue.lt(bounds.lowerBound)) {\n        errors.canSubmit = false;\n        errors.initialValue = trans('seedScalarMarket.errors.initialValue.ltLowerBound');\n    }\n\n    if (formValues.initialValue.gt(bounds.upperBound)) {\n        errors.canSubmit = false;\n        errors.initialValue = trans('seedScalarMarket.errors.initialValue.gtUpperBound');\n    }\n\n    if (formValues.mainTokenInput) {\n        const amountIn = new Big(formValues.mainTokenInput);\n\n        if (amountIn.lte(0)) {\n            errors.canSubmit = false;\n        }\n    }\n\n    return errors;\n}\n","import React, { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SeedScalarMarket from '../../containers/SeedScalarMarket';\nimport { seedScalarMarketAction } from '../../redux/market/marketActions';\nimport { Reducers } from '../../redux/reducers';\nimport { SeedScalarMarketFormValues } from '../../services/PoolService';\n\n\nexport default function SeedScalarMarketConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const dispatch = useDispatch();\n\n    const handleSubmit = useCallback((values: SeedScalarMarketFormValues) => {\n        if (!market) return;\n        dispatch(seedScalarMarketAction(market, values));\n    }, [dispatch, market]);\n\n    if (!market) return null;\n\n    return (\n        <SeedScalarMarket\n            market={market}\n            onSubmit={handleSubmit}\n        />\n    );\n}\n","import React, { useEffect } from 'react';\n\nimport { DiscussionEmbed } from 'disqus-react';\nimport { useSelector } from 'react-redux';\nimport { Reducers } from '../../redux/reducers';\nimport { NETWORK, NODE_ENV, PROTOCOL_ACCOUNT_ID } from '../../config';\nimport { useDarkmode } from '../../utils/darkmode';\n\n\nexport default function MarketCommentsConnector() {\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const isDarkmodeActive = useDarkmode();\n\n    useEffect(() => {\n        // @ts-ignore\n        if (!window.DISQUS || !market) return;\n        // @ts-ignore\n        window.DISQUS.reset({\n            reload: true,\n        });\n    }, [isDarkmodeActive]);\n\n    if (!market) {\n        return null;\n    }\n\n    return (\n        <DiscussionEmbed\n            shortname=\"flux-2\"\n            config={{\n                title: market.description,\n                identifier: NODE_ENV + NETWORK + PROTOCOL_ACCOUNT_ID + market.id + '_0',\n                url: window.location.href,\n            }}\n        />\n    );\n}\n","import React from 'react';\nimport Button from '../../components/Button';\nimport Dialog from '../../compositions/Dialog';\nimport { RAINBOW_BRIDGE_LINK, REF_FINANCE_LINK } from '../../config';\nimport { TokenViewModel } from '../../models/TokenViewModel';\nimport trans from '../../translation/trans';\n\nimport s from './NoBalanceDialog.module.scss';\n\ninterface Props {\n    open: boolean;\n    token: TokenViewModel;\n    onRequestClose: () => void;\n}\n\n\nexport default function NoBalanceDialog({\n    open,\n    token,\n    onRequestClose,\n}: Props) {\n    function handleRefFinanceClick() {\n        window.open(`${REF_FINANCE_LINK}#wNEAR-${token.tokenSymbol}`);\n    }\n\n    function handleRainbowBridgeClick() {\n        window.open(`${RAINBOW_BRIDGE_LINK}`);\n    }\n\n    return (\n        <Dialog\n            title={trans('noBalanceDialog.title', { tokenName: token.tokenName })}\n            open={open}\n            onRequestClose={onRequestClose}\n            onSubmitClick={() => {}}\n            isInfoDialog\n            hideButtons\n        >\n            <p>{trans('noBalanceDialog.description', { tokenName: token.tokenName })}</p>\n\n            <Button className={s.linkButton} onClick={handleRefFinanceClick}>{trans('global.link.refFinance')}</Button>\n            <Button className={s.linkButton} onClick={handleRainbowBridgeClick}>{trans('global.link.rainbowBridge')}</Button>\n        </Dialog>\n    );\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport NoBalanceDialog from '../../containers/NoBalanceDialog';\nimport { setNoBalanceDialog } from '../../redux/dialogs/dialogs';\nimport { Reducers } from '../../redux/reducers';\n\n\nexport default function NoBalanceDialogconnector() {\n    const dispatch = useDispatch();\n    const isDialogOpen = useSelector((store: Reducers) => store.dialogs.noBalanceDialog.open);\n    const token = useSelector((store: Reducers) => store.dialogs.noBalanceDialog.token);\n\n    function handleRequestDialogClose() {\n        dispatch(setNoBalanceDialog({\n            open: false,\n        }));\n    }\n\n    if (!token) return null;\n\n    return (\n        <NoBalanceDialog\n            open={isDialogOpen}\n            onRequestClose={handleRequestDialogClose}\n            token={token}\n        />\n    );\n}\n","import format from \"date-fns/format\";\n\nexport function prettyFormatDate(date: Date): string {\n    return format(date, 'MMMM d, yyyy HH:mm:ss');\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport React from 'react';\nimport classnames from 'classnames';\n\nimport { Link } from 'react-router-dom';\nimport { Transaction } from '../../../../models/Transaction';\nimport { prettyFormatDate } from '../../../../services/DateService';\nimport trans from '../../../../translation/trans';\n\ninterface Props {\n    transaction: Transaction;\n    href: any;\n    linkClassName?: string;\n    className?: string;\n}\n\nexport default function AddLiquidityTransactionRow({\n    href,\n    transaction,\n    linkClassName = '',\n    className = '',\n}: Props) {\n    return (\n        <tr className={className}>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {trans('accountTransactionsOverview.addLiquidity.type')}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={classnames(linkClassName, 'txoverview__market-description')}>\n                    {transaction.marketDescription}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.input, transaction.collateralToken.decimals)} {transaction.collateralToken.tokenSymbol}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                \n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.output, transaction.collateralToken.decimals)} {transaction.tokenName}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {prettyFormatDate(transaction.date)}\n                </Link>\n            </td>\n        </tr>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Transaction } from '../../../../models/Transaction';\nimport { prettyFormatDate } from '../../../../services/DateService';\nimport trans from '../../../../translation/trans';\n\ninterface Props {\n    transaction: Transaction;\n    className?: string;\n    linkClassName?: string;\n    href: any;\n}\n\nexport default function BuyTransactionRow({\n    transaction,\n    href,\n    className = '',\n    linkClassName = '',\n}: Props) {\n    return (\n        <tr className={className}>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {trans('accountTransactionsOverview.buy.type')}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={classnames(linkClassName, 'txoverview__market-description')}>\n                    {transaction.marketDescription}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.input, transaction.collateralToken.decimals)} {transaction.collateralToken.tokenSymbol}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                \n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.output, transaction.collateralToken.decimals)} {transaction.tokenName}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {prettyFormatDate(transaction.date)}\n                </Link>\n            </td>\n        </tr>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Transaction } from '../../../../models/Transaction';\nimport { prettyFormatDate } from '../../../../services/DateService';\nimport trans from '../../../../translation/trans';\n\ninterface Props {\n    transaction: Transaction;\n    className?: string;\n    href: any;\n    linkClassName?: string;\n}\n\nexport default function SellTransactionRow({\n    transaction,\n    className = '',\n    href,\n    linkClassName,\n}: Props) {\n    return (\n        <tr className={className}>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {trans('accountTransactionsOverview.sell.type')}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={classnames(linkClassName, 'txoverview__market-description')}>\n                    {transaction.marketDescription}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.input, transaction.collateralToken.decimals)} {transaction.tokenName}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                \n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.output, transaction.collateralToken.decimals)} {transaction.collateralToken.tokenSymbol}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {prettyFormatDate(transaction.date)}\n                </Link>\n            </td>\n        </tr>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Transaction } from '../../../../models/Transaction';\nimport { prettyFormatDate } from '../../../../services/DateService';\nimport trans from '../../../../translation/trans';\n\ninterface Props {\n    transaction: Transaction;\n    className?: string;\n    href: any;\n    linkClassName?: string;\n}\n\nexport default function RemoveLiquidityTransactionRow({\n    transaction,\n    href,\n    linkClassName = '',\n    className = '',\n}: Props) {\n    return (\n        <tr className={className}>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {trans('accountTransactionsOverview.removeLiquidity.type')}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={classnames(linkClassName, 'txoverview__market-description')}>\n                    {transaction.marketDescription}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.input, transaction.collateralToken.decimals)} {transaction.tokenName}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                \n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.output, transaction.collateralToken.decimals)} {transaction.collateralToken.tokenSymbol} {trans('accountTransactionsOverview.removeLiquidity.feesEarned')}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {prettyFormatDate(transaction.date)}\n                </Link>\n            </td>\n        </tr>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Transaction } from '../../../../models/Transaction';\nimport { prettyFormatDate } from '../../../../services/DateService';\nimport trans from '../../../../translation/trans';\n\ninterface Props {\n    transaction: Transaction;\n    className?: string;\n    href: any;\n    linkClassName?: string;\n}\n\nexport default function RedeemTransactionRow({\n    transaction,\n    href,\n    linkClassName,\n    className = '',\n}: Props) {\n    return (\n        <tr className={className}>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {trans('accountTransactionsOverview.redeem.type')}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={classnames(linkClassName, 'txoverview__market-description')}>\n                    {transaction.marketDescription}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.input, transaction.collateralToken.decimals)} {transaction.tokenName}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                \n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.output, transaction.collateralToken.decimals)} {transaction.collateralToken.tokenSymbol}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                   {prettyFormatDate(transaction.date)}\n                </Link>\n            </td>\n        </tr>\n    );\n}\n","import FluxSdk from '@fluxprotocol/amm-sdk';\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport { Transaction } from '../../../../models/Transaction';\nimport { prettyFormatDate } from '../../../../services/DateService';\nimport trans from '../../../../translation/trans';\n\ninterface Props {\n    transaction: Transaction;\n    className?: string;\n    href: any;\n    linkClassName?: string;\n}\n\nexport default function ClaimEarningsTransactionRow({\n    transaction,\n    href,\n    linkClassName,\n    className = '',\n}: Props) {\n    return (\n        <tr className={className}>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {trans('accountTransactionsOverview.claimEarnings.type')}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={classnames(linkClassName, 'txoverview__market-description')}>\n                    {transaction.marketDescription}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {FluxSdk.utils.formatToken(transaction.output, transaction.collateralToken.decimals)} {transaction.collateralToken.tokenSymbol}\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    &nbsp;\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    &nbsp;\n                </Link>\n            </td>\n            <td>\n                <Link to={href} className={linkClassName}>\n                    {prettyFormatDate(transaction.date)}\n                </Link>\n            </td>\n        </tr>\n    );\n}\n","import React from 'react';\nimport { FluxTransactionType } from '@fluxprotocol/amm-sdk';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport { Transaction } from '../../models/Transaction';\nimport trans from '../../translation/trans';\nimport AddLiquidityTransactionRow from './TransactionRows/AddLiquidityTransactionRow/AddLiquidityTransactionRow';\n\nimport s from './TransactionsOverview.module.scss';\nimport BuyTransactionRow from './TransactionRows/BuyTransactionRow/BuyTransactionRow';\nimport SellTransactionRow from './TransactionRows/SellTransactionRow/SellTransactionRow';\nimport RemoveLiquidityTransactionRow from './TransactionRows/RemoveLiquidityTransactionRow/RemoveLiquidityTransactionRow';\nimport RedeemTransactionRow from './TransactionRows/RedeemTransactionRow/RedeemTransactionRow';\nimport ClaimEarningsTransactionRow from './TransactionRows/ClaimEarningsTransactionRow/ClaimEarningsTransactionRow';\nimport { routePaths } from '../../routes';\n\ninterface Props {\n    transactions: Transaction[];\n    hasMoreTransactions: boolean;\n    onRequestMoreTransactions: () => void;\n}\n\nexport default function TransactionsOverview({\n    transactions,\n    hasMoreTransactions,\n    onRequestMoreTransactions,\n}: Props) {\n    return (\n        <div>\n            <header className={s.header}>\n                {trans('accountTransactionsOverview.title')}\n            </header>\n            <InfiniteScroll\n                dataLength={transactions.length}\n                next={onRequestMoreTransactions}\n                hasMore={hasMoreTransactions}\n                loader={<div />}\n            >\n                <div className={s.tableWrapper}>\n                    <table className={s.table}>\n                        <thead>\n                            <tr className={s.tableHeadRow}>\n                                <th>{trans('accountTransactionsOverview.table.type')}</th>\n                                <th>{trans('accountTransactionsOverview.table.market')}</th>\n                                <th>{trans('accountTransactionsOverview.table.details')}</th>\n                                <th />\n                                <th />\n                                <th>{trans('accountTransactionsOverview.table.date')}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {transactions.map((tx) => {\n                                const href = {\n                                    pathname: routePaths.marketDetail(tx.marketId),\n                                    state: {\n                                        canGoBack: true,\n                                    }\n                                };\n\n                                if (tx.type === FluxTransactionType.AddLiquidity) {\n                                    return <AddLiquidityTransactionRow href={href} transaction={tx} key={tx.id} className={s.tableRow} linkClassName={s.link} />\n                                } else if (tx.type === FluxTransactionType.Buy) {\n                                    return <BuyTransactionRow href={href} transaction={tx} key={tx.id} className={s.tableRow} linkClassName={s.link} />\n                                } else if (tx.type === FluxTransactionType.Sell) {\n                                    return <SellTransactionRow href={href} transaction={tx} key={tx.id} className={s.tableRow} linkClassName={s.link} />\n                                } else if (tx.type === FluxTransactionType.RemoveLiquidity) {\n                                    return <RemoveLiquidityTransactionRow href={href} transaction={tx} key={tx.id} className={s.tableRow} linkClassName={s.link} />\n                                } else if (tx.type === FluxTransactionType.Redeem) {\n                                    return <RedeemTransactionRow href={href} transaction={tx} key={tx.id} className={s.tableRow} linkClassName={s.link} />\n                                } else if (tx.type === FluxTransactionType.ClaimEarnings) {\n                                    return <ClaimEarningsTransactionRow href={href} transaction={tx} key={tx.id} className={s.tableRow} linkClassName={s.link} />\n                                }\n\n                                return null;\n                            })}\n                        </tbody>\n                    </table>\n                </div>\n            </InfiniteScroll>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport TransactionsOverview from '../../containers/TransactionsOverview';\nimport { loadAccountTransactions } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\n\nexport default function AccountTransactionsConnector() {\n    const dispatch = useDispatch();\n    const accountId = useSelector((store: Reducers) => store.account.account?.accountId);\n    const accountTransactionsTotal = useSelector((store: Reducers) => store.account.accountTransactions.total);\n    const accountTransactions = useSelector((store: Reducers) => store.account.accountTransactions.transactions);\n\n    useEffect(() => {\n        if (!accountId) return;\n\n        dispatch(loadAccountTransactions(accountId, true));\n    }, [dispatch, accountId]);\n\n    const handleRequestMoreTransactions = useCallback(() => {\n        if (!accountId) return;\n\n        dispatch(loadAccountTransactions(accountId));\n    }, [dispatch, accountId]);\n\n    return (\n        <TransactionsOverview\n            transactions={accountTransactions}\n            hasMoreTransactions={accountTransactionsTotal > accountTransactions.length}\n            onRequestMoreTransactions={handleRequestMoreTransactions}\n        />\n    );\n}\n","import React from 'react';\nimport AccountTransactionsConnector from '../../../../connectors/AccountTransactionsConnector';\n\nexport default function TransactionsOverviewPage() {\n\n    return (\n        <section>\n            <AccountTransactionsConnector />\n        </section>\n    );\n}\n","import React from 'react';\n\nimport classnames from 'classnames';\n\nimport trans from '../../translation/trans';\nimport { Link } from 'react-router-dom';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport { routePaths } from '../../routes';\nimport s from './EscrowStatusOverview.module.scss';\nimport { EscrowStatus } from '../../models/EscrowStatus';\n\n\ninterface Props {\n    escrowStatus: EscrowStatus[];\n    className?: string;\n}\n\nexport default function EscrowStatusOverview({\n    escrowStatus,\n    className = '',\n}: Props) {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('escrowStatus.title')}\n            </header>\n            <div className={s.tableWrapper}>\n                <table className={s.table}>\n                    <thead className={s.tableHead}>\n                        <tr className={s.tableHeadRow}>\n                            <th>{trans('escrowStatus.table.market')}</th>\n                            <th>{trans('escrowStatus.table.amount')}</th>\n                            <th>{trans('escrowStatus.table.payoutState')}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {/** Filters out any pool tokens */}\n                        {escrowStatus.map((info) => {\n                            const href = {\n                                pathname: routePaths.marketDetail(info.marketId),\n                                state: {\n                                    canGoBack: true,\n                                }\n                            };\n\n                            return (\n                                <tr className={s.tableRow} key={`${info.marketId}_${info.type}`}>\n                                    <td className={s.marketDescriptionCell}>\n                                        <Link to={href} className={classnames(s.link, s.marketDescription)}>\n                                            {info.marketDescription}\n                                        </Link>\n                                    </td>\n                                    <td >\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(info.totalAmount, info.collateralToken.decimals)} {info.collateralToken.symbol}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {info.type === \"invalid_escrow\" ? trans('escrowStatus.table.invalid') : trans('escrowStatus.table.valid')}\n                                        </Link>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    );\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EscrowStatusOverview from '../../containers/EscrowStatusOverview';\nimport { getEscrowStatus } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function EscrowOwerviewConnector({\n    className,\n}: Props) {\n    const dispatch = useDispatch();\n    const escrowStatus = useSelector((store: Reducers) => store.account.escrowStatus);\n    const accountId = useSelector((store: Reducers) => store.account.account?.accountId);\n\n    useEffect(() => {\n        if (accountId) {\n            dispatch(getEscrowStatus(accountId))\n        }\n    }, [accountId]);\n\n    return (\n        <EscrowStatusOverview escrowStatus={escrowStatus} className={className} />\n    );\n}\n","import React, { ReactElement } from 'react';\nimport { Link } from 'react-router-dom';\nimport classnames from 'classnames';\n\nimport { PoolToken } from '../../models/PoolToken';\nimport { routePaths } from '../../routes';\nimport trans from '../../translation/trans';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\n\nimport s from './FeesEarnedOverview.module.scss';\n\ninterface Props {\n    poolTokens: PoolToken[];\n    className?: string;\n}\n\nexport default function FeesEarnedOverview({\n    poolTokens,\n    className,\n}: Props): ReactElement {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('feesEarned.title')}\n            </header>\n            <div className={s.tableWrapper}>\n\n                <table className={s.table}>\n                    <thead className={s.tableHead}>\n                        <tr className={s.tableHeadRow}>\n                            <th>{trans('feesEarned.table.market')}</th>\n                            <th>{trans('feesEarned.table.balance')}</th>\n                            <th>{trans('feesEarned.table.feesEarned')}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {poolTokens.map((poolToken) => {\n                            const href = {\n                                pathname: routePaths.marketDetail(poolToken.marketId),\n                                state: {\n                                    canGoBack: true,\n                                }\n                            };\n\n                            return (\n                                <tr className={s.tableRow} key={`${poolToken.marketId}_${poolToken.outcomeId}`}>\n                                    <td className={s.descriptionCell}>\n                                        <Link to={href} className={classnames(s.link, s.description)}>\n                                            {poolToken.marketDescription}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(poolToken.balance, poolToken.collateralTokenDecimals)}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(poolToken.fees, poolToken.collateralTokenDecimals)}\n                                        </Link>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport FeesEarnedOverview from '../../containers/FeesEarnedOverview';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function FeesEarnedOverviewConnector({\n    className,\n}: Props) {\n    const poolTokens = useSelector((store: Reducers) => store.account.poolTokens);\n\n    return <FeesEarnedOverview poolTokens={poolTokens} className={className} />\n}\n","import React from 'react';\n\nimport classnames from 'classnames';\n\nimport { UserBalance } from '../../models/UserBalance';\nimport trans from '../../translation/trans';\nimport { Link } from 'react-router-dom';\nimport { formatCollateralToken } from '../../services/CollateralTokenService';\nimport { routePaths } from '../../routes';\nimport s from './UserBalancesOverview.module.scss';\nimport Big from 'big.js';\nimport { DUST_AMOUNT } from '../../config';\n\ninterface Props {\n    balances: UserBalance[];\n    className?: string;\n}\n\nexport default function UserBalancesOverview({\n    balances,\n    className = '',\n}: Props) {\n    return (\n        <section className={classnames(s.root, className)}>\n            <header className={s.header}>\n                {trans('userbalances.title')}\n            </header>\n            <div className={s.tableWrapper}>\n                <table className={s.table}>\n                    <thead className={s.tableHead}>\n                        <tr className={s.tableHeadRow}>\n                            <th>{trans('userbalances.table.market')}</th>\n                            <th>{trans('userbalances.table.outcome')}</th>\n                            <th>{trans('userbalances.table.balance')}</th>\n                            <th>{trans('userbalances.table.price')}</th>\n                            <th>{trans('userbalances.table.spent')}</th>\n                            <th>{trans('userbalances.table.profit')}</th>\n                            <th>{trans('userbalances.table.status')}</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {/** Filters out any pool tokens */}\n                        {balances.filter(balance => balance.outcomeTag && new Big(balance.balance).gt(DUST_AMOUNT)).map((info) => {\n                            const href = {\n                                pathname: routePaths.marketDetail(info.marketId),\n                                state: {\n                                    canGoBack: true,\n                                }\n                            };\n\n                            const profitLinkClassName = classnames(s.link, {\n                                [s.link__green]: info.profitPercentage.gt(\"0\"),\n                                [s.link__red]: info.profitPercentage.lt(\"0\")\n                            });\n\n                            return (\n                                <tr className={s.tableRow} key={`${info.marketId}_${info.outcomeId}`}>\n                                    <td className={s.marketDescriptionCell}>\n                                        <Link to={href} className={classnames(s.link, s.marketDescription)}>\n                                            {info.marketDescription}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {info.outcomeTag}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(info.balance, info.collateralTokenMetadata.decimals)}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {`${info.avgPaidPrice.round(2).toString()} ${info.collateralTokenMetadata.symbol}`}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {formatCollateralToken(info.spent, info.collateralTokenMetadata.decimals)} {info.collateralTokenMetadata.symbol}\n                                        </Link>\n                                    </td>\n                                    <td >\n                                        <Link to={href} className={profitLinkClassName}>\n                                            {`${info.profitPercentage.toString()}%`}\n                                        </Link>\n                                    </td>\n                                    <td>\n                                        <Link to={href} className={s.link}>\n                                            {info.marketStatus}\n                                        </Link>\n                                    </td>\n                                </tr>\n                            );\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        </section>\n    );\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport UserBalancesOverview from '../../containers/UserBalancesOverview';\nimport { Reducers } from '../../redux/reducers';\n\ninterface Props {\n    className?: string;\n}\n\nexport default function UserBalancesOverviewConnector({\n    className,\n}: Props) {\n    const balances = useSelector((store: Reducers) => store.account.balances);\n\n    return (\n        <UserBalancesOverview balances={balances} className={className} />\n    );\n}","import React from 'react';\nimport EscrowOverviewConnector from '../../../../connectors/EscrowOverviewConnector';\nimport FeesEarnedOverviewConnector from '../../../../connectors/FeesEarnedOverviewConnector';\nimport UserBalancesOverviewConnector from '../../../../connectors/UserBalancesOverviewConnector';\n\nimport s from './BalancesOverviewPage.module.scss';\n\nexport default function BalancesOverviewPage() {\n    return (\n        <section>\n            <UserBalancesOverviewConnector className={s.userBalances} />\n            <FeesEarnedOverviewConnector className={s.feesEarned} />\n            <EscrowOverviewConnector className={s.feesEarned} />\n        </section>\n    );\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { Link } from 'react-router-dom';\n\nimport { ParticipatedMarket } from '../../models/ParticipatedMarket';\nimport { routePaths } from '../../routes';\nimport { prettyFormatDate } from '../../services/DateService';\nimport trans from '../../translation/trans';\n\nimport s from './ParticipatedMarketsOverview.module.scss';\n\ninterface Props {\n    participatedMarkets: ParticipatedMarket[];\n    hasMoreMarkets: boolean;\n    onRequestMoreMarkets: () => void;\n}\n\nexport default function ParticipatedMarketsOverview({\n    participatedMarkets,\n    hasMoreMarkets,\n    onRequestMoreMarkets,\n}: Props) {\n    return (\n        <div>\n            <header className={s.header}>\n                {trans('participatedMarketsOverview.title')}\n            </header>\n            <InfiniteScroll\n                dataLength={participatedMarkets.length}\n                next={onRequestMoreMarkets}\n                hasMore={hasMoreMarkets}\n                loader={<div />}\n            >\n                <div className={s.tableWrapper}>\n                    <table className={s.table}>\n                        <thead>\n                            <tr className={s.tableHeadRow}>\n                                <th>{trans('participatedMarketsOverview.table.description')}</th>\n                                <th>{trans('participatedMarketsOverview.table.status')}</th>\n                                <th>{trans('participatedMarketsOverview.table.date')}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {participatedMarkets.map((item) => {\n                                const href = {\n                                    pathname: routePaths.marketDetail(item.marketId),\n                                    state: {\n                                        canGoBack: true,\n                                    }\n                                };\n\n                                return (\n                                    <tr className={s.tableRow} key={item.marketId}>\n                                        <td>\n                                            <Link to={href} className={classnames(s.link, s.marketDescription)}>\n                                                {item.marketDescription}\n                                            </Link>\n                                        </td>\n                                        <td>\n                                            <Link to={href} className={s.link}>\n                                                {item.marketStatus}\n                                            </Link>\n                                        </td>\n                                        <td>\n                                            <Link to={href} className={s.link}>\n                                                {prettyFormatDate(item.participated_date)}\n                                            </Link>\n                                        </td>\n                                    </tr>\n                                );\n                            })}\n                        </tbody>\n                    </table>\n                </div>\n            </InfiniteScroll>\n        </div>\n    )\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ParticipatedMarketsOverview from '../../containers/ParticipatedMarketsOverview';\nimport { loadAccountParticipatedMarkets } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\n\nexport default function ParticipatedMarketsConnector() {\n    const dispatch = useDispatch();\n    const accountId = useSelector((store: Reducers) => store.account.account?.accountId);\n    const total = useSelector((store: Reducers) => store.account.accountParticipatedMarkets.total);\n    const participatedMarkets = useSelector((store: Reducers) => store.account.accountParticipatedMarkets.participatedMarkets);\n\n    useEffect(() => {\n        if (!accountId) return;\n\n        dispatch(loadAccountParticipatedMarkets(accountId, true));\n    }, [dispatch, accountId]);\n\n    const handleRequestMoreMarkets = useCallback(() => {\n        if (!accountId) return;\n\n        dispatch(loadAccountParticipatedMarkets(accountId));\n    }, [dispatch, accountId]);\n\n\n    return (\n        <ParticipatedMarketsOverview\n            participatedMarkets={participatedMarkets}\n            hasMoreMarkets={total > participatedMarkets.length}\n            onRequestMoreMarkets={handleRequestMoreMarkets}\n        />\n    );\n}\n","import React from 'react';\nimport ParticipatedMarketsConnector from '../../../../connectors/ParticipatedMarketsConnector';\n\nexport default function ParticipatedMarketsOverviewPage() {\n\n    return (\n        <section>\n            <ParticipatedMarketsConnector />\n        </section>\n    );\n}\n","import * as Router from 'react-router';\nimport HomePage from './pages/HomePage';\nimport MarketPage from './pages/MarketPage';\nimport ProfilePage from './pages/ProfilePage';\n\ninterface RouteProps extends Router.RouteProps {\n    inNavigation: boolean;\n    key: string;\n    label: string;\n    icon?: string;\n}\n\nexport const routePaths = {\n    root: () => '/',\n    profile: () => '/profile',\n    profileTransactions: () => '/profile/transactions',\n    profileParticipated: () => '/profile/participated',\n    resoluted: () => '/resoluted',\n    pending: () => '/pending',\n    marketDetail: (marketId = ':marketId') => `/markets/${marketId}`,\n}\n\nexport const routes: RouteProps[] = [\n    {\n        component: MarketPage,\n        exact: true,\n        inNavigation: false,\n        key: 'market',\n        label: 'Market',\n        path: routePaths.marketDetail(),\n    },\n    {\n        component: ProfilePage,\n        exact: false,\n        inNavigation: false,\n        key: 'home',\n        label: 'Home',\n        path: routePaths.profile(),\n    },\n    {\n        component: HomePage,\n        exact: false,\n        inNavigation: false,\n        key: 'home',\n        label: 'Home',\n        path: routePaths.root(),\n    },\n];\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { Helmet } from 'react-helmet';\n\nimport MarketHeaderConnector from '../../connectors/MarketHeaderConnector';\nimport MarketResolutionInfoConenctor from '../../connectors/MarketResolutionInfoConnector';\nimport MarketStatisticsConnector from '../../connectors/MarketStatisticsConnector';\nimport TokenSwapperConnector from '../../connectors/TokenSwapperConnector';\nimport Page from '../../containers/Page';\nimport { loadMarket } from '../../redux/market/marketActions';\nimport trans from '../../translation/trans';\nimport ActionsCard from '../../components/ActionsCard';\nimport TabbedView from '../../containers/TabbedViews';\nimport LiquidityProviderConnector from '../../connectors/LiquidityProviderConnector';\nimport { Reducers } from '../../redux/reducers';\nimport ClaimEarningsConnector from '../../connectors/ClaimEarningsConnector';\nimport SeedPoolConnector from '../../connectors/SeedPoolConnector';\nimport MarketClosed from '../../containers/MarketClosed';\nimport ExitPoolConnector from '../../connectors/ExitPoolConnector';\nimport NotLoggedInConnector from '../../connectors/NotLoggedInConnector';\nimport { setMarketDetail } from '../../redux/market/market';\nimport NoBalanceCardConnector from '../../connectors/NoBalanceCardConnector';\nimport { isEligibleForRedeeming } from '../../services/MarketService';\nimport RedeemConnector from '../../connectors/RedeemConnector';\nimport NotInWhitelistCard from '../../containers/NotInWhitelistCard';\nimport { MarketType } from '../../models/Market';\nimport SeedScalarMarketConnector from '../../connectors/SeedScalarMarketConnector';\nimport MarketCommentsConnector from '../../connectors/MarketCommentsConnector';\n\nimport s from './MarketPage.module.scss';\nimport NoBalanceDialogconnector from '../../connectors/NoBalanceDialogConnector';\n\ninterface RouterParams {\n    marketId: string;\n}\n\nexport default function MarketPage() {\n    const dispatch = useDispatch();\n    const account = useSelector((store: Reducers) => store.account.account);\n    const accountLoading = useSelector((store: Reducers) => store.account.loading);\n    const market = useSelector((store: Reducers) => store.market.marketDetail);\n    const poolToken = useSelector((store: Reducers) => store.market.poolTokenBalance);\n    const { marketId } = useParams<RouterParams>();\n\n    const hasMarketLiquidity = market?.poolTokenInfo.totalSupply !== '0';\n    const isExpired = market?.resolutionDate ? market.resolutionDate <= new Date() : false;\n    const canRedeem = isEligibleForRedeeming(market?.outcomeTokens || []);\n\n    useEffect(() => {\n        dispatch(loadMarket(marketId));\n\n        return () => {\n            dispatch(setMarketDetail(undefined));\n        }\n    }, [dispatch, marketId]);\n\n    return (\n        <Page hasNavigation size=\"unrestricted\" className={s.root}>\n            <NoBalanceDialogconnector />\n            <Helmet>\n                <title>\n                    {trans('market.title.head', {\n                        appName: trans('global.appName'),\n                        description: market?.description || '',\n                    })}\n                </title>\n            </Helmet>\n            <MarketHeaderConnector />\n            <div className={s.details}>\n                <div className={s.infoWrapper}>\n                    <MarketStatisticsConnector className={s.stats} />\n                    <MarketResolutionInfoConenctor />\n                </div>\n                <div className={s.actionsWrapper}>\n                    {account?.canUseApp && (<NoBalanceCardConnector />)}\n                    <ActionsCard>\n                        <TabbedView\n                            items={[{\n                                element: <TokenSwapperConnector />,\n                                label: trans('market.label.swap'),\n                                show: account !== null && market?.finalized === false && !isExpired && hasMarketLiquidity && account.canUseApp,\n                                id: '0',\n                            }, {\n                                element: <LiquidityProviderConnector />,\n                                label: trans('market.label.liquidity'),\n                                show: account !== null && market?.finalized === false && !isExpired && hasMarketLiquidity && account.canUseApp,\n                                id: '1',\n                            }, {\n                                element: <ClaimEarningsConnector />,\n                                label: trans('market.label.claimEarnings'),\n                                show: account !== null && market?.finalized === true && account.canUseApp,\n                                id: '2',\n                            }, {\n                                element: <SeedPoolConnector />,\n                                label: trans('market.label.seedPool'),\n                                show: account !== null && market?.type !== MarketType.Scalar && market?.finalized === false && !isExpired && !hasMarketLiquidity && account.canUseApp,\n                                id: '3',\n                            }, {\n                                element: <MarketClosed />,\n                                label: trans('market.label.marketClosed'),\n                                show: market?.finalized === false && isExpired,\n                                id: '4',\n                            }, {\n                                element: <ExitPoolConnector />,\n                                label: trans('market.label.exitPool'),\n                                show: account !== null && hasMarketLiquidity && !!poolToken && !isExpired && account.canUseApp,\n                                id: '5',\n                            }, {\n                                element: <NotLoggedInConnector />,\n                                label: trans('market.label.notLoggedIn'),\n                                show: !accountLoading && account === null,\n                                id: '6',\n                            }, {\n                                element: <RedeemConnector />,\n                                label: trans('market.label.redeem'),\n                                show: account !== null && market?.finalized === false && canRedeem && account.canUseApp,\n                                id: '7',\n                            }, {\n                                element: <SeedScalarMarketConnector />,\n                                label: trans('market.label.seedPool'),\n                                show: account !== null && market?.type === MarketType.Scalar && market?.finalized === false && !isExpired && !hasMarketLiquidity,\n                                id: '8',\n                            }, {\n                                element: <NotInWhitelistCard />,\n                                label: trans('market.label.notInWhitelist'),\n                                show: account !== null && !account.canUseApp,\n                                id: '9',\n                            }]}\n                        />\n                    </ActionsCard>\n                </div>\n            </div>\n            <div className={s.comments}>\n                <h2>{trans('global.comments')}</h2>\n                <MarketCommentsConnector />\n            </div>\n        </Page>\n    );\n}\n","import React, { ReactElement, useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useHistory, useLocation } from 'react-router';\nimport { useMediaQuery } from '@material-ui/core';\nimport { TabBarItem } from '../../containers/TabBar/TabBar';\nimport Page from '../../containers/Page';\nimport { loadAccountBalanceInfo } from '../../redux/account/accountActions';\nimport { Reducers } from '../../redux/reducers';\nimport { routePaths } from '../../routes';\nimport TransactionsOverviewPage from './sub-pages/TransactionsOverviewPage/TransactionsOverviewPage';\nimport BalancesOverviewPage from './sub-pages/BalancesOverviewPage/BalancesOverviewPage';\nimport TabBar from '../../containers/TabBar';\nimport trans from '../../translation/trans';\n\nimport s from './ProfilePage.module.scss';\nimport ParticipatedMarketsOverviewPage from './sub-pages/ParticipatedMarketsOverviewPage/ParticipatedMarketsOverviewPage';\n\n\nexport default function ProfilePage(): ReactElement {\n    const dispatch = useDispatch();\n    const isLargeScreen = useMediaQuery('(min-width: 1024px)');\n    const history = useHistory();\n    const location = useLocation();\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    const onTabClick = useCallback((item: TabBarItem) => {\n        history.push(item.id);\n    }, [history]);\n\n    useEffect(() => {\n        if (!account) return;\n        dispatch(loadAccountBalanceInfo(account.accountId));\n    }, [dispatch, account]);\n\n    return (\n        <Page className={s.root} bodyClassName={s.pageBody} size=\"large\">\n            <TabBar\n                className={s.tabBar}\n                activeId={location.pathname}\n                onTabClick={onTabClick}\n                variant={isLargeScreen ? 'standard' : 'fullWidth'}\n                items={[{\n                    id: routePaths.profile(),\n                    label: trans('pages.profileStatus'),\n                    show: true,\n                }, {\n                    id: routePaths.profileParticipated(),\n                    label: trans('pages.profileParticipated'),\n                    show: true,\n                }, {\n                    id: routePaths.profileTransactions(),\n                    label: trans('pages.profileTransactions'),\n                    show: true,\n                }]}\n            />\n            <Switch>\n                <Route exact path={routePaths.profile()} component={BalancesOverviewPage} />\n                <Route exact path={routePaths.profileTransactions()} component={TransactionsOverviewPage} />\n                <Route exact path={routePaths.profileParticipated()} component={ParticipatedMarketsOverviewPage} />\n            </Switch>\n        </Page>\n    );\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Reducers } from '../../redux/reducers';\nimport { Route, Switch, useHistory, useLocation } from 'react-router';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport { loadAccountBalancesSummary } from '../../redux/account/accountActions';\n\nimport BackgroundWave from '../../components/BackgroundWave';\nimport TabBar from '../../containers/TabBar';\nimport Page from '../../containers/Page';\nimport { routePaths } from '../../routes';\nimport trans from '../../translation/trans';\nimport ResolutionPage from './sub-pages/ResolutionPage';\nimport { TabBarItem } from '../../containers/TabBar/TabBar';\nimport MarketsOverviewPage from './sub-pages/MarketsOverviewPage';\nimport MarketCreationDialogConnector from '../../connectors/MarketCreationDialogConnector';\n\nimport s from './HomePage.module.scss';\nimport HomeHeaderConnector from '../../connectors/HomeHeaderConnector';\nimport PendingPage from './sub-pages/PendingPage';\n\n\nexport default function HomePage() {\n    const dispatch = useDispatch();\n    const isLargeScreen = useMediaQuery('(min-width: 1024px)');\n    const history = useHistory();\n    const location = useLocation();\n    const account = useSelector((store: Reducers) => store.account.account);\n\n    const onTabClick = useCallback((item: TabBarItem) => {\n        history.push(item.id);\n    }, [history]);\n\n    useEffect(() => {\n        if (!account) return;\n        dispatch(loadAccountBalancesSummary(account.accountId));\n    }, [dispatch, account]);\n\n    return (\n        <Page className={s.homePage} bodyClassName={s.homePageBody} size=\"large\" hasNavigation>\n            <BackgroundWave />\n            <HomeHeaderConnector />\n            <TabBar\n                className={s.tabBar}\n                activeId={location.pathname}\n                onTabClick={onTabClick}\n                variant={isLargeScreen ? 'standard' : 'fullWidth'}\n                items={[{\n                    id: routePaths.root(),\n                    label: trans('pages.marketOverview'),\n                    show: true,\n                }, {\n                    id: routePaths.pending(),\n                    label: trans('pages.pendingOverview'),\n                    show: true,\n                }, {\n                    id: routePaths.resoluted(),\n                    label: trans('pages.resoluteOverview'),\n                    show: true,\n                }]}\n            />\n            <MarketCreationDialogConnector />\n            <Switch>\n                <Route exact path={routePaths.root()} component={MarketsOverviewPage} />\n                <Route exact path={routePaths.resoluted()} component={ResolutionPage} />\n                <Route exact path={routePaths.pending()} component={PendingPage} />\n            </Switch>\n        </Page>\n    );\n}\n","import React, { ReactElement } from 'react';\n\nimport { Route, Switch } from 'react-router';\n\nimport { routes } from './routes';\n\nfunction App(): ReactElement {\n    return (\n        <Switch>\n            {routes.map((route): ReactElement => <Route {...route} key={route.key} />)}\n        </Switch>\n    );\n};\n\nexport default App;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { Pool } from '../../models/Pool';\n\nexport type PoolState = Readonly<{\n    pools: Pool[];\n    poolError?: string[];\n    poolLoading: boolean;\n}>;\n\nconst initialState: PoolState = {\n    poolLoading: false,\n    pools: [],\n};\n\nconst poolsSlice = createSlice({\n    initialState,\n    name: 'pools',\n    reducers: {\n        setPoolErrors(state: PoolState, action: PayloadAction<string[]>): PoolState {\n            return ({\n                ...state,\n                poolError: action.payload,\n            });\n        },\n        setPoolLoading(state: PoolState, action: PayloadAction<boolean>): PoolState {\n            return ({\n                ...state,\n                poolLoading: action.payload,\n            });\n        },\n        setPools(state: PoolState, action: PayloadAction<Pool[]>): PoolState {\n            return ({\n                ...state,\n                pools: action.payload,\n            });\n        },\n    },\n});\n\nexport const {\n    setPoolErrors,\n    setPoolLoading,\n    setPools,\n} = poolsSlice.actions;\n\nexport default poolsSlice.reducer;\n","import { combineReducers } from 'redux';\n\nimport pools, { PoolState } from './pools/pools';\nimport market, { MarketState } from './market/market';\nimport priceHistory, { PriceHistoryState } from './priceHistory/priceHistory';\nimport dialogs, { DialogsState } from './dialogs/dialogs';\nimport account, { AccountState } from './account/account';\n\nexport interface Reducers {\n    pools: PoolState;\n    market: MarketState;\n    priceHistory: PriceHistoryState;\n    dialogs: DialogsState;\n    account: AccountState;\n}\n\nexport default combineReducers<Reducers>({\n    account,\n    pools,\n    market,\n    priceHistory,\n    dialogs,\n});\n","import {\n    applyMiddleware,\n    CombinedState,\n    createStore,\n    Store,\n    StoreEnhancer,\n} from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nimport reducers, { Reducers } from './reducers';\n\nconst createEnhancer = (): StoreEnhancer => (process.env.REACT_APP_APP_ENV !== 'production'\n    ? composeWithDevTools(applyMiddleware(thunk))\n    : applyMiddleware(thunk)\n);\n\nexport default function configureStore(preloadedState: Record<string, any> = {}): Store<CombinedState<Reducers>> {\n    const enhancer = createEnhancer();\n    return createStore(reducers, preloadedState, enhancer);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport { StylesProvider } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport App from './App';\nimport configureStore from './redux/store';\nimport packageJson from '../package.json';\n\nimport './styles/global.module.scss';\n\nconst store = configureStore({});\nReactDOM.render(\n    <Provider store={store}>\n        <HashRouter basename={process.env.REACT_APP_NETWORK === \"mainnet\" ? \"/\" : \"/beta\"} hashType=\"hashbang\">\n            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <StylesProvider injectFirst>\n                    <App />\n                </StylesProvider>\n            </MuiPickersUtilsProvider>\n        </HashRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n\nconsole.log(` Running Pulse v${packageJson.version}`);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-select\":\"TokenSelect_token-select__27VH9\",\"token-select__info\":\"TokenSelect_token-select__info__9n_YI\",\"token-select__token-icon\":\"TokenSelect_token-select__token-icon__29BF7\",\"token-select__inputs\":\"TokenSelect_token-select__inputs__odDi4\",\"token-select__inputs-info\":\"TokenSelect_token-select__inputs-info__3KZ0Q\",\"token-select__token-name\":\"TokenSelect_token-select__token-name__25V3B\",\"token-select__input\":\"TokenSelect_token-select__input__2V0Jg\",\"price\":\"TokenSelect_price__jCfUr\",\"price--symbol-right\":\"TokenSelect_price--symbol-right__1le8k\",\"priceSymbol\":\"TokenSelect_priceSymbol__2o40N\",\"changePairButton\":\"TokenSelect_changePairButton__3NfkS\",\"priceChangeWrapper\":\"TokenSelect_priceChangeWrapper__2Wjqy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"CategoricalOpinionCard_title__3RoCx\",\"token-weight-bar\":\"CategoricalOpinionCard_token-weight-bar__2qrzI\",\"volumeWrapper\":\"CategoricalOpinionCard_volumeWrapper__2v-uy\",\"outcomes-wrapper\":\"CategoricalOpinionCard_outcomes-wrapper__2XiKh\",\"outcome\":\"CategoricalOpinionCard_outcome__Kz1UD\",\"outcome-label-wrapper\":\"CategoricalOpinionCard_outcome-label-wrapper__22gEF\",\"colorLabel\":\"CategoricalOpinionCard_colorLabel__3rFGw\",\"tokenName\":\"CategoricalOpinionCard_tokenName__1rcEL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"EscrowStatusOverview_root__3qpgv\",\"header\":\"EscrowStatusOverview_header__20_eL\",\"tableWrapper\":\"EscrowStatusOverview_tableWrapper__3kogI\",\"table\":\"EscrowStatusOverview_table__2RoH3\",\"tableHeadRow\":\"EscrowStatusOverview_tableHeadRow__w-mJO\",\"tableRow\":\"EscrowStatusOverview_tableRow__1j1VL\",\"link\":\"EscrowStatusOverview_link__1R_Lo\",\"link__green\":\"EscrowStatusOverview_link__green__26GNl\",\"link__red\":\"EscrowStatusOverview_link__red__3Etjw\",\"marketDescriptionCell\":\"EscrowStatusOverview_marketDescriptionCell__DOYw-\",\"marketDescription\":\"EscrowStatusOverview_marketDescription__3BN-s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FeesEarnedOverview_root__1jp6H\",\"header\":\"FeesEarnedOverview_header__2dL1Y\",\"tableWrapper\":\"FeesEarnedOverview_tableWrapper__3sm_K\",\"table\":\"FeesEarnedOverview_table__8FrdZ\",\"tableHeadRow\":\"FeesEarnedOverview_tableHeadRow__1pB3N\",\"tableRow\":\"FeesEarnedOverview_tableRow__1ANv1\",\"link\":\"FeesEarnedOverview_link__HVlWT\",\"descriptionCell\":\"FeesEarnedOverview_descriptionCell__DLQ03\",\"description\":\"FeesEarnedOverview_description__3sY7t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-dropdown\":\"TokenDropdown_token-dropdown__3e5w-\",\"token-dropdown__fake-top\":\"TokenDropdown_token-dropdown__fake-top__1JOt5\",\"token-dropdown__balance\":\"TokenDropdown_token-dropdown__balance__3p3cW\",\"token-dropdown__tokens\":\"TokenDropdown_token-dropdown__tokens__1Nca2\",\"token-dropdown__token\":\"TokenDropdown_token-dropdown__token__2PGWR\",\"token-dropdown__token-info\":\"TokenDropdown_token-dropdown__token-info__SPch6\",\"token-dropdown__token-icon\":\"TokenDropdown_token-dropdown__token-icon__P6DUY\",\"token-dropdown__token-balance\":\"TokenDropdown_token-dropdown__token-balance__3oRns\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MarketOverview_root__3Omus\",\"filters\":\"MarketOverview_filters__2uQkg\",\"filter\":\"MarketOverview_filter__15PLr\",\"market\":\"MarketOverview_market__1-Nmd\",\"markets\":\"MarketOverview_markets__3zaEa\",\"skeleton\":\"MarketOverview_skeleton__23k8G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ParticipatedMarketsOverview_header__2JLKk\",\"tableWrapper\":\"ParticipatedMarketsOverview_tableWrapper__DH3E5\",\"table\":\"ParticipatedMarketsOverview_table__3xVHg\",\"tableHeadRow\":\"ParticipatedMarketsOverview_tableHeadRow__QZO-m\",\"tableRow\":\"ParticipatedMarketsOverview_tableRow__24kP-\",\"link\":\"ParticipatedMarketsOverview_link__2PRLn\",\"marketDescription\":\"ParticipatedMarketsOverview_marketDescription__-8pOy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__2sZJU\",\"menu__items\":\"Menu_menu__items__2AaF-\",\"menu__item\":\"Menu_menu__item__qQ9mN\",\"menu__logoWrapper\":\"Menu_menu__logoWrapper__14j3N\",\"menu__logo\":\"Menu_menu__logo__1uT-0\",\"menu__last-item\":\"Menu_menu__last-item__3rQBd\",\"wNearBalance\":\"Menu_wNearBalance__3GwGI\",\"accountName\":\"Menu_accountName__2Fvj2\",\"divider\":\"Menu_divider__4w6ii\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Tag_root__1xt2a\",\"root--active\":\"Tag_root--active__2Slzj\",\"cardImage\":\"Tag_cardImage__1Pkjq\",\"icon\":\"Tag_icon__WN_Jd\",\"title\":\"Tag_title__3v0LT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HomeHeader_root__2i5k9\",\"titleWrapper\":\"HomeHeader_titleWrapper__3rfhA\",\"title\":\"HomeHeader_title__3isjk\",\"subTitle\":\"HomeHeader_subTitle__3F-zR\",\"right\":\"HomeHeader_right__3Km5a\",\"stats\":\"HomeHeader_stats__15kGJ\",\"link__green\":\"HomeHeader_link__green__4hn6s\",\"link__red\":\"HomeHeader_link__red__2K4zE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ScalarOpinionCard_title__1s6iD\",\"rangeWrapper\":\"ScalarOpinionCard_rangeWrapper__1_joP\",\"estimateWrapper\":\"ScalarOpinionCard_estimateWrapper__3Vqje\",\"volumeWrapper\":\"ScalarOpinionCard_volumeWrapper__1fSmc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"token-swapper\":\"TokenSwapper_token-swapper__2wj13\",\"token-swapper__confirm\":\"TokenSwapper_token-swapper__confirm__2yAvV\",\"token-swapper__switch-tokens\":\"TokenSwapper_token-swapper__switch-tokens__3Ltrn\",\"tokenHeader\":\"TokenSwapper_tokenHeader__3G1KB\",\"balanceButton\":\"TokenSwapper_balanceButton__WXZ3p\",\"noMargin\":\"TokenSwapper_noMargin__RYFwE\",\"receiveInputs\":\"TokenSwapper_receiveInputs__2Klgk\",\"newEstimateWrapper\":\"TokenSwapper_newEstimateWrapper__gRNwf\",\"newEstimateText\":\"TokenSwapper_newEstimateText__3KqTG\",\"swapIcon\":\"TokenSwapper_swapIcon__2OHGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Footer_root__2znoy\",\"wrapper\":\"Footer_wrapper__1UYZo\",\"logo\":\"Footer_logo__1GRAA\",\"social\":\"Footer_social__2FqgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paper\":\"Dialog_paper__XrzDE\",\"title\":\"Dialog_title__2o5jO\",\"content\":\"Dialog_content__2Ebv9\",\"cancelButton\":\"Dialog_cancelButton__3SRaV\",\"confirmButton\":\"Dialog_confirmButton__OGdmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchTokens\":\"WrapNearDialog_switchTokens__13uxY\",\"token\":\"WrapNearDialog_token__1hQbG\",\"balanceButton\":\"WrapNearDialog_balanceButton__3xppy\",\"tokenHeader\":\"WrapNearDialog_tokenHeader__1_FD4\",\"noMargin\":\"WrapNearDialog_noMargin__ZuD-o\",\"depositButtons\":\"WrapNearDialog_depositButtons__3PdKY\",\"depositCancelButton\":\"WrapNearDialog_depositCancelButton__15brw\",\"swapIcon\":\"WrapNearDialog_swapIcon__agZsF\"};"],"sourceRoot":""}